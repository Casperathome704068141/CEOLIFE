{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/api/pulse/sports/route.ts"],"sourcesContent":["\nimport { addDays, addHours, formatISO, isAfter, isBefore, parseISO, startOfDay } from \"date-fns\";\nimport { NextRequest } from \"next/server\";\nimport { Game } from \"@/lib/pulse/types\";\n\nconst now = new Date();\n\nfunction createGame(partial: Partial<Game> & { id: string; league: string }) {\n  const baseStart = partial.start ? parseISO(partial.start) : addHours(startOfDay(now), 8);\n  const start = formatISO(baseStart);\n  return {\n    oddsRef: `${partial.id}-odds`,\n    venueCountry: \"USA\",\n    winProb: 0.52,\n    injuries: [\"Day-to-day: Star PG (ankle)\", \"Questionable: Forward (illness)\"],\n    recentMeetings: [\n      { when: \"2024-11-02\", result: \"HOME 112 - 108\" },\n      { when: \"2024-04-22\", result: \"AWAY 97 - 101\" },\n    ],\n    ...partial,\n    start,\n  } as Game;\n}\n\nconst games: Game[] = [\n  createGame({\n    id: \"nba-lal-bos\",\n    league: \"NBA\",\n    start: formatISO(addHours(startOfDay(now), 19)),\n    status: \"scheduled\",\n    home: { name: \"Los Angeles Lakers\", code: \"LAL\", record: \"12-6\" },\n    away: { name: \"Boston Celtics\", code: \"BOS\", record: \"13-5\" },\n    venueCity: \"Los Angeles\",\n    winProb: 0.58,\n  }),\n  createGame({\n    id: \"nba-nyk-mia\",\n    league: \"NBA\",\n    start: formatISO(addHours(startOfDay(addDays(now, 1)), 19)),\n    status: \"scheduled\",\n    home: { name: \"New York Knicks\", code: \"NYK\", record: \"11-8\" },\n    away: { name: \"Miami Heat\", code: \"MIA\", record: \"10-9\" },\n    venueCity: \"New York\",\n    winProb: 0.51,\n  }),\n  createGame({\n    id: \"nfl-kc-buf\",\n    league: \"NFL\",\n    start: formatISO(addHours(startOfDay(addDays(now, 0)), 16)),\n    status: \"live\",\n    home: { name: \"Kansas City Chiefs\", code: \"KC\", record: \"7-2\" },\n    away: { name: \"Buffalo Bills\", code: \"BUF\", record: \"6-3\" },\n    venueCity: \"Kansas City\",\n    live: { homeScore: 24, awayScore: 20, period: \"Q4\", clock: \"08:32\" },\n    winProb: 0.62,\n  }),\n  createGame({\n    id: \"epl-ars-che\",\n    league: \"EPL\",\n    start: formatISO(addHours(addDays(startOfDay(now), 2), 15)),\n    status: \"scheduled\",\n    home: { name: \"Arsenal\", code: \"ARS\", record: \"8-2-1\" },\n    away: { name: \"Chelsea\", code: \"CHE\", record: \"6-4-2\" },\n    venueCity: \"London\",\n    winProb: 0.55,\n  }),\n  createGame({\n    id: \"mlb-nyy-lad\",\n    league: \"MLB\",\n    start: formatISO(addHours(addDays(startOfDay(now), 3), 19)),\n    status: \"scheduled\",\n    home: { name: \"New York Yankees\", code: \"NYY\", record: \"88-74\" },\n    away: { name: \"Los Angeles Dodgers\", code: \"LAD\", record: \"94-68\" },\n    venueCity: \"New York\",\n    winProb: 0.47,\n  }),\n  createGame({\n    id: \"ucl-real-city\",\n    league: \"UCL\",\n    start: formatISO(addHours(addDays(startOfDay(now), -1), 21)),\n    status: \"final\",\n    home: { name: \"Real Madrid\", code: \"RMA\", record: \"W-W-D-W-W\" },\n    away: { name: \"Manchester City\", code: \"MCI\", record: \"L-W-W-D-W\" },\n    venueCity: \"Madrid\",\n    live: { homeScore: 3, awayScore: 2, period: \"FT\" },\n    winProb: 0.49,\n  }),\n  createGame({\n    id: \"nhl-nyr-col\",\n    league: \"NHL\",\n    start: formatISO(addHours(addDays(startOfDay(now), 1), 20)),\n    status: \"scheduled\",\n    home: { name: \"New York Rangers\", code: \"NYR\", record: \"14-7\" },\n    away: { name: \"Colorado Avalanche\", code: \"COL\", record: \"12-8\" },\n    venueCity: \"New York\",\n    winProb: 0.53,\n  }),\n];\n\nexport async function GET(request: NextRequest) {\n  const { searchParams } = new URL(request.url);\n  const leaguesParam = searchParams.get(\"leagues\");\n  const fromParam = searchParams.get(\"from\");\n  const toParam = searchParams.get(\"to\");\n\n  const leagues = leaguesParam\n    ? leaguesParam.split(\",\").map((league) => league.trim()).filter(Boolean)\n    : undefined;\n\n  const fromDate = fromParam ? parseISO(fromParam) : addDays(startOfDay(now), -1);\n  const toDate = toParam ? parseISO(toParam) : addDays(startOfDay(now), 7);\n\n  const filtered = games.filter((game) => {\n    if (leagues && !leagues.includes(game.league)) {\n      return false;\n    }\n    const gameDate = parseISO(game.start);\n    return (!fromDate || !isBefore(gameDate, fromDate)) && (!toDate || !isAfter(gameDate, addDays(toDate, 0)));\n  });\n\n  return Response.json({ games: filtered });\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}