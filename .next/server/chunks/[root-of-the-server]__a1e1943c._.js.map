{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/pulse/valueScore.ts"],"sourcesContent":["\nimport { Inputs as ValueScoreInputs } from \"./valueScore.types\";\n\nexport function valueScore(i: ValueScoreInputs) {\n  const edge = i.marketAvgImplied - i.implied;\n  const momentum = Math.tanh(i.lineMove / 2);\n  const contrarian = 0.5 - Math.abs(i.sentimentSkew - 0.5);\n  const base =\n    5 +\n    20 * edge +\n    2 * momentum +\n    5 * contrarian +\n    5 * i.weatherImpact +\n    3 * (i.formIndex - 0.5);\n  return Math.max(0, Math.min(10, base));\n}\n\nexport function valueScoreBand(score: number) {\n  if (score >= 8) return { label: \"rare\", className: \"text-emerald-400\" };\n  if (score >= 6) return { label: \"opportunity\", className: \"text-lime-400\" };\n  if (score >= 3) return { label: \"caution\", className: \"text-amber-400\" };\n  return { label: \"neutral\", className: \"text-slate-400\" };\n}\n"],"names":[],"mappings":";;;;AAGO,SAAS,WAAW,CAAmB;IAC5C,MAAM,OAAO,EAAE,gBAAgB,GAAG,EAAE,OAAO;IAC3C,MAAM,WAAW,KAAK,IAAI,CAAC,EAAE,QAAQ,GAAG;IACxC,MAAM,aAAa,MAAM,KAAK,GAAG,CAAC,EAAE,aAAa,GAAG;IACpD,MAAM,OACJ,IACA,KAAK,OACL,IAAI,WACJ,IAAI,aACJ,IAAI,EAAE,aAAa,GACnB,IAAI,CAAC,EAAE,SAAS,GAAG,GAAG;IACxB,OAAO,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,IAAI;AAClC;AAEO,SAAS,eAAe,KAAa;IAC1C,IAAI,SAAS,GAAG,OAAO;QAAE,OAAO;QAAQ,WAAW;IAAmB;IACtE,IAAI,SAAS,GAAG,OAAO;QAAE,OAAO;QAAe,WAAW;IAAgB;IAC1E,IAAI,SAAS,GAAG,OAAO;QAAE,OAAO;QAAW,WAAW;IAAiB;IACvE,OAAO;QAAE,OAAO;QAAW,WAAW;IAAiB;AACzD","debugId":null}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/api/pulse/odds/route.ts"],"sourcesContent":["\nimport { NextRequest } from \"next/server\";\nimport { OddsRow } from \"@/lib/pulse/types\";\nimport { valueScore } from \"@/lib/pulse/valueScore\";\n\nconst baseOdds: Array<Omit<OddsRow, \"valueScore\"> & { inputs: {\n  implied: number;\n  marketAvgImplied: number;\n  lineMove: number;\n  formIndex: number;\n  weatherImpact: number;\n  sentimentSkew: number;\n} }> = [\n  {\n    id: \"nba-lal-bos-moneyline\",\n    gameId: \"nba-lal-bos\",\n    league: \"NBA\",\n    market: \"moneyline\",\n    selection: \"Lakers\",\n    line: null,\n    price: 1.85,\n    marketAvg: 1.8,\n    implied: 0.54,\n    delta: 0.04,\n    books: [\n      { name: \"Book A\", price: 1.85 },\n      { name: \"Book B\", price: 1.81 },\n      { name: \"Book C\", price: 1.79 },\n    ],\n    inputs: {\n      implied: 0.54,\n      marketAvgImplied: 0.56,\n      lineMove: 0.8,\n      formIndex: 0.64,\n      weatherImpact: 0.02,\n      sentimentSkew: 0.42,\n    },\n  },\n  {\n    id: \"nfl-kc-buf-spread\",\n    gameId: \"nfl-kc-buf\",\n    league: \"NFL\",\n    market: \"spread\",\n    selection: \"Chiefs -3.5\",\n    line: -3.5,\n    price: -110,\n    marketAvg: -115,\n    implied: 0.52,\n    delta: 0.03,\n    books: [\n      { name: \"Book A\", price: -110, line: -3.5 },\n      { name: \"Book B\", price: -112, line: -3.5 },\n      { name: \"Book C\", price: -118, line: -4 },\n    ],\n    inputs: {\n      implied: 0.52,\n      marketAvgImplied: 0.54,\n      lineMove: 1.1,\n      formIndex: 0.72,\n      weatherImpact: -0.01,\n      sentimentSkew: 0.65,\n    },\n  },\n  {\n    id: \"epl-ars-che-total\",\n    gameId: \"epl-ars-che\",\n    league: \"EPL\",\n    market: \"total\",\n    selection: \"Over 2.5\",\n    line: 2.5,\n    price: 1.95,\n    marketAvg: 1.9,\n    implied: 0.51,\n    delta: 0.05,\n    books: [\n      { name: \"Book A\", price: 1.95, line: 2.5 },\n      { name: \"Book B\", price: 1.91, line: 2.5 },\n      { name: \"Book C\", price: 1.88, line: 2.75 },\n    ],\n    inputs: {\n      implied: 0.51,\n      marketAvgImplied: 0.53,\n      lineMove: 0.4,\n      formIndex: 0.61,\n      weatherImpact: -0.03,\n      sentimentSkew: 0.38,\n    },\n  },\n  {\n    id: \"nhl-nyr-col-moneyline\",\n    gameId: \"nhl-nyr-col\",\n    league: \"NHL\",\n    market: \"moneyline\",\n    selection: \"Rangers\",\n    line: null,\n    price: 1.92,\n    marketAvg: 1.88,\n    implied: 0.52,\n    delta: 0.04,\n    books: [\n      { name: \"Book A\", price: 1.92 },\n      { name: \"Book B\", price: 1.89 },\n      { name: \"Book C\", price: 1.87 },\n    ],\n    inputs: {\n      implied: 0.52,\n      marketAvgImplied: 0.54,\n      lineMove: 0.6,\n      formIndex: 0.58,\n      weatherImpact: 0,\n      sentimentSkew: 0.46,\n    },\n  },\n];\n\nexport async function GET(request: NextRequest) {\n  const { searchParams } = new URL(request.url);\n  const leaguesParam = searchParams.get(\"leagues\");\n  const leagues = leaguesParam\n    ? leaguesParam.split(\",\").map((league) => league.trim()).filter(Boolean)\n    : undefined;\n\n  const odds: OddsRow[] = baseOdds\n    .filter((row) => (leagues ? leagues.includes(row.league) : true))\n    .map(({ inputs, ...row }) => ({\n      ...row,\n      lineMove: inputs.lineMove,\n      formIndex: inputs.formIndex,\n      weatherImpact: inputs.weatherImpact,\n      sentimentSkew: inputs.sentimentSkew,\n      valueScore: Number(valueScore(inputs).toFixed(2)),\n    }));\n\n  return Response.json({ odds });\n}\n"],"names":[],"mappings":";;;AAGA;;AAEA,MAAM,WAOC;IACL;QACE,IAAI;QACJ,QAAQ;QACR,QAAQ;QACR,QAAQ;QACR,WAAW;QACX,MAAM;QACN,OAAO;QACP,WAAW;QACX,SAAS;QACT,OAAO;QACP,OAAO;YACL;gBAAE,MAAM;gBAAU,OAAO;YAAK;YAC9B;gBAAE,MAAM;gBAAU,OAAO;YAAK;YAC9B;gBAAE,MAAM;gBAAU,OAAO;YAAK;SAC/B;QACD,QAAQ;YACN,SAAS;YACT,kBAAkB;YAClB,UAAU;YACV,WAAW;YACX,eAAe;YACf,eAAe;QACjB;IACF;IACA;QACE,IAAI;QACJ,QAAQ;QACR,QAAQ;QACR,QAAQ;QACR,WAAW;QACX,MAAM,CAAC;QACP,OAAO,CAAC;QACR,WAAW,CAAC;QACZ,SAAS;QACT,OAAO;QACP,OAAO;YACL;gBAAE,MAAM;gBAAU,OAAO,CAAC;gBAAK,MAAM,CAAC;YAAI;YAC1C;gBAAE,MAAM;gBAAU,OAAO,CAAC;gBAAK,MAAM,CAAC;YAAI;YAC1C;gBAAE,MAAM;gBAAU,OAAO,CAAC;gBAAK,MAAM,CAAC;YAAE;SACzC;QACD,QAAQ;YACN,SAAS;YACT,kBAAkB;YAClB,UAAU;YACV,WAAW;YACX,eAAe,CAAC;YAChB,eAAe;QACjB;IACF;IACA;QACE,IAAI;QACJ,QAAQ;QACR,QAAQ;QACR,QAAQ;QACR,WAAW;QACX,MAAM;QACN,OAAO;QACP,WAAW;QACX,SAAS;QACT,OAAO;QACP,OAAO;YACL;gBAAE,MAAM;gBAAU,OAAO;gBAAM,MAAM;YAAI;YACzC;gBAAE,MAAM;gBAAU,OAAO;gBAAM,MAAM;YAAI;YACzC;gBAAE,MAAM;gBAAU,OAAO;gBAAM,MAAM;YAAK;SAC3C;QACD,QAAQ;YACN,SAAS;YACT,kBAAkB;YAClB,UAAU;YACV,WAAW;YACX,eAAe,CAAC;YAChB,eAAe;QACjB;IACF;IACA;QACE,IAAI;QACJ,QAAQ;QACR,QAAQ;QACR,QAAQ;QACR,WAAW;QACX,MAAM;QACN,OAAO;QACP,WAAW;QACX,SAAS;QACT,OAAO;QACP,OAAO;YACL;gBAAE,MAAM;gBAAU,OAAO;YAAK;YAC9B;gBAAE,MAAM;gBAAU,OAAO;YAAK;YAC9B;gBAAE,MAAM;gBAAU,OAAO;YAAK;SAC/B;QACD,QAAQ;YACN,SAAS;YACT,kBAAkB;YAClB,UAAU;YACV,WAAW;YACX,eAAe;YACf,eAAe;QACjB;IACF;CACD;AAEM,eAAe,IAAI,OAAoB;IAC5C,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;IAC5C,MAAM,eAAe,aAAa,GAAG,CAAC;IACtC,MAAM,UAAU,eACZ,aAAa,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,SAAW,OAAO,IAAI,IAAI,MAAM,CAAC,WAC9D;IAEJ,MAAM,OAAkB,SACrB,MAAM,CAAC,CAAC,MAAS,UAAU,QAAQ,QAAQ,CAAC,IAAI,MAAM,IAAI,MAC1D,GAAG,CAAC,CAAC,EAAE,MAAM,EAAE,GAAG,KAAK,GAAK,CAAC;YAC5B,GAAG,GAAG;YACN,UAAU,OAAO,QAAQ;YACzB,WAAW,OAAO,SAAS;YAC3B,eAAe,OAAO,aAAa;YACnC,eAAe,OAAO,aAAa;YACnC,YAAY,OAAO,CAAA,GAAA,mIAAA,CAAA,aAAU,AAAD,EAAE,QAAQ,OAAO,CAAC;QAChD,CAAC;IAEH,OAAO,SAAS,IAAI,CAAC;QAAE;IAAK;AAC9B","debugId":null}}]
}