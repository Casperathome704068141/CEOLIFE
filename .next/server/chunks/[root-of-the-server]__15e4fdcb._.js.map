{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 68, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/core/sse.ts"],"sourcesContent":["import { randomUUID } from \"crypto\";\n\ntype Client = {\n  id: string;\n  send: (data: string) => void;\n};\n\nconst clients = new Map<string, Client>();\n\nexport function registerClient(send: Client[\"send\"]) {\n  const id = randomUUID();\n  const client: Client = { id, send };\n  clients.set(id, client);\n  return () => {\n    clients.delete(id);\n  };\n}\n\nexport function broadcastProjectionUpdate(keys: string[]) {\n  const payload = JSON.stringify({ keys });\n  for (const client of clients.values()) {\n    client.send(`data: ${payload}\\n\\n`);\n  }\n}\n\n"],"names":[],"mappings":";;;;AAAA;;AAOA,MAAM,UAAU,IAAI;AAEb,SAAS,eAAe,IAAoB;IACjD,MAAM,KAAK,CAAA,GAAA,qGAAA,CAAA,aAAU,AAAD;IACpB,MAAM,SAAiB;QAAE;QAAI;IAAK;IAClC,QAAQ,GAAG,CAAC,IAAI;IAChB,OAAO;QACL,QAAQ,MAAM,CAAC;IACjB;AACF;AAEO,SAAS,0BAA0B,IAAc;IACtD,MAAM,UAAU,KAAK,SAAS,CAAC;QAAE;IAAK;IACtC,KAAK,MAAM,UAAU,QAAQ,MAAM,GAAI;QACrC,OAAO,IAAI,CAAC,CAAC,MAAM,EAAE,QAAQ,IAAI,CAAC;IACpC;AACF","debugId":null}},
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/api/events/stream/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport { registerClient } from \"@/lib/core/sse\";\n\nexport const runtime = \"nodejs\";\n\nexport async function GET() {\n  const encoder = new TextEncoder();\n  let cleanup: (() => void) | null = null;\n\n  const stream = new ReadableStream<Uint8Array>({\n    start(controller) {\n      const send = (message: string) => controller.enqueue(encoder.encode(message));\n      cleanup = registerClient(send);\n      send(`data: ${JSON.stringify({ keys: [\"bridge:overview\"] })}\\n\\n`);\n    },\n    cancel() {\n      cleanup?.();\n    },\n  });\n\n  return new NextResponse(stream, {\n    headers: {\n      \"Content-Type\": \"text/event-stream\",\n      \"Cache-Control\": \"no-cache, no-transform\",\n      Connection: \"keep-alive\",\n    },\n  });\n}\n\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,MAAM,UAAU;AAEhB,eAAe;IACpB,MAAM,UAAU,IAAI;IACpB,IAAI,UAA+B;IAEnC,MAAM,SAAS,IAAI,eAA2B;QAC5C,OAAM,UAAU;YACd,MAAM,OAAO,CAAC,UAAoB,WAAW,OAAO,CAAC,QAAQ,MAAM,CAAC;YACpE,UAAU,CAAA,GAAA,2HAAA,CAAA,iBAAc,AAAD,EAAE;YACzB,KAAK,CAAC,MAAM,EAAE,KAAK,SAAS,CAAC;gBAAE,MAAM;oBAAC;iBAAkB;YAAC,GAAG,IAAI,CAAC;QACnE;QACA;YACE;QACF;IACF;IAEA,OAAO,IAAI,gIAAA,CAAA,eAAY,CAAC,QAAQ;QAC9B,SAAS;YACP,gBAAgB;YAChB,iBAAiB;YACjB,YAAY;QACd;IACF;AACF","debugId":null}}]
}