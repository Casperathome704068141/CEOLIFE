{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/layout/page-header.tsx"],"sourcesContent":["\"use client\";\n\nimport { motion } from \"framer-motion\";\nimport { ReactNode } from \"react\";\nimport { Button } from \"@/components/ui/button\";\n\ninterface PageHeaderProps {\n  title: string;\n  description?: string;\n  actions?: ReactNode;\n}\n\nexport function PageHeader({ title, description, actions }: PageHeaderProps) {\n  return (\n    <div className=\"flex flex-col gap-4 pb-8 lg:flex-row lg:items-center lg:justify-between\">\n      <div className=\"space-y-1\">\n        <motion.h1\n          className=\"text-3xl font-headline font-semibold tracking-tight text-primary\"\n          initial={{ opacity: 0, y: 12 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ type: \"spring\", stiffness: 120, damping: 16 }}\n        >\n          {title}\n        </motion.h1>\n        {description ? (\n          <motion.p\n            className=\"text-sm text-muted-foreground max-w-2xl\"\n            initial={{ opacity: 0, y: 8 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: 0.05, duration: 0.3 }}\n          >\n            {description}\n          </motion.p>\n        ) : null}\n      </div>\n      {actions ? (\n        <motion.div\n          className=\"flex flex-wrap items-center gap-2\"\n          initial={{ opacity: 0, y: -6 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: 0.1, duration: 0.2 }}\n        >\n          {actions}\n        </motion.div>\n      ) : null}\n    </div>\n  );\n}\n\nexport function PagePrimaryAction({ children }: { children: ReactNode }) {\n  return (\n    <Button\n      size=\"lg\"\n      className=\"relative overflow-hidden rounded-2xl bg-gradient-to-r from-cyan-500 via-sky-500 to-indigo-500 px-6 font-medium text-white shadow-xl shadow-cyan-900/40 transition hover:shadow-2xl focus-visible:ring-cyan-400\"\n    >\n      <span className=\"relative z-10\">{children}</span>\n      <span className=\"absolute inset-0 rounded-2xl bg-white/10 mix-blend-overlay\" />\n    </Button>\n  );\n}\n\nexport function PageSecondaryAction({ children }: { children: ReactNode }) {\n  return (\n    <Button\n      variant=\"outline\"\n      size=\"lg\"\n      className=\"rounded-2xl border-slate-700 bg-slate-900/40 text-slate-200 backdrop-blur transition hover:bg-slate-800\"\n    >\n      {children}\n    </Button>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAEA;AAEA;AAJA;;;;AAYO,SAAS,WAAW,EAAE,KAAK,EAAE,WAAW,EAAE,OAAO,EAAmB;IACzE,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,0LAAA,CAAA,SAAM,CAAC,EAAE;wBACR,WAAU;wBACV,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAG;wBAC7B,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAE;wBAC5B,YAAY;4BAAE,MAAM;4BAAU,WAAW;4BAAK,SAAS;wBAAG;kCAEzD;;;;;;oBAEF,4BACC,8OAAC,0LAAA,CAAA,SAAM,CAAC,CAAC;wBACP,WAAU;wBACV,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAE;wBAC5B,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAE;wBAC5B,YAAY;4BAAE,OAAO;4BAAM,UAAU;wBAAI;kCAExC;;;;;+BAED;;;;;;;YAEL,wBACC,8OAAC,0LAAA,CAAA,SAAM,CAAC,GAAG;gBACT,WAAU;gBACV,SAAS;oBAAE,SAAS;oBAAG,GAAG,CAAC;gBAAE;gBAC7B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,YAAY;oBAAE,OAAO;oBAAK,UAAU;gBAAI;0BAEvC;;;;;uBAED;;;;;;;AAGV;AAEO,SAAS,kBAAkB,EAAE,QAAQ,EAA2B;IACrE,qBACE,8OAAC,kIAAA,CAAA,SAAM;QACL,MAAK;QACL,WAAU;;0BAEV,8OAAC;gBAAK,WAAU;0BAAiB;;;;;;0BACjC,8OAAC;gBAAK,WAAU;;;;;;;;;;;;AAGtB;AAEO,SAAS,oBAAoB,EAAE,QAAQ,EAA2B;IACvE,qBACE,8OAAC,kIAAA,CAAA,SAAM;QACL,SAAQ;QACR,MAAK;QACL,WAAU;kBAET;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 145, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/tooltip.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,kBAAkB,mKAAA,CAAA,WAAyB;AAEjD,MAAM,UAAU,mKAAA,CAAA,OAAqB;AAErC,MAAM,iBAAiB,mKAAA,CAAA,UAAwB;AAE/C,MAAM,+BAAiB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGpC,CAAC,EAAE,SAAS,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC1C,8OAAC,mKAAA,CAAA,UAAwB;QACvB,KAAK;QACL,YAAY;QACZ,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,sYACA;QAED,GAAG,KAAK;;;;;;AAGb,eAAe,WAAW,GAAG,mKAAA,CAAA,UAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 181, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACtB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,8OAAC;QAAI,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE","debugId":null}},
    {"offset": {"line": 223, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/goals/GoalCard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { motion, useSpring, useTransform } from \"framer-motion\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { Tooltip, TooltipContent, TooltipTrigger } from \"@/components/ui/tooltip\";\nimport { cn } from \"@/lib/utils\";\nimport type { Goal } from \"@/lib/goals/types\";\nimport { ArrowDownRight, ArrowRight, ArrowUpRight, Coins, Link2, Settings2, Sparkles, Trash2, Wallet, Wand2 } from \"lucide-react\";\n\ninterface GoalCardProps {\n  goal: Goal;\n  onFund: (goal: Goal) => void;\n  onEdit: (goal: Goal, intent?: \"link\") => void;\n  onSimulate: (goal: Goal) => void;\n  onAutoFund: (goal: Goal) => void;\n  onDelete: (goal: Goal) => void;\n  className?: string;\n}\n\nconst priorityVariants: Record<Goal[\"priority\"], string> = {\n  high: \"bg-rose-500/20 text-rose-200 border border-rose-400/40\",\n  medium: \"bg-amber-500/10 text-amber-200 border border-amber-300/30\",\n  low: \"bg-emerald-500/10 text-emerald-200 border border-emerald-300/20\",\n};\n\nfunction computeTrend(goal: Goal) {\n  const daysSinceUpdate = Math.round((Date.now() - new Date(goal.updatedAt).getTime()) / (1000 * 60 * 60 * 24));\n  const progress = goal.target > 0 ? goal.current / goal.target : 0;\n  if (progress >= 0.95) return \"improving\" as const;\n  if (daysSinceUpdate <= 7 && progress >= 0.4) return \"improving\" as const;\n  if (daysSinceUpdate > 30) return \"regressing\" as const;\n  if (progress < 0.2) return \"regressing\" as const;\n  return \"stagnant\" as const;\n}\n\nfunction formatCurrency(goal: Goal, amount: number) {\n  const currency = goal.currency ?? \"USD\";\n  return new Intl.NumberFormat(\"en-US\", { style: \"currency\", currency, maximumFractionDigits: 0 }).format(amount);\n}\n\nexport function GoalCard({ goal, onFund, onEdit, onSimulate, onAutoFund, onDelete, className }: GoalCardProps) {\n  const progressRaw = goal.target > 0 ? Math.min(100, (goal.current / goal.target) * 100) : 0;\n  const progress = Number.isFinite(progressRaw) ? progressRaw : 0;\n  const progressMotion = useSpring(progress, { stiffness: 120, damping: 18 });\n  useEffect(() => {\n    progressMotion.set(progress);\n  }, [progress, progressMotion]);\n  const displayProgress = useTransform(progressMotion, latest => Math.min(100, Math.max(0, latest)).toFixed(0));\n  const [progressText, setProgressText] = useState(progress.toFixed(0));\n\n  useEffect(() => {\n    const unsubscribe = displayProgress.on(\"change\", value => {\n      setProgressText(value);\n    });\n    return unsubscribe;\n  }, [displayProgress]);\n\n  const amountLeft = Math.max(0, goal.target - goal.current);\n  const deadline = goal.deadline ? new Date(goal.deadline) : undefined;\n  const daysUntilDeadline = deadline ? Math.ceil((deadline.getTime() - Date.now()) / (1000 * 60 * 60 * 24)) : undefined;\n  const trend = computeTrend(goal);\n  const ringColor = goal.color ?? \"#38bdf8\";\n\n  const TrendIcon = trend === \"improving\" ? ArrowUpRight : trend === \"regressing\" ? ArrowDownRight : ArrowRight;\n  const trendColor = trend === \"improving\" ? \"text-emerald-300\" : trend === \"regressing\" ? \"text-rose-300\" : \"text-slate-300\";\n  const deadlineBadge = (() => {\n    if (!deadline || Number.isNaN(deadline.getTime())) return null;\n    if (daysUntilDeadline === undefined) return null;\n    if (daysUntilDeadline < 0) {\n      return <Badge className=\"rounded-xl border border-rose-500/40 bg-rose-500/20 text-xs text-rose-200\">Missed deadline</Badge>;\n    }\n    if (daysUntilDeadline <= 14) {\n      return (\n        <Badge className=\"rounded-xl border border-amber-500/40 bg-amber-500/20 text-xs text-amber-200\">\n          Due in {daysUntilDeadline}d\n        </Badge>\n      );\n    }\n    return (\n      <Badge className=\"rounded-xl border border-cyan-500/30 bg-cyan-500/10 text-xs text-cyan-100\">\n        {deadline.toLocaleDateString(undefined, { month: \"short\", day: \"numeric\" })}\n      </Badge>\n    );\n  })();\n\n  return (\n    <motion.div\n      layout\n      className={cn(\n        \"group relative cursor-pointer overflow-hidden rounded-3xl border border-slate-900/70 bg-slate-950/70 p-5 text-slate-100 shadow-lg transition\",\n        \"hover:border-cyan-500/40 hover:shadow-cyan-500/20\",\n        className,\n      )}\n      whileHover={{ scale: 1.01 }}\n      onClick={() => onEdit(goal)}\n    >\n      <div className=\"absolute inset-0 bg-gradient-to-br from-cyan-500/0 via-transparent to-indigo-500/5 opacity-0 transition group-hover:opacity-100\" />\n      <div className=\"relative flex flex-col gap-4\">\n        <div className=\"flex items-start justify-between gap-3\">\n          <div>\n            <p className=\"font-semibold text-lg text-white\">{goal.name}</p>\n            <div className=\"mt-1 flex flex-wrap items-center gap-2 text-xs text-slate-400\">\n              <span className=\"inline-flex items-center gap-1\"><Wallet className=\"h-3 w-3\" />{goal.type}</span>\n              {goal.linkedEntity ? (\n                <span className=\"inline-flex items-center gap-1 text-cyan-200\">\n                  <Link2 className=\"h-3 w-3\" />\n                  {goal.linkedEntity.label ?? goal.linkedEntity.type}\n                </span>\n              ) : null}\n            </div>\n          </div>\n          <div className=\"flex gap-2\">\n            <Badge className={cn(\"rounded-xl text-xs capitalize\", priorityVariants[goal.priority])}>{goal.priority} priority</Badge>\n            {deadlineBadge}\n          </div>\n        </div>\n\n        <div className=\"flex items-center gap-6\">\n          <div className=\"relative flex h-28 w-28 items-center justify-center\">\n            <div\n              className=\"absolute inset-0 rounded-full\"\n              style={{\n                background: `radial-gradient(circle at center, rgba(15,23,42,0.9) 60%, transparent 61%), conic-gradient(${ringColor} ${progress * 3.6}deg, rgba(30,41,59,0.6) ${progress * 3.6}deg)`,\n              }}\n            />\n            <div className=\"absolute inset-4 rounded-full bg-slate-950/90 shadow-inner shadow-cyan-500/10\" />\n            <span className=\"relative text-3xl font-bold text-white\">\n              {progressText}\n              <span className=\"ml-1 text-sm font-normal text-slate-400\">%</span>\n            </span>\n          </div>\n          <div className=\"space-y-2 text-sm\">\n            <div className=\"space-y-1\">\n              <p className=\"text-xs uppercase tracking-wide text-slate-400\">Progress</p>\n              <p className=\"text-xl font-semibold text-white\">\n                {formatCurrency(goal, goal.current)}\n                <span className=\"text-sm text-slate-500\"> / {formatCurrency(goal, goal.target)}</span>\n              </p>\n              <p className=\"text-xs text-slate-400\">Remaining {formatCurrency(goal, amountLeft)}</p>\n            </div>\n            <div className=\"flex items-center gap-2 text-xs\">\n              <span className={cn(\"inline-flex items-center gap-1 rounded-full border px-2 py-1\", trendColor, \"border-white/10 bg-white/5\")}>\n                <TrendIcon className=\"h-3 w-3\" />\n                {trend === \"improving\" ? \"Improving\" : trend === \"regressing\" ? \"At risk\" : \"Stagnant\"}\n              </span>\n              {goal.autoFundRule ? (\n                <span className=\"inline-flex items-center gap-1 rounded-full border border-cyan-500/40 bg-cyan-500/10 px-2 py-1 text-cyan-200\">\n                  <Sparkles className=\"h-3 w-3\" /> Auto\n                </span>\n              ) : null}\n            </div>\n            {goal.notes ? (\n              <p className=\"mt-1 line-clamp-2 text-xs text-slate-400\">{goal.notes}</p>\n            ) : null}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"pointer-events-none absolute inset-x-0 bottom-0 h-24 bg-gradient-to-t from-slate-950/90 via-slate-950/20 to-transparent opacity-0 transition group-hover:opacity-100\" />\n\n      <div className=\"absolute inset-x-4 bottom-4 flex translate-y-6 justify-between gap-2 opacity-0 transition duration-200 group-hover:translate-y-0 group-hover:opacity-100\">\n        <div className=\"flex gap-2\">\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button\n                size=\"sm\"\n                variant=\"secondary\"\n                className=\"pointer-events-auto rounded-2xl bg-cyan-500/20 text-cyan-100 hover:bg-cyan-500/30\"\n                onClick={event => {\n                  event.stopPropagation();\n                  onFund(goal);\n                }}\n              >\n                <Coins className=\"mr-2 h-4 w-4\" /> Fund\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent side=\"top\">Allocate money to this goal</TooltipContent>\n          </Tooltip>\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button\n                size=\"sm\"\n                variant=\"secondary\"\n                className=\"pointer-events-auto rounded-2xl bg-slate-900/80 text-slate-200 hover:bg-slate-800\"\n                onClick={event => {\n                  event.stopPropagation();\n                  onSimulate(goal);\n                }}\n              >\n                <Wand2 className=\"mr-2 h-4 w-4\" /> Simulate\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent side=\"top\">Run a what-if projection</TooltipContent>\n          </Tooltip>\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button\n                size=\"sm\"\n                variant=\"secondary\"\n                className=\"pointer-events-auto rounded-2xl bg-slate-900/80 text-slate-200 hover:bg-slate-800\"\n                onClick={event => {\n                  event.stopPropagation();\n                  onAutoFund(goal);\n                }}\n              >\n                <Sparkles className=\"mr-2 h-4 w-4\" /> Auto fund\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent side=\"top\">Create a recurring transfer</TooltipContent>\n          </Tooltip>\n        </div>\n        <div className=\"flex gap-2\">\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button\n                size=\"icon\"\n                variant=\"ghost\"\n                className=\"pointer-events-auto rounded-2xl border border-slate-700 bg-slate-900/70 hover:bg-slate-800\"\n                onClick={event => {\n                  event.stopPropagation();\n                  onEdit(goal, \"link\");\n                }}\n              >\n                <Link2 className=\"h-4 w-4\" />\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent side=\"top\">Link entity</TooltipContent>\n          </Tooltip>\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button\n                size=\"icon\"\n                variant=\"ghost\"\n                className=\"pointer-events-auto rounded-2xl border border-slate-700 bg-slate-900/70 hover:bg-slate-800\"\n                onClick={event => {\n                  event.stopPropagation();\n                  onEdit(goal);\n                }}\n              >\n                <Settings2 className=\"h-4 w-4\" />\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent side=\"top\">Edit goal</TooltipContent>\n          </Tooltip>\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button\n                size=\"icon\"\n                variant=\"ghost\"\n                className=\"pointer-events-auto rounded-2xl border border-slate-800 bg-slate-900/70 text-rose-300 hover:bg-rose-500/20\"\n                onClick={event => {\n                  event.stopPropagation();\n                  onDelete(goal);\n                }}\n              >\n                <Trash2 className=\"h-4 w-4\" />\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent side=\"top\">Archive goal</TooltipContent>\n          </Tooltip>\n        </div>\n      </div>\n    </motion.div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 934, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/goals/GoalGrid.tsx"],"sourcesContent":["\"use client\";\n\nimport { Fragment } from \"react\";\nimport { AnimatePresence, motion } from \"framer-motion\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { GoalCard } from \"./GoalCard\";\nimport type { Goal } from \"@/lib/goals/types\";\nimport { Rocket, Target } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\n\ninterface GoalGridProps {\n  groupedGoals: Record<string, Goal[]>;\n  grouping: \"none\" | \"type\" | \"priority\";\n  onFund: (goal: Goal) => void;\n  onEdit: (goal: Goal, intent?: \"link\") => void;\n  onSimulate: (goal: Goal) => void;\n  onAutoFund: (goal: Goal) => void;\n  onDelete: (goal: Goal) => void;\n  onCreateGoal: () => void;\n  isLoading?: boolean;\n}\n\nconst headings: Record<string, string> = {\n  financial: \"Finance & savings\",\n  household: \"Household\",\n  education: \"Education\",\n  travel: \"Travel\",\n  health: \"Health & wellness\",\n  other: \"Other\",\n  high: \"High priority\",\n  medium: \"Medium priority\",\n  low: \"Low priority\",\n};\n\nexport function GoalGrid({\n  groupedGoals,\n  grouping,\n  onFund,\n  onEdit,\n  onSimulate,\n  onAutoFund,\n  onDelete,\n  onCreateGoal,\n  isLoading,\n}: GoalGridProps) {\n  const groups = Object.entries(groupedGoals);\n  const hasGoals = groups.some(([, list]) => list.length > 0);\n\n  if (!hasGoals && !isLoading) {\n    return (\n      <div className=\"flex flex-col items-center justify-center rounded-3xl border border-slate-900/60 bg-slate-950/60 p-12 text-center text-slate-300 shadow-inner shadow-slate-900/40\">\n        <Rocket className=\"h-10 w-10 text-cyan-400\" />\n        <h3 className=\"mt-4 text-xl font-semibold text-white\">Set your first mission</h3>\n        <p className=\"mt-2 max-w-md text-sm text-slate-400\">\n          Goals combine finance, household, and wellness signals so Beno can automate your progress. Start by creating a goal and linking a funding source.\n        </p>\n        <Button className=\"mt-6 rounded-2xl bg-gradient-to-r from-cyan-500 to-indigo-500 text-slate-950 shadow-lg shadow-cyan-900/40\" onClick={onCreateGoal}>\n          Launch a goal\n        </Button>\n      </div>\n    );\n  }\n\n  return (\n    <TooltipProvider delayDuration={120}>\n      <div className=\"space-y-8\">\n        {groups.map(([key, goals]) => {\n          if (!goals.length) return null;\n          const title = grouping === \"none\" ? undefined : headings[key] ?? key;\n          return (\n            <Fragment key={key}>\n              {title ? (\n                <div className=\"flex items-center justify-between\">\n                  <h3 className=\"text-sm font-semibold uppercase tracking-wide text-slate-400\">{title}</h3>\n                  <span className=\"text-xs text-slate-500\">{goals.length} goal{goals.length === 1 ? \"\" : \"s\"}</span>\n                </div>\n              ) : null}\n              <motion.div\n                layout\n                className=\"grid gap-5 sm:grid-cols-2 xl:grid-cols-3\"\n                initial=\"hidden\"\n                animate=\"visible\"\n                variants={{ hidden: {}, visible: { transition: { staggerChildren: 0.05 } } }}\n              >\n                <AnimatePresence>\n                  {goals.map(goal => (\n                    <motion.div key={goal.id} layout variants={{ hidden: { opacity: 0, y: 12 }, visible: { opacity: 1, y: 0 } }}>\n                      <GoalCard\n                        goal={goal}\n                        onFund={onFund}\n                        onEdit={onEdit}\n                        onSimulate={onSimulate}\n                        onAutoFund={onAutoFund}\n                        onDelete={onDelete}\n                      />\n                    </motion.div>\n                  ))}\n                </AnimatePresence>\n              </motion.div>\n            </Fragment>\n          );\n        })}\n        {isLoading ? (\n          <div className=\"flex items-center gap-2 text-sm text-slate-400\">\n            <Target className=\"h-4 w-4 animate-spin\" /> Loading goals...\n          </div>\n        ) : null}\n      </div>\n    </TooltipProvider>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AACA;AACA;AAEA;AAAA;AACA;AARA;;;;;;;;AAsBA,MAAM,WAAmC;IACvC,WAAW;IACX,WAAW;IACX,WAAW;IACX,QAAQ;IACR,QAAQ;IACR,OAAO;IACP,MAAM;IACN,QAAQ;IACR,KAAK;AACP;AAEO,SAAS,SAAS,EACvB,YAAY,EACZ,QAAQ,EACR,MAAM,EACN,MAAM,EACN,UAAU,EACV,UAAU,EACV,QAAQ,EACR,YAAY,EACZ,SAAS,EACK;IACd,MAAM,SAAS,OAAO,OAAO,CAAC;IAC9B,MAAM,WAAW,OAAO,IAAI,CAAC,CAAC,GAAG,KAAK,GAAK,KAAK,MAAM,GAAG;IAEzD,IAAI,CAAC,YAAY,CAAC,WAAW;QAC3B,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC,sMAAA,CAAA,SAAM;oBAAC,WAAU;;;;;;8BAClB,8OAAC;oBAAG,WAAU;8BAAwC;;;;;;8BACtD,8OAAC;oBAAE,WAAU;8BAAuC;;;;;;8BAGpD,8OAAC,kIAAA,CAAA,SAAM;oBAAC,WAAU;oBAA4G,SAAS;8BAAc;;;;;;;;;;;;IAK3J;IAEA,qBACE,8OAAC,mIAAA,CAAA,kBAAe;QAAC,eAAe;kBAC9B,cAAA,8OAAC;YAAI,WAAU;;gBACZ,OAAO,GAAG,CAAC,CAAC,CAAC,KAAK,MAAM;oBACvB,IAAI,CAAC,MAAM,MAAM,EAAE,OAAO;oBAC1B,MAAM,QAAQ,aAAa,SAAS,YAAY,QAAQ,CAAC,IAAI,IAAI;oBACjE,qBACE,8OAAC,qMAAA,CAAA,WAAQ;;4BACN,sBACC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAG,WAAU;kDAAgE;;;;;;kDAC9E,8OAAC;wCAAK,WAAU;;4CAA0B,MAAM,MAAM;4CAAC;4CAAM,MAAM,MAAM,KAAK,IAAI,KAAK;;;;;;;;;;;;uCAEvF;0CACJ,8OAAC,0LAAA,CAAA,SAAM,CAAC,GAAG;gCACT,MAAM;gCACN,WAAU;gCACV,SAAQ;gCACR,SAAQ;gCACR,UAAU;oCAAE,QAAQ,CAAC;oCAAG,SAAS;wCAAE,YAAY;4CAAE,iBAAiB;wCAAK;oCAAE;gCAAE;0CAE3E,cAAA,8OAAC,yLAAA,CAAA,kBAAe;8CACb,MAAM,GAAG,CAAC,CAAA,qBACT,8OAAC,0LAAA,CAAA,SAAM,CAAC,GAAG;4CAAe,MAAM;4CAAC,UAAU;gDAAE,QAAQ;oDAAE,SAAS;oDAAG,GAAG;gDAAG;gDAAG,SAAS;oDAAE,SAAS;oDAAG,GAAG;gDAAE;4CAAE;sDACxG,cAAA,8OAAC,uIAAA,CAAA,WAAQ;gDACP,MAAM;gDACN,QAAQ;gDACR,QAAQ;gDACR,YAAY;gDACZ,YAAY;gDACZ,UAAU;;;;;;2CAPG,KAAK,EAAE;;;;;;;;;;;;;;;;uBAhBjB;;;;;gBA+BnB;gBACC,0BACC,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,sMAAA,CAAA,SAAM;4BAAC,WAAU;;;;;;wBAAyB;;;;;;2BAE3C;;;;;;;;;;;;AAIZ","debugId":null}},
    {"offset": {"line": 1145, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 1226, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/goals/GoalAnalyticsSidebar.tsx"],"sourcesContent":["\"use client\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport type { AutomationSuggestion, GoalAnalyticsSnapshot } from \"@/lib/goals/types\";\nimport { format } from \"date-fns\";\nimport { BrainCircuit, ChevronRight, Layers, RefreshCcw, Sparkles } from \"lucide-react\";\n\ninterface GoalAnalyticsSidebarProps {\n  analytics: GoalAnalyticsSnapshot;\n  grouping: \"none\" | \"type\" | \"priority\";\n  onToggleGrouping: () => void;\n  onRunAllSimulations: () => void;\n  suggestion: AutomationSuggestion | null;\n  onApplySuggestion: (suggestion: AutomationSuggestion) => void;\n  onSimulateSuggestion: (suggestion: AutomationSuggestion) => void;\n}\n\nfunction formatCurrency(value: number, currency = \"USD\") {\n  return new Intl.NumberFormat(\"en-US\", { style: \"currency\", currency, maximumFractionDigits: 0 }).format(value);\n}\n\nexport function GoalAnalyticsSidebar({\n  analytics,\n  grouping,\n  onToggleGrouping,\n  onRunAllSimulations,\n  suggestion,\n  onApplySuggestion,\n  onSimulateSuggestion,\n}: GoalAnalyticsSidebarProps) {\n  return (\n    <div className=\"space-y-4\">\n      <Card className=\"rounded-3xl border border-slate-900/70 bg-slate-950/70 text-slate-100\">\n        <CardHeader>\n          <CardTitle className=\"text-base text-white\">Mission metrics</CardTitle>\n          <p className=\"text-xs text-slate-400\">Beno aggregates every goal across finance, household, and wellness.</p>\n        </CardHeader>\n        <CardContent className=\"space-y-4 text-sm\">\n          <div className=\"flex items-center justify-between\">\n            <span className=\"text-slate-400\">Active goals</span>\n            <span className=\"font-semibold text-white\">{analytics.activeGoals}/{analytics.totalGoals}</span>\n          </div>\n          <div className=\"flex items-center justify-between\">\n            <span className=\"text-slate-400\">Average progress</span>\n            <span className=\"font-semibold text-white\">{Math.round(analytics.averageProgress)}%</span>\n          </div>\n          <div className=\"flex items-center justify-between\">\n            <span className=\"text-slate-400\">Capital allocated</span>\n            <span className=\"font-semibold text-white\">{formatCurrency(analytics.totalSaved)}</span>\n          </div>\n          <div className=\"flex items-center justify-between\">\n            <span className=\"text-slate-400\">Target surface</span>\n            <span className=\"font-semibold text-white\">{formatCurrency(analytics.totalTarget)}</span>\n          </div>\n          <div className=\"flex items-center justify-between\">\n            <span className=\"text-slate-400\">Completion rate</span>\n            <span className=\"font-semibold text-white\">{Math.round(analytics.completionRate)}%</span>\n          </div>\n          {analytics.closestDeadline ? (\n            <div className=\"flex items-center justify-between\">\n              <span className=\"text-slate-400\">Closest deadline</span>\n              <span className=\"font-semibold text-white\">{format(new Date(analytics.closestDeadline), \"MMM d\")}</span>\n            </div>\n          ) : null}\n          <div className=\"pt-3\">\n            <Button\n              variant=\"secondary\"\n              className=\"w-full justify-between rounded-2xl border border-slate-800 bg-slate-900/60 text-slate-200 hover:bg-slate-800\"\n              onClick={onRunAllSimulations}\n            >\n              <span className=\"inline-flex items-center gap-2\"><RefreshCcw className=\"h-4 w-4\" /> Run all simulations</span>\n              <ChevronRight className=\"h-4 w-4\" />\n            </Button>\n          </div>\n          <div>\n            <Button\n              variant=\"ghost\"\n              className=\"w-full justify-between rounded-2xl border border-slate-800 bg-slate-900/60 text-slate-200 hover:bg-slate-800\"\n              onClick={onToggleGrouping}\n            >\n              <span className=\"inline-flex items-center gap-2\"><Layers className=\"h-4 w-4\" /> View by {grouping === \"type\" ? \"priority\" : grouping === \"priority\" ? \"flat list\" : \"category\"}</span>\n              <ChevronRight className=\"h-4 w-4\" />\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n      {suggestion ? (\n        <Card className=\"rounded-3xl border border-cyan-500/40 bg-cyan-500/10 text-cyan-50\">\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2 text-base text-white\">\n              <BrainCircuit className=\"h-4 w-4 text-cyan-300\" /> Beno insight\n            </CardTitle>\n            <p className=\"text-xs text-cyan-100/70\">{suggestion.detail}</p>\n          </CardHeader>\n          <CardContent className=\"space-y-3\">\n            <div className=\"rounded-2xl border border-cyan-500/40 bg-cyan-500/10 p-3 text-sm text-cyan-100\">\n              {suggestion.headline}\n            </div>\n            <div className=\"flex flex-col gap-2\">\n              <Button\n                className=\"rounded-2xl bg-gradient-to-r from-cyan-500 via-sky-500 to-indigo-500 text-slate-950 shadow-lg shadow-cyan-900/40\"\n                onClick={() => onApplySuggestion(suggestion)}\n              >\n                <span className=\"inline-flex items-center gap-2\"><Sparkles className=\"h-4 w-4\" /> {suggestion.cta.applyLabel}</span>\n              </Button>\n              <Button\n                variant=\"secondary\"\n                className=\"rounded-2xl border border-cyan-500/40 bg-slate-950/40 text-cyan-100 hover:bg-slate-900\"\n                onClick={() => onSimulateSuggestion(suggestion)}\n              >\n                {suggestion.cta.simulateLabel}\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n      ) : null}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1658, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAC3B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,8OAAC;QACC,MAAM;QACN,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,kYACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 1687, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACtB;AAGF,MAAM,sBAAQ,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAI3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,iKAAA,CAAA,OAAmB;QAClB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iBAAiB;QAC9B,GAAG,KAAK;;;;;;AAGb,MAAM,WAAW,GAAG,iKAAA,CAAA,OAAmB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1719, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport {cn} from '@/lib/utils';\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, React.ComponentProps<'textarea'>>(\n  ({className, ...props}, ref) => {\n    return (\n      <textarea\n        className={cn(\n          'flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\nTextarea.displayName = 'Textarea';\n\nexport {Textarea};\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAC9B,CAAC,EAAC,SAAS,EAAE,GAAG,OAAM,EAAE;IACtB,qBACE,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,qTACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 1747, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/select.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAEA;AACA;AACA;AAAA;AAAA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,kKAAA,CAAA,OAAoB;AAEnC,MAAM,cAAc,kKAAA,CAAA,QAAqB;AAEzC,MAAM,cAAc,kKAAA,CAAA,QAAqB;AAEzC,MAAM,8BAAgB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGnC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC,kKAAA,CAAA,UAAuB;QACtB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,mTACA;QAED,GAAG,KAAK;;YAER;0BACD,8OAAC,kKAAA,CAAA,OAAoB;gBAAC,OAAO;0BAC3B,cAAA,8OAAC,oNAAA,CAAA,cAAW;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAI7B,cAAc,WAAW,GAAG,kKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,qCAAuB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG1C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAA,CAAA,iBAA8B;QAC7B,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,gNAAA,CAAA,YAAS;YAAC,WAAU;;;;;;;;;;;AAGzB,qBAAqB,WAAW,GAAG,kKAAA,CAAA,iBAA8B,CAAC,WAAW;AAE7E,MAAM,uCAAyB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG5C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAA,CAAA,mBAAgC;QAC/B,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,oNAAA,CAAA,cAAW;YAAC,WAAU;;;;;;;;;;;AAG3B,uBAAuB,WAAW,GAChC,kKAAA,CAAA,mBAAgC,CAAC,WAAW;AAE9C,MAAM,8BAAgB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGnC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,WAAW,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACzD,8OAAC,kKAAA,CAAA,SAAsB;kBACrB,cAAA,8OAAC,kKAAA,CAAA,UAAuB;YACtB,KAAK;YACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,ucACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,8OAAC;;;;;8BACD,8OAAC,kKAAA,CAAA,WAAwB;oBACvB,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,8OAAC;;;;;;;;;;;;;;;;AAIP,cAAc,WAAW,GAAG,kKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,0CAA0C;QACvD,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,kKAAA,CAAA,QAAqB,CAAC,WAAW;AAE3D,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC,kKAAA,CAAA,OAAoB;QACnB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,6NACA;QAED,GAAG,KAAK;;0BAET,8OAAC;gBAAK,WAAU;0BACd,cAAA,8OAAC,kKAAA,CAAA,gBAA6B;8BAC5B,cAAA,8OAAC,oMAAA,CAAA,QAAK;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAIrB,8OAAC,kKAAA,CAAA,WAAwB;0BAAE;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,kKAAA,CAAA,OAAoB,CAAC,WAAW;AAEzD,MAAM,gCAAkB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAA,CAAA,YAAyB;QACxB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,4BAA4B;QACzC,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG,kKAAA,CAAA,YAAyB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1939, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/scroll-area.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC,0KAAA,CAAA,OAAwB;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,4BAA4B;QACzC,GAAG,KAAK;;0BAET,8OAAC,0KAAA,CAAA,WAA4B;gBAAC,WAAU;0BACrC;;;;;;0BAEH,8OAAC;;;;;0BACD,8OAAC,0KAAA,CAAA,SAA0B;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,0KAAA,CAAA,OAAwB,CAAC,WAAW;AAE7D,MAAM,0BAAY,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,cAAc,UAAU,EAAE,GAAG,OAAO,EAAE,oBACpD,8OAAC,0KAAA,CAAA,sBAAuC;QACtC,KAAK;QACL,aAAa;QACb,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,iDACA,gBAAgB,cACd,sDACF,gBAAgB,gBACd,wDACF;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,0KAAA,CAAA,kBAAmC;YAAC,WAAU;;;;;;;;;;;AAGnD,UAAU,WAAW,GAAG,0KAAA,CAAA,sBAAuC,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 2007, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/goals/CreateGoalDialog.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogFooter,\n} from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Select, SelectTrigger, SelectValue, SelectContent, SelectItem } from \"@/components/ui/select\";\nimport type { Goal, GoalPriority, GoalType } from \"@/lib/goals/types\";\nimport { cn } from \"@/lib/utils\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { CalendarIcon, Link2 } from \"lucide-react\";\n\ninterface CreateGoalDialogProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  onCreate: (payload: Partial<Goal>) => Promise<unknown>;\n  isSubmitting?: boolean;\n}\n\nconst goalTypes: { label: string; value: GoalType }[] = [\n  { label: \"Financial\", value: \"financial\" },\n  { label: \"Household\", value: \"household\" },\n  { label: \"Education\", value: \"education\" },\n  { label: \"Travel\", value: \"travel\" },\n  { label: \"Health\", value: \"health\" },\n  { label: \"Other\", value: \"other\" },\n];\n\nconst priorities: { label: string; value: GoalPriority }[] = [\n  { label: \"High\", value: \"high\" },\n  { label: \"Medium\", value: \"medium\" },\n  { label: \"Low\", value: \"low\" },\n];\n\ninterface GoalFormState {\n  name: string;\n  type: GoalType;\n  target: string;\n  currency: string;\n  deadline: string;\n  priority: GoalPriority;\n  linkedEntity: string;\n  linkedEntityType: Goal[\"linkedEntity\"] extends infer Entity | undefined\n    ? Entity extends { type: infer Type }\n      ? Type extends string\n        ? Type\n        : \"bill\"\n      : \"bill\"\n    : \"bill\";\n  notes: string;\n}\n\nconst defaultState: GoalFormState = {\n  name: \"\",\n  type: \"financial\",\n  target: \"5000\",\n  currency: \"USD\",\n  deadline: \"\",\n  priority: \"medium\",\n  linkedEntity: \"\",\n  linkedEntityType: \"bill\",\n  notes: \"\",\n};\n\nexport function CreateGoalDialog({ open, onOpenChange, onCreate, isSubmitting }: CreateGoalDialogProps) {\n  const [state, setState] = useState<GoalFormState>(defaultState);\n\n  useEffect(() => {\n    if (!open) {\n      setState(defaultState);\n    }\n  }, [open]);\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-h-[85vh] w-full max-w-2xl overflow-hidden rounded-3xl border border-slate-800/70 bg-slate-950/90 p-0 text-slate-100\">\n        <DialogHeader className=\"border-b border-slate-800/60 bg-slate-950/80 px-6 py-4\">\n          <DialogTitle className=\"text-xl font-semibold text-white\">Create mission goal</DialogTitle>\n          <DialogDescription className=\"text-xs text-slate-400\">\n            Define the outcome and let Beno orchestrate funding, reminders, and linked automations.\n          </DialogDescription>\n        </DialogHeader>\n        <ScrollArea className=\"max-h-[60vh]\">\n          <div className=\"space-y-6 px-6 py-6\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"goal-name\">Goal name</Label>\n              <Input\n                id=\"goal-name\"\n                placeholder=\"Emergency buffer, trip fund, renovation...\"\n                value={state.name}\n                onChange={event => setState(prev => ({ ...prev, name: event.target.value }))}\n              />\n            </div>\n            <div className=\"grid gap-4 md:grid-cols-2\">\n              <div className=\"space-y-2\">\n                <Label>Goal type</Label>\n                <Select value={state.type} onValueChange={value => setState(prev => ({ ...prev, type: value as GoalType }))}>\n                  <SelectTrigger className=\"rounded-2xl border border-slate-800 bg-slate-900/60\">\n                    <SelectValue placeholder=\"Select type\" />\n                  </SelectTrigger>\n                  <SelectContent className=\"rounded-2xl border border-slate-800 bg-slate-950/95\">\n                    {goalTypes.map(item => (\n                      <SelectItem key={item.value} value={item.value} className=\"capitalize\">\n                        {item.label}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n              <div className=\"space-y-2\">\n                <Label>Priority</Label>\n                <Select value={state.priority} onValueChange={value => setState(prev => ({ ...prev, priority: value as GoalPriority }))}>\n                  <SelectTrigger className=\"rounded-2xl border border-slate-800 bg-slate-900/60\">\n                    <SelectValue placeholder=\"Priority\" />\n                  </SelectTrigger>\n                  <SelectContent className=\"rounded-2xl border border-slate-800 bg-slate-950/95\">\n                    {priorities.map(item => (\n                      <SelectItem key={item.value} value={item.value} className=\"capitalize\">\n                        {item.label}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n            </div>\n            <div className=\"grid gap-4 md:grid-cols-3\">\n              <div className=\"space-y-2\">\n                <Label>Target amount</Label>\n                <Input\n                  type=\"number\"\n                  min={0}\n                  value={state.target}\n                  onChange={event => setState(prev => ({ ...prev, target: event.target.value }))}\n                  className=\"rounded-2xl border border-slate-800 bg-slate-900/60\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label>Currency</Label>\n                <Input\n                  value={state.currency}\n                  onChange={event => setState(prev => ({ ...prev, currency: event.target.value.toUpperCase().slice(0, 3) }))}\n                  className=\"rounded-2xl border border-slate-800 bg-slate-900/60 uppercase\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label className=\"inline-flex items-center gap-1\"><CalendarIcon className=\"h-3 w-3\" /> Deadline</Label>\n                <Input\n                  type=\"date\"\n                  value={state.deadline}\n                  onChange={event => setState(prev => ({ ...prev, deadline: event.target.value }))}\n                  className=\"rounded-2xl border border-slate-800 bg-slate-900/60\"\n                />\n              </div>\n            </div>\n            <div className=\"space-y-2\">\n              <Label className=\"inline-flex items-center gap-1\"><Link2 className=\"h-3 w-3\" /> Link existing entity</Label>\n              <div className=\"grid gap-3 md:grid-cols-2\">\n                <Select\n                  value={state.linkedEntityType}\n                  onValueChange={value => setState(prev => ({ ...prev, linkedEntityType: value as GoalFormState[\"linkedEntityType\"] }))}\n                >\n                  <SelectTrigger className=\"rounded-2xl border border-slate-800 bg-slate-900/60\">\n                    <SelectValue placeholder=\"Entity type\" />\n                  </SelectTrigger>\n                  <SelectContent className=\"rounded-2xl border border-slate-800 bg-slate-950/95\">\n                    <SelectItem value=\"bill\">Bill</SelectItem>\n                    <SelectItem value=\"asset\">Asset</SelectItem>\n                    <SelectItem value=\"habit\">Habit</SelectItem>\n                    <SelectItem value=\"medication\">Medication</SelectItem>\n                  </SelectContent>\n                </Select>\n                <Input\n                  placeholder=\"Search entity or paste reference\"\n                  value={state.linkedEntity}\n                  onChange={event => setState(prev => ({ ...prev, linkedEntity: event.target.value }))}\n                  className=\"rounded-2xl border border-slate-800 bg-slate-900/60\"\n                />\n              </div>\n              <p className=\"text-xs text-slate-500\">Optional: attach an existing bill, asset, or wellness routine so Beno can sync context.</p>\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Notes</Label>\n              <Textarea\n                placeholder=\"Milestones, constraints, or team reminders\"\n                className=\"rounded-2xl border border-slate-800 bg-slate-900/60\"\n                rows={4}\n                value={state.notes}\n                onChange={event => setState(prev => ({ ...prev, notes: event.target.value }))}\n              />\n            </div>\n          </div>\n        </ScrollArea>\n        <DialogFooter className=\"border-t border-slate-800/60 bg-slate-950/80 px-6 py-4\">\n          <Button\n            className={cn(\"rounded-2xl bg-gradient-to-r from-cyan-500 via-sky-500 to-indigo-500 text-slate-950 shadow-lg shadow-cyan-900/40\", isSubmitting && \"opacity-80\")}\n            disabled={isSubmitting || !state.name || Number(state.target) <= 0}\n            onClick={async () => {\n              await onCreate({\n                name: state.name,\n                type: state.type,\n                target: Number(state.target),\n                currency: state.currency,\n                deadline: state.deadline ? new Date(state.deadline).toISOString() : undefined,\n                priority: state.priority,\n                notes: state.notes,\n                linkedEntity: state.linkedEntity\n                  ? { type: state.linkedEntityType, id: state.linkedEntity, label: state.linkedEntity }\n                  : undefined,\n              });\n              onOpenChange(false);\n            }}\n          >\n            {isSubmitting ? \"Saving...\" : \"Create goal\"}\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAQA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAnBA;;;;;;;;;;;;AA4BA,MAAM,YAAkD;IACtD;QAAE,OAAO;QAAa,OAAO;IAAY;IACzC;QAAE,OAAO;QAAa,OAAO;IAAY;IACzC;QAAE,OAAO;QAAa,OAAO;IAAY;IACzC;QAAE,OAAO;QAAU,OAAO;IAAS;IACnC;QAAE,OAAO;QAAU,OAAO;IAAS;IACnC;QAAE,OAAO;QAAS,OAAO;IAAQ;CAClC;AAED,MAAM,aAAuD;IAC3D;QAAE,OAAO;QAAQ,OAAO;IAAO;IAC/B;QAAE,OAAO;QAAU,OAAO;IAAS;IACnC;QAAE,OAAO;QAAO,OAAO;IAAM;CAC9B;AAoBD,MAAM,eAA8B;IAClC,MAAM;IACN,MAAM;IACN,QAAQ;IACR,UAAU;IACV,UAAU;IACV,UAAU;IACV,cAAc;IACd,kBAAkB;IAClB,OAAO;AACT;AAEO,SAAS,iBAAiB,EAAE,IAAI,EAAE,YAAY,EAAE,QAAQ,EAAE,YAAY,EAAyB;IACpG,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAElD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,CAAC,MAAM;YACT,SAAS;QACX;IACF,GAAG;QAAC;KAAK;IAET,qBACE,8OAAC,kIAAA,CAAA,SAAM;QAAC,MAAM;QAAM,cAAc;kBAChC,cAAA,8OAAC,kIAAA,CAAA,gBAAa;YAAC,WAAU;;8BACvB,8OAAC,kIAAA,CAAA,eAAY;oBAAC,WAAU;;sCACtB,8OAAC,kIAAA,CAAA,cAAW;4BAAC,WAAU;sCAAmC;;;;;;sCAC1D,8OAAC,kIAAA,CAAA,oBAAiB;4BAAC,WAAU;sCAAyB;;;;;;;;;;;;8BAIxD,8OAAC,0IAAA,CAAA,aAAU;oBAAC,WAAU;8BACpB,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,iIAAA,CAAA,QAAK;wCAAC,SAAQ;kDAAY;;;;;;kDAC3B,8OAAC,iIAAA,CAAA,QAAK;wCACJ,IAAG;wCACH,aAAY;wCACZ,OAAO,MAAM,IAAI;wCACjB,UAAU,CAAA,QAAS,SAAS,CAAA,OAAQ,CAAC;oDAAE,GAAG,IAAI;oDAAE,MAAM,MAAM,MAAM,CAAC,KAAK;gDAAC,CAAC;;;;;;;;;;;;0CAG9E,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC,iIAAA,CAAA,QAAK;0DAAC;;;;;;0DACP,8OAAC,kIAAA,CAAA,SAAM;gDAAC,OAAO,MAAM,IAAI;gDAAE,eAAe,CAAA,QAAS,SAAS,CAAA,OAAQ,CAAC;4DAAE,GAAG,IAAI;4DAAE,MAAM;wDAAkB,CAAC;;kEACvG,8OAAC,kIAAA,CAAA,gBAAa;wDAAC,WAAU;kEACvB,cAAA,8OAAC,kIAAA,CAAA,cAAW;4DAAC,aAAY;;;;;;;;;;;kEAE3B,8OAAC,kIAAA,CAAA,gBAAa;wDAAC,WAAU;kEACtB,UAAU,GAAG,CAAC,CAAA,qBACb,8OAAC,kIAAA,CAAA,aAAU;gEAAkB,OAAO,KAAK,KAAK;gEAAE,WAAU;0EACvD,KAAK,KAAK;+DADI,KAAK,KAAK;;;;;;;;;;;;;;;;;;;;;;kDAOnC,8OAAC;wCAAI,WAAU;;0DACb,8OAAC,iIAAA,CAAA,QAAK;0DAAC;;;;;;0DACP,8OAAC,kIAAA,CAAA,SAAM;gDAAC,OAAO,MAAM,QAAQ;gDAAE,eAAe,CAAA,QAAS,SAAS,CAAA,OAAQ,CAAC;4DAAE,GAAG,IAAI;4DAAE,UAAU;wDAAsB,CAAC;;kEACnH,8OAAC,kIAAA,CAAA,gBAAa;wDAAC,WAAU;kEACvB,cAAA,8OAAC,kIAAA,CAAA,cAAW;4DAAC,aAAY;;;;;;;;;;;kEAE3B,8OAAC,kIAAA,CAAA,gBAAa;wDAAC,WAAU;kEACtB,WAAW,GAAG,CAAC,CAAA,qBACd,8OAAC,kIAAA,CAAA,aAAU;gEAAkB,OAAO,KAAK,KAAK;gEAAE,WAAU;0EACvD,KAAK,KAAK;+DADI,KAAK,KAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;0CAQrC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC,iIAAA,CAAA,QAAK;0DAAC;;;;;;0DACP,8OAAC,iIAAA,CAAA,QAAK;gDACJ,MAAK;gDACL,KAAK;gDACL,OAAO,MAAM,MAAM;gDACnB,UAAU,CAAA,QAAS,SAAS,CAAA,OAAQ,CAAC;4DAAE,GAAG,IAAI;4DAAE,QAAQ,MAAM,MAAM,CAAC,KAAK;wDAAC,CAAC;gDAC5E,WAAU;;;;;;;;;;;;kDAGd,8OAAC;wCAAI,WAAU;;0DACb,8OAAC,iIAAA,CAAA,QAAK;0DAAC;;;;;;0DACP,8OAAC,iIAAA,CAAA,QAAK;gDACJ,OAAO,MAAM,QAAQ;gDACrB,UAAU,CAAA,QAAS,SAAS,CAAA,OAAQ,CAAC;4DAAE,GAAG,IAAI;4DAAE,UAAU,MAAM,MAAM,CAAC,KAAK,CAAC,WAAW,GAAG,KAAK,CAAC,GAAG;wDAAG,CAAC;gDACxG,WAAU;;;;;;;;;;;;kDAGd,8OAAC;wCAAI,WAAU;;0DACb,8OAAC,iIAAA,CAAA,QAAK;gDAAC,WAAU;;kEAAiC,8OAAC,8MAAA,CAAA,eAAY;wDAAC,WAAU;;;;;;oDAAY;;;;;;;0DACtF,8OAAC,iIAAA,CAAA,QAAK;gDACJ,MAAK;gDACL,OAAO,MAAM,QAAQ;gDACrB,UAAU,CAAA,QAAS,SAAS,CAAA,OAAQ,CAAC;4DAAE,GAAG,IAAI;4DAAE,UAAU,MAAM,MAAM,CAAC,KAAK;wDAAC,CAAC;gDAC9E,WAAU;;;;;;;;;;;;;;;;;;0CAIhB,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,iIAAA,CAAA,QAAK;wCAAC,WAAU;;0DAAiC,8OAAC,wMAAA,CAAA,QAAK;gDAAC,WAAU;;;;;;4CAAY;;;;;;;kDAC/E,8OAAC;wCAAI,WAAU;;0DACb,8OAAC,kIAAA,CAAA,SAAM;gDACL,OAAO,MAAM,gBAAgB;gDAC7B,eAAe,CAAA,QAAS,SAAS,CAAA,OAAQ,CAAC;4DAAE,GAAG,IAAI;4DAAE,kBAAkB;wDAA2C,CAAC;;kEAEnH,8OAAC,kIAAA,CAAA,gBAAa;wDAAC,WAAU;kEACvB,cAAA,8OAAC,kIAAA,CAAA,cAAW;4DAAC,aAAY;;;;;;;;;;;kEAE3B,8OAAC,kIAAA,CAAA,gBAAa;wDAAC,WAAU;;0EACvB,8OAAC,kIAAA,CAAA,aAAU;gEAAC,OAAM;0EAAO;;;;;;0EACzB,8OAAC,kIAAA,CAAA,aAAU;gEAAC,OAAM;0EAAQ;;;;;;0EAC1B,8OAAC,kIAAA,CAAA,aAAU;gEAAC,OAAM;0EAAQ;;;;;;0EAC1B,8OAAC,kIAAA,CAAA,aAAU;gEAAC,OAAM;0EAAa;;;;;;;;;;;;;;;;;;0DAGnC,8OAAC,iIAAA,CAAA,QAAK;gDACJ,aAAY;gDACZ,OAAO,MAAM,YAAY;gDACzB,UAAU,CAAA,QAAS,SAAS,CAAA,OAAQ,CAAC;4DAAE,GAAG,IAAI;4DAAE,cAAc,MAAM,MAAM,CAAC,KAAK;wDAAC,CAAC;gDAClF,WAAU;;;;;;;;;;;;kDAGd,8OAAC;wCAAE,WAAU;kDAAyB;;;;;;;;;;;;0CAExC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,iIAAA,CAAA,QAAK;kDAAC;;;;;;kDACP,8OAAC,oIAAA,CAAA,WAAQ;wCACP,aAAY;wCACZ,WAAU;wCACV,MAAM;wCACN,OAAO,MAAM,KAAK;wCAClB,UAAU,CAAA,QAAS,SAAS,CAAA,OAAQ,CAAC;oDAAE,GAAG,IAAI;oDAAE,OAAO,MAAM,MAAM,CAAC,KAAK;gDAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;8BAKnF,8OAAC,kIAAA,CAAA,eAAY;oBAAC,WAAU;8BACtB,cAAA,8OAAC,kIAAA,CAAA,SAAM;wBACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,oHAAoH,gBAAgB;wBAClJ,UAAU,gBAAgB,CAAC,MAAM,IAAI,IAAI,OAAO,MAAM,MAAM,KAAK;wBACjE,SAAS;4BACP,MAAM,SAAS;gCACb,MAAM,MAAM,IAAI;gCAChB,MAAM,MAAM,IAAI;gCAChB,QAAQ,OAAO,MAAM,MAAM;gCAC3B,UAAU,MAAM,QAAQ;gCACxB,UAAU,MAAM,QAAQ,GAAG,IAAI,KAAK,MAAM,QAAQ,EAAE,WAAW,KAAK;gCACpE,UAAU,MAAM,QAAQ;gCACxB,OAAO,MAAM,KAAK;gCAClB,cAAc,MAAM,YAAY,GAC5B;oCAAE,MAAM,MAAM,gBAAgB;oCAAE,IAAI,MAAM,YAAY;oCAAE,OAAO,MAAM,YAAY;gCAAC,IAClF;4BACN;4BACA,aAAa;wBACf;kCAEC,eAAe,cAAc;;;;;;;;;;;;;;;;;;;;;;AAM1C","debugId":null}},
    {"offset": {"line": 2609, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/sheet.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AAEA;AAPA;;;;;;;AASA,MAAM,QAAQ,kKAAA,CAAA,OAAmB;AAEjC,MAAM,eAAe,kKAAA,CAAA,UAAsB;AAE3C,MAAM,aAAa,kKAAA,CAAA,QAAoB;AAEvC,MAAM,cAAc,kKAAA,CAAA,SAAqB;AAEzC,MAAM,6BAAe,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAA,CAAA,UAAsB;QACrB,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,2JACA;QAED,GAAG,KAAK;QACT,KAAK;;;;;;AAGT,aAAa,WAAW,GAAG,kKAAA,CAAA,UAAsB,CAAC,WAAW;AAE7D,MAAM,gBAAgB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACtB,oMACA;IACE,UAAU;QACR,MAAM;YACJ,KAAK;YACL,QACE;YACF,MAAM;YACN,OACE;QACJ;IACF;IACA,iBAAiB;QACf,MAAM;IACR;AACF;AAOF,MAAM,6BAAe,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGlC,CAAC,EAAE,OAAO,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpD,8OAAC;;0BACC,8OAAC;;;;;0BACD,8OAAC,kKAAA,CAAA,UAAsB;gBACrB,KAAK;gBACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;oBAAE;gBAAK,IAAI;gBACtC,GAAG,KAAK;;oBAER;kCACD,8OAAC,kKAAA,CAAA,QAAoB;wBAAC,WAAU;;0CAC9B,8OAAC,4LAAA,CAAA,IAAC;gCAAC,WAAU;;;;;;0CACb,8OAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,aAAa,WAAW,GAAG,kKAAA,CAAA,UAAsB,CAAC,WAAW;AAE7D,MAAM,cAAc,CAAC,EACnB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,oDACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG;AAE1B,MAAM,cAAc,CAAC,EACnB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAA,CAAA,QAAoB;QACnB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,yCAAyC;QACtD,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG,kKAAA,CAAA,QAAoB,CAAC,WAAW;AAEzD,MAAM,iCAAmB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAA,CAAA,cAA0B;QACzB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,iBAAiB,WAAW,GAAG,kKAAA,CAAA,cAA0B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 2758, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/goals/EditGoalDrawer.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Select, SelectTrigger, SelectValue, SelectContent, SelectItem } from \"@/components/ui/select\";\nimport type { Goal, GoalPriority, GoalType } from \"@/lib/goals/types\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { CalendarIcon, Link2, Sparkles, Target } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\n\ninterface EditGoalDrawerProps {\n  goal: Goal | null;\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  onSave: (payload: Partial<Goal>) => Promise<unknown>;\n  onArchive: () => Promise<unknown>;\n  focusSection?: \"link\" | \"overview\";\n}\n\nconst goalTypes: { label: string; value: GoalType }[] = [\n  { label: \"Financial\", value: \"financial\" },\n  { label: \"Household\", value: \"household\" },\n  { label: \"Education\", value: \"education\" },\n  { label: \"Travel\", value: \"travel\" },\n  { label: \"Health\", value: \"health\" },\n  { label: \"Other\", value: \"other\" },\n];\n\nconst priorities: { label: string; value: GoalPriority }[] = [\n  { label: \"High\", value: \"high\" },\n  { label: \"Medium\", value: \"medium\" },\n  { label: \"Low\", value: \"low\" },\n];\n\nexport function EditGoalDrawer({ goal, open, onOpenChange, onSave, onArchive, focusSection = \"overview\" }: EditGoalDrawerProps) {\n  const [name, setName] = useState(goal?.name ?? \"\");\n  const [target, setTarget] = useState(goal?.target.toString() ?? \"0\");\n  const [deadline, setDeadline] = useState<string>(goal?.deadline ? new Date(goal.deadline).toISOString().slice(0, 10) : \"\");\n  const [priority, setPriority] = useState<GoalPriority>(goal?.priority ?? \"medium\");\n  const [type, setType] = useState<GoalType>(goal?.type ?? \"financial\");\n  const [notes, setNotes] = useState(goal?.notes ?? \"\");\n  const [linkedLabel, setLinkedLabel] = useState(goal?.linkedEntity?.label ?? \"\");\n  const [linkedType, setLinkedType] = useState<Goal[\"linkedEntity\"] extends infer Entity | undefined\n    ? Entity extends { type: infer Type }\n      ? Type extends string\n        ? Type\n        : \"bill\"\n      : \"bill\"\n    : \"bill\">(goal?.linkedEntity?.type ?? \"bill\");\n\n  useEffect(() => {\n    if (goal) {\n      setName(goal.name);\n      setTarget(goal.target.toString());\n      setDeadline(goal.deadline ? new Date(goal.deadline).toISOString().slice(0, 10) : \"\");\n      setPriority(goal.priority);\n      setType(goal.type);\n      setNotes(goal.notes ?? \"\");\n      setLinkedLabel(goal.linkedEntity?.label ?? goal.linkedEntity?.id ?? \"\");\n      setLinkedType(goal.linkedEntity?.type ?? \"bill\");\n    }\n  }, [goal]);\n\n  const progress = useMemo(() => (goal && goal.target > 0 ? Math.round((goal.current / goal.target) * 100) : 0), [goal]);\n  const amountLeft = useMemo(() => (goal ? Math.max(0, goal.target - goal.current) : 0), [goal]);\n\n  return (\n    <Sheet open={open} onOpenChange={onOpenChange}>\n      <SheetContent side=\"right\" className=\"w-full max-w-xl border-l border-slate-900/70 bg-slate-950/90 text-slate-100\">\n        <SheetHeader>\n          <SheetTitle className=\"text-white\">Mission control</SheetTitle>\n          <SheetDescription className=\"text-slate-400\">\n            Adjust parameters, link context, or hand off to automations.\n          </SheetDescription>\n        </SheetHeader>\n        {goal ? (\n          <div className=\"mt-6 space-y-6\">\n            <div className=\"grid gap-4 rounded-3xl border border-slate-900/60 bg-slate-950/70 p-4\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <h3 className=\"text-lg font-semibold text-white\">{goal.name}</h3>\n                  <p className=\"text-xs text-slate-400\">{goal.type} goal  {goal.currency ?? \"USD\"}</p>\n                </div>\n                <Badge className=\"rounded-xl border border-cyan-500/30 bg-cyan-500/10 text-xs text-cyan-100\">{progress}%</Badge>\n              </div>\n              <div className=\"flex items-center justify-between text-sm text-slate-300\">\n                <div>\n                  <span className=\"font-medium text-white\">{goal.current.toLocaleString(undefined, { style: \"currency\", currency: goal.currency ?? \"USD\" })}</span>\n                  <span className=\"text-xs text-slate-500\"> / {goal.target.toLocaleString(undefined, { style: \"currency\", currency: goal.currency ?? \"USD\" })}</span>\n                </div>\n                <div className=\"flex items-center gap-2 text-xs text-slate-400\">\n                  <Target className=\"h-3 w-3\" /> Remaining {goal.currency ? new Intl.NumberFormat(\"en-US\", { style: \"currency\", currency: goal.currency }).format(amountLeft) : amountLeft.toLocaleString()}\n                </div>\n              </div>\n            </div>\n            <div className=\"space-y-4\">\n              <div className=\"grid gap-4 md:grid-cols-2\">\n                <div className=\"space-y-2\">\n                  <Label>Name</Label>\n                  <Input value={name} onChange={event => setName(event.target.value)} className=\"rounded-2xl border border-slate-800 bg-slate-900/60\" />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label>Target</Label>\n                  <Input value={target} onChange={event => setTarget(event.target.value)} type=\"number\" className=\"rounded-2xl border border-slate-800 bg-slate-900/60\" />\n                </div>\n              </div>\n              <div className=\"grid gap-4 md:grid-cols-2\">\n                <div className=\"space-y-2\">\n                  <Label>Priority</Label>\n                  <Select value={priority} onValueChange={value => setPriority(value as GoalPriority)}>\n                    <SelectTrigger className=\"rounded-2xl border border-slate-800 bg-slate-900/60\">\n                      <SelectValue placeholder=\"Select priority\" />\n                    </SelectTrigger>\n                    <SelectContent className=\"rounded-2xl border border-slate-800 bg-slate-950/95\">\n                      {priorities.map(item => (\n                        <SelectItem key={item.value} value={item.value} className=\"capitalize\">\n                          {item.label}\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                </div>\n                <div className=\"space-y-2\">\n                  <Label>Goal type</Label>\n                  <Select value={type} onValueChange={value => setType(value as GoalType)}>\n                    <SelectTrigger className=\"rounded-2xl border border-slate-800 bg-slate-900/60\">\n                      <SelectValue placeholder=\"Select type\" />\n                    </SelectTrigger>\n                    <SelectContent className=\"rounded-2xl border border-slate-800 bg-slate-950/95\">\n                      {goalTypes.map(item => (\n                        <SelectItem key={item.value} value={item.value} className=\"capitalize\">\n                          {item.label}\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                </div>\n              </div>\n              <div className=\"grid gap-4 md:grid-cols-2\">\n                <div className=\"space-y-2\">\n                  <Label className=\"inline-flex items-center gap-1\"><CalendarIcon className=\"h-3 w-3\" /> Deadline</Label>\n                  <Input value={deadline} onChange={event => setDeadline(event.target.value)} type=\"date\" className=\"rounded-2xl border border-slate-800 bg-slate-900/60\" />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label>Status</Label>\n                  <div className=\"rounded-2xl border border-slate-800 bg-slate-900/60 px-3 py-2 text-sm text-slate-300\">\n                    {goal.current >= goal.target ? \"Completed\" : goal.archived ? \"Archived\" : \"Active\"}\n                  </div>\n                </div>\n              </div>\n              <div className=\"space-y-2\">\n                <Label>Notes</Label>\n                <Textarea value={notes} onChange={event => setNotes(event.target.value)} className=\"rounded-2xl border border-slate-800 bg-slate-900/60\" rows={4} />\n              </div>\n              <div className={cn(\"space-y-3\", focusSection === \"link\" && \"ring-2 ring-cyan-400/40 rounded-3xl p-3 -mx-3 bg-slate-900/40\")}> \n                <Label className=\"inline-flex items-center gap-2 text-sm font-medium text-slate-200\">\n                  <Link2 className=\"h-4 w-4 text-cyan-300\" /> Linked entity\n                </Label>\n                <div className=\"grid gap-3 md:grid-cols-2\">\n                  <Select value={linkedType} onValueChange={value => setLinkedType(value as typeof linkedType)}>\n                    <SelectTrigger className=\"rounded-2xl border border-slate-800 bg-slate-900/60\">\n                      <SelectValue placeholder=\"Entity type\" />\n                    </SelectTrigger>\n                    <SelectContent className=\"rounded-2xl border border-slate-800 bg-slate-950/95\">\n                      <SelectItem value=\"bill\">Bill</SelectItem>\n                      <SelectItem value=\"asset\">Asset</SelectItem>\n                      <SelectItem value=\"habit\">Habit</SelectItem>\n                      <SelectItem value=\"medication\">Medication</SelectItem>\n                    </SelectContent>\n                  </Select>\n                  <Input\n                    placeholder=\"Entity ID or name\"\n                    value={linkedLabel}\n                    onChange={event => setLinkedLabel(event.target.value)}\n                    className=\"rounded-2xl border border-slate-800 bg-slate-900/60\"\n                  />\n                </div>\n                <p className=\"text-xs text-slate-500\">Attach a data source so Beno can sync actual spend, adherence, or meter readings.</p>\n              </div>\n              <div className=\"rounded-3xl border border-slate-900/60 bg-slate-950/60 p-4 text-sm text-slate-300\">\n                <p className=\"mb-2 flex items-center gap-2 font-medium text-white\">\n                  <Sparkles className=\"h-4 w-4 text-cyan-300\" /> Automation state\n                </p>\n                {goal.autoFundRule ? (\n                  <p className=\"text-xs text-slate-400\">\n                    {`$${goal.autoFundRule.amount} ${goal.autoFundRule.frequency} from ${goal.autoFundRule.sourceAccountId}.`}\n                  </p>\n                ) : (\n                  <p className=\"text-xs text-slate-500\">No automation yet. Enable auto-funding from the card actions.</p>\n                )}\n              </div>\n            </div>\n            <div className=\"flex flex-col gap-3 border-t border-slate-900/60 pt-4\">\n              <Button\n                className=\"rounded-2xl bg-gradient-to-r from-cyan-500 via-sky-500 to-indigo-500 text-slate-950 shadow-lg shadow-cyan-900/40\"\n                disabled={!name.trim() || Number(target) <= 0}\n                onClick={async () => {\n                  await onSave({\n                    name: name.trim(),\n                    target: Number(target),\n                    deadline: deadline ? new Date(deadline).toISOString() : undefined,\n                    priority,\n                    type,\n                    notes,\n                    linkedEntity: linkedLabel\n                      ? { type: linkedType, id: linkedLabel, label: linkedLabel }\n                      : undefined,\n                  });\n                  onOpenChange(false);\n                }}\n              >\n                Save updates\n              </Button>\n              <Button\n                variant=\"ghost\"\n                className=\"rounded-2xl border border-rose-500/40 bg-rose-500/10 text-rose-200 hover:bg-rose-500/20\"\n                onClick={async () => {\n                  await onArchive();\n                  onOpenChange(false);\n                }}\n              >\n                Archive goal\n              </Button>\n            </div>\n          </div>\n        ) : null}\n      </SheetContent>\n    </Sheet>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3525, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/goals/FundGoalDialog.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogFooter,\n} from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Select, SelectTrigger, SelectValue, SelectContent, SelectItem } from \"@/components/ui/select\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport type { FundingAccount, Goal } from \"@/lib/goals/types\";\nimport { cn } from \"@/lib/utils\";\n\ninterface FundGoalDialogProps {\n  goal: Goal | null;\n  accounts: FundingAccount[];\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  onFund: (payload: { amount: number; sourceAccountId: string; date?: string; note?: string }) => Promise<unknown>;\n  isSubmitting?: boolean;\n}\n\nexport function FundGoalDialog({ goal, accounts, open, onOpenChange, onFund, isSubmitting }: FundGoalDialogProps) {\n  const [source, setSource] = useState(accounts[0]?.id ?? \"\");\n  const [amount, setAmount] = useState(\"250\");\n  const [date, setDate] = useState(() => new Date().toISOString().slice(0, 10));\n  const [note, setNote] = useState(\"Accelerated contribution\");\n\n  useEffect(() => {\n    if (accounts.length && !source) {\n      setSource(accounts[0].id);\n    }\n  }, [accounts, source]);\n\n  useEffect(() => {\n    if (!open) {\n      setAmount(\"250\");\n      setDate(new Date().toISOString().slice(0, 10));\n      setNote(\"Accelerated contribution\");\n    }\n  }, [open]);\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"w-full max-w-lg rounded-3xl border border-slate-900/70 bg-slate-950/90 p-0 text-slate-100\">\n        <DialogHeader className=\"space-y-2 border-b border-slate-900/60 bg-slate-950/80 px-6 py-4\">\n          <DialogTitle className=\"text-xl font-semibold text-white\">Fund goal</DialogTitle>\n          <DialogDescription className=\"text-xs text-slate-400\">\n            Send a manual boost from a linked account. Beno recalculates timeline instantly.\n          </DialogDescription>\n        </DialogHeader>\n        <div className=\"space-y-5 px-6 py-6\">\n          <div className=\"rounded-2xl border border-cyan-500/20 bg-cyan-500/5 px-4 py-3 text-sm text-cyan-100\">\n            {goal ? (\n              <div className=\"flex flex-col gap-1\">\n                <span className=\"text-xs uppercase tracking-wide text-cyan-300/80\">{goal.name}</span>\n                <span className=\"text-lg font-semibold text-white\">\n                  {new Intl.NumberFormat(\"en-US\", { style: \"currency\", currency: goal.currency ?? \"USD\" }).format(goal.current)}\n                  <span className=\"text-sm text-cyan-200/70\"> / {new Intl.NumberFormat(\"en-US\", { style: \"currency\", currency: goal.currency ?? \"USD\" }).format(goal.target)}</span>\n                </span>\n                <span className=\"text-xs text-cyan-200/70\">Remaining {new Intl.NumberFormat(\"en-US\", { style: \"currency\", currency: goal.currency ?? \"USD\" }).format(Math.max(0, goal.target - goal.current))}</span>\n              </div>\n            ) : (\n              \"Select a goal\"\n            )}\n          </div>\n          <div className=\"space-y-2\">\n            <Label>Source account</Label>\n            <Select value={source} onValueChange={setSource}>\n              <SelectTrigger className=\"rounded-2xl border border-slate-800 bg-slate-900/60\">\n                <SelectValue placeholder=\"Select account\" />\n              </SelectTrigger>\n              <SelectContent className=\"rounded-2xl border border-slate-800 bg-slate-950/95\">\n                {accounts.map(account => (\n                  <SelectItem key={account.id} value={account.id}>\n                    <div className=\"flex flex-col\">\n                      <span className=\"text-sm text-white\">{account.name}</span>\n                      <span className=\"text-xs text-slate-500\">{account.institution}  {account.type}</span>\n                    </div>\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n          <div className=\"grid gap-4 md:grid-cols-2\">\n            <div className=\"space-y-2\">\n              <Label>Amount</Label>\n              <Input\n                type=\"number\"\n                min={0}\n                value={amount}\n                onChange={event => setAmount(event.target.value)}\n                className=\"rounded-2xl border border-slate-800 bg-slate-900/60\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Date</Label>\n              <Input type=\"date\" value={date} onChange={event => setDate(event.target.value)} className=\"rounded-2xl border border-slate-800 bg-slate-900/60\" />\n            </div>\n          </div>\n          <div className=\"space-y-2\">\n            <Label>Note</Label>\n            <Textarea value={note} onChange={event => setNote(event.target.value)} rows={3} className=\"rounded-2xl border border-slate-800 bg-slate-900/60\" />\n          </div>\n        </div>\n        <DialogFooter className=\"border-t border-slate-900/60 bg-slate-950/80 px-6 py-4\">\n          <Button\n            className={cn(\"rounded-2xl bg-gradient-to-r from-emerald-500 via-cyan-500 to-sky-500 text-slate-950 shadow-lg shadow-cyan-900/40\", isSubmitting && \"opacity-80\")}\n            disabled={isSubmitting || !goal || Number(amount) <= 0 || !source}\n            onClick={async () => {\n              if (!goal) return;\n              await onFund({ amount: Number(amount), sourceAccountId: source, date, note });\n              onOpenChange(false);\n            }}\n          >\n            {isSubmitting ? \"Allocating...\" : \"Allocate funds\"}\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAQA;AACA;AACA;AACA;AACA;AAEA;AAjBA;;;;;;;;;;AA4BO,SAAS,eAAe,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,YAAY,EAAE,MAAM,EAAE,YAAY,EAAuB;IAC9G,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,QAAQ,CAAC,EAAE,EAAE,MAAM;IACxD,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACrC,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,IAAM,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,GAAG;IACzE,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEjC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,SAAS,MAAM,IAAI,CAAC,QAAQ;YAC9B,UAAU,QAAQ,CAAC,EAAE,CAAC,EAAE;QAC1B;IACF,GAAG;QAAC;QAAU;KAAO;IAErB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,CAAC,MAAM;YACT,UAAU;YACV,QAAQ,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,GAAG;YAC1C,QAAQ;QACV;IACF,GAAG;QAAC;KAAK;IAET,qBACE,8OAAC,kIAAA,CAAA,SAAM;QAAC,MAAM;QAAM,cAAc;kBAChC,cAAA,8OAAC,kIAAA,CAAA,gBAAa;YAAC,WAAU;;8BACvB,8OAAC,kIAAA,CAAA,eAAY;oBAAC,WAAU;;sCACtB,8OAAC,kIAAA,CAAA,cAAW;4BAAC,WAAU;sCAAmC;;;;;;sCAC1D,8OAAC,kIAAA,CAAA,oBAAiB;4BAAC,WAAU;sCAAyB;;;;;;;;;;;;8BAIxD,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCACZ,qBACC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAK,WAAU;kDAAoD,KAAK,IAAI;;;;;;kDAC7E,8OAAC;wCAAK,WAAU;;4CACb,IAAI,KAAK,YAAY,CAAC,SAAS;gDAAE,OAAO;gDAAY,UAAU,KAAK,QAAQ,IAAI;4CAAM,GAAG,MAAM,CAAC,KAAK,OAAO;0DAC5G,8OAAC;gDAAK,WAAU;;oDAA2B;oDAAI,IAAI,KAAK,YAAY,CAAC,SAAS;wDAAE,OAAO;wDAAY,UAAU,KAAK,QAAQ,IAAI;oDAAM,GAAG,MAAM,CAAC,KAAK,MAAM;;;;;;;;;;;;;kDAE3J,8OAAC;wCAAK,WAAU;;4CAA2B;4CAAW,IAAI,KAAK,YAAY,CAAC,SAAS;gDAAE,OAAO;gDAAY,UAAU,KAAK,QAAQ,IAAI;4CAAM,GAAG,MAAM,CAAC,KAAK,GAAG,CAAC,GAAG,KAAK,MAAM,GAAG,KAAK,OAAO;;;;;;;;;;;;uCAG7L;;;;;;sCAGJ,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,iIAAA,CAAA,QAAK;8CAAC;;;;;;8CACP,8OAAC,kIAAA,CAAA,SAAM;oCAAC,OAAO;oCAAQ,eAAe;;sDACpC,8OAAC,kIAAA,CAAA,gBAAa;4CAAC,WAAU;sDACvB,cAAA,8OAAC,kIAAA,CAAA,cAAW;gDAAC,aAAY;;;;;;;;;;;sDAE3B,8OAAC,kIAAA,CAAA,gBAAa;4CAAC,WAAU;sDACtB,SAAS,GAAG,CAAC,CAAA,wBACZ,8OAAC,kIAAA,CAAA,aAAU;oDAAkB,OAAO,QAAQ,EAAE;8DAC5C,cAAA,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEAAK,WAAU;0EAAsB,QAAQ,IAAI;;;;;;0EAClD,8OAAC;gEAAK,WAAU;;oEAA0B,QAAQ,WAAW;oEAAC;oEAAI,QAAQ,IAAI;;;;;;;;;;;;;mDAHjE,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;;sCAUnC,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,iIAAA,CAAA,QAAK;sDAAC;;;;;;sDACP,8OAAC,iIAAA,CAAA,QAAK;4CACJ,MAAK;4CACL,KAAK;4CACL,OAAO;4CACP,UAAU,CAAA,QAAS,UAAU,MAAM,MAAM,CAAC,KAAK;4CAC/C,WAAU;;;;;;;;;;;;8CAGd,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,iIAAA,CAAA,QAAK;sDAAC;;;;;;sDACP,8OAAC,iIAAA,CAAA,QAAK;4CAAC,MAAK;4CAAO,OAAO;4CAAM,UAAU,CAAA,QAAS,QAAQ,MAAM,MAAM,CAAC,KAAK;4CAAG,WAAU;;;;;;;;;;;;;;;;;;sCAG9F,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,iIAAA,CAAA,QAAK;8CAAC;;;;;;8CACP,8OAAC,oIAAA,CAAA,WAAQ;oCAAC,OAAO;oCAAM,UAAU,CAAA,QAAS,QAAQ,MAAM,MAAM,CAAC,KAAK;oCAAG,MAAM;oCAAG,WAAU;;;;;;;;;;;;;;;;;;8BAG9F,8OAAC,kIAAA,CAAA,eAAY;oBAAC,WAAU;8BACtB,cAAA,8OAAC,kIAAA,CAAA,SAAM;wBACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,qHAAqH,gBAAgB;wBACnJ,UAAU,gBAAgB,CAAC,QAAQ,OAAO,WAAW,KAAK,CAAC;wBAC3D,SAAS;4BACP,IAAI,CAAC,MAAM;4BACX,MAAM,OAAO;gCAAE,QAAQ,OAAO;gCAAS,iBAAiB;gCAAQ;gCAAM;4BAAK;4BAC3E,aAAa;wBACf;kCAEC,eAAe,kBAAkB;;;;;;;;;;;;;;;;;;;;;;AAM9C","debugId":null}},
    {"offset": {"line": 3889, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/slider.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAA,CAAA,OAAoB;QACnB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;0BAET,8OAAC,kKAAA,CAAA,QAAqB;gBAAC,WAAU;0BAC/B,cAAA,8OAAC,kKAAA,CAAA,QAAqB;oBAAC,WAAU;;;;;;;;;;;0BAEnC,8OAAC,kKAAA,CAAA,QAAqB;gBAAC,WAAU;;;;;;;;;;;;AAGrC,OAAO,WAAW,GAAG,kKAAA,CAAA,OAAoB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 3941, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/chart.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item.dataKey || item.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4237, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/goals/SimulationDrawer.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\";\nimport { Button } from \"@/components/ui/button\";\nimport { Label } from \"@/components/ui/label\";\nimport { Slider } from \"@/components/ui/slider\";\nimport type { Goal, SimulationInput, SimulationResult } from \"@/lib/goals/types\";\nimport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n} from \"@/components/ui/chart\";\nimport { Line, LineChart, CartesianGrid, XAxis, YAxis, ResponsiveContainer } from \"recharts\";\nimport { Loader2, Save, Share2, Sparkles } from \"lucide-react\";\n\ninterface SimulationDrawerProps {\n  goal: Goal | null;\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  onSimulate: (goalId: string, input: SimulationInput) => Promise<SimulationResult>;\n  onSaveScenario?: (result: SimulationResult, input: SimulationInput) => void;\n  onApplyAutomation?: (input: SimulationInput) => void;\n  onShare?: (result: SimulationResult) => void;\n}\n\nfunction buildProjection(goal: Goal, input: SimulationInput): SimulationResult {\n  const monthlyContribution = input.weeklyContribution * (52 / 12) * (1 + input.incomeChangePct / 100);\n  const points: { monthLabel: string; projectedTotal: number; contribution: number }[] = [];\n  let current = goal.current;\n  let month = 0;\n  const maxMonths = 60;\n\n  while (current < goal.target && month < maxMonths) {\n    current += monthlyContribution;\n    month += 1;\n    points.push({\n      monthLabel: `M${month}`,\n      projectedTotal: Number(current.toFixed(2)),\n      contribution: Number(monthlyContribution.toFixed(2)),\n    });\n  }\n\n  if (points.length === 0) {\n    points.push({ monthLabel: \"Now\", projectedTotal: goal.current, contribution: 0 });\n  }\n\n  const reachDate = new Date();\n  reachDate.setMonth(reachDate.getMonth() + month);\n\n  return {\n    points,\n    monthsToTarget: month,\n    reachDate: reachDate.toISOString(),\n  };\n}\n\nconst chartConfig = {\n  projectedTotal: {\n    label: \"Projected balance\",\n    color: \"#38bdf8\",\n  },\n};\n\nexport function SimulationDrawer({ goal, open, onOpenChange, onSimulate, onSaveScenario, onApplyAutomation, onShare }: SimulationDrawerProps) {\n  const [weeklyContribution, setWeeklyContribution] = useState(200);\n  const [incomeChangePct, setIncomeChangePct] = useState(0);\n  const [isRunning, setIsRunning] = useState(false);\n  const [result, setResult] = useState<SimulationResult | null>(null);\n\n  useEffect(() => {\n    if (goal) {\n      const base = goal.autoFundRule?.amount ?? Math.max(50, Math.round((goal.target - goal.current) / 26));\n      setWeeklyContribution(base);\n      setIncomeChangePct(0);\n      setResult(buildProjection(goal, { weeklyContribution: base, incomeChangePct: 0 }));\n    }\n  }, [goal]);\n\n  const projection = useMemo(() => {\n    if (!goal) return null;\n    if (result && !isRunning) {\n      return result;\n    }\n    return buildProjection(goal, { weeklyContribution, incomeChangePct });\n  }, [goal, result, weeklyContribution, incomeChangePct, isRunning]);\n\n  return (\n    <Sheet open={open} onOpenChange={onOpenChange}>\n      <SheetContent side=\"right\" className=\"w-full max-w-3xl border-l border-slate-900/70 bg-slate-950/95 text-slate-100\">\n        <SheetHeader>\n          <SheetTitle className=\"text-white\">Scenario simulator</SheetTitle>\n          <SheetDescription className=\"text-slate-400\">\n            Model contributions and income shifts. Apply winning plans with one click.\n          </SheetDescription>\n        </SheetHeader>\n        {goal ? (\n          <div className=\"mt-6 grid gap-6 lg:grid-cols-[320px,1fr]\">\n            <div className=\"space-y-6 rounded-3xl border border-slate-900/60 bg-slate-950/70 p-5\">\n              <div className=\"space-y-2\">\n                <Label className=\"text-xs uppercase tracking-wide text-slate-400\">Weekly contribution</Label>\n                <div className=\"flex items-baseline justify-between text-sm text-slate-300\">\n                  <span className=\"text-2xl font-semibold text-white\">${weeklyContribution}</span>\n                  <span>per week</span>\n                </div>\n                <Slider\n                  value={[weeklyContribution]}\n                  onValueChange={([value]) => setWeeklyContribution(Math.round(value))}\n                  min={10}\n                  max={1000}\n                  step={10}\n                  className=\"mt-4\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label className=\"text-xs uppercase tracking-wide text-slate-400\">Income change</Label>\n                <div className=\"flex items-baseline justify-between text-sm text-slate-300\">\n                  <span className=\"text-2xl font-semibold text-white\">{incomeChangePct}%</span>\n                  <span>expected variation</span>\n                </div>\n                <Slider\n                  value={[incomeChangePct]}\n                  onValueChange={([value]) => setIncomeChangePct(Math.round(value))}\n                  min={-50}\n                  max={100}\n                  step={5}\n                  className=\"mt-4\"\n                />\n              </div>\n              <div className=\"rounded-2xl border border-cyan-500/20 bg-cyan-500/10 p-4 text-sm text-cyan-100\">\n                <p className=\"text-xs uppercase tracking-wide text-cyan-200/80\">Outcome</p>\n                <p className=\"mt-1 text-lg font-semibold text-white\">\n                  {projection ? (projection.monthsToTarget > 0 ? `Target in ${projection.monthsToTarget} months` : \"Target already met\") : \"Adjust sliders\"}\n                </p>\n                {projection ? (\n                  <p className=\"text-xs text-cyan-100/80\">\n                    ETA {new Date(projection.reachDate).toLocaleDateString(undefined, { month: \"short\", year: \"numeric\" })}\n                  </p>\n                ) : null}\n              </div>\n              <div className=\"grid gap-3\">\n                <Button\n                  className=\"rounded-2xl bg-gradient-to-r from-cyan-500 via-sky-500 to-indigo-500 text-slate-950 shadow-lg shadow-cyan-900/40\"\n                  disabled={isRunning}\n                  onClick={async () => {\n                    if (!goal) return;\n                    setIsRunning(true);\n                    const simInput: SimulationInput = { weeklyContribution, incomeChangePct };\n                    try {\n                      const response = await onSimulate(goal.id, simInput);\n                      setResult(response);\n                    } finally {\n                      setIsRunning(false);\n                    }\n                  }}\n                >\n                  {isRunning ? (\n                    <span className=\"inline-flex items-center gap-2\"><Loader2 className=\"h-4 w-4 animate-spin\" /> Computing...</span>\n                  ) : (\n                    <span className=\"inline-flex items-center gap-2\"><Sparkles className=\"h-4 w-4\" /> Run AI projection</span>\n                  )}\n                </Button>\n                <Button\n                  variant=\"secondary\"\n                  className=\"rounded-2xl border border-slate-800 bg-slate-900/60 text-slate-200 hover:bg-slate-800\"\n                  onClick={() => {\n                    if (!projection) return;\n                    onSaveScenario?.(projection, { weeklyContribution, incomeChangePct });\n                  }}\n                >\n                  <span className=\"inline-flex items-center gap-2\"><Save className=\"h-4 w-4\" /> Save scenario</span>\n                </Button>\n                <Button\n                  variant=\"outline\"\n                  className=\"rounded-2xl border border-cyan-500/50 text-cyan-200 hover:bg-cyan-500/10\"\n                  onClick={() => onApplyAutomation?.({ weeklyContribution, incomeChangePct })}\n                >\n                  <span className=\"inline-flex items-center gap-2\"><Sparkles className=\"h-4 w-4\" /> Apply as automation</span>\n                </Button>\n                <Button\n                  variant=\"ghost\"\n                  className=\"rounded-2xl border border-slate-800 bg-slate-900/60 text-slate-200 hover:bg-slate-800\"\n                  onClick={() => {\n                    if (!projection) return;\n                    onShare?.(projection);\n                  }}\n                >\n                  <span className=\"inline-flex items-center gap-2\"><Share2 className=\"h-4 w-4\" /> Share summary</span>\n                </Button>\n              </div>\n            </div>\n            <div className=\"rounded-3xl border border-slate-900/60 bg-slate-950/70 p-5\">\n              <ChartContainer\n                config={chartConfig}\n                className=\"h-[360px]\"\n              >\n                <ResponsiveContainer>\n                  <LineChart data={projection?.points ?? []}>\n                    <CartesianGrid strokeDasharray=\"3 3\" stroke=\"rgba(148,163,184,0.2)\" />\n                    <XAxis dataKey=\"monthLabel\" stroke=\"rgba(148,163,184,0.5)\" tickLine={false} axisLine={false} />\n                    <YAxis stroke=\"rgba(148,163,184,0.5)\" tickFormatter={value => `$${Number(value).toLocaleString()}`} width={80} />\n                    <ChartTooltip content={<ChartTooltipContent />} cursor={{ stroke: \"rgba(56,189,248,0.4)\", strokeWidth: 2 }} />\n                    <Line type=\"monotone\" dataKey=\"projectedTotal\" stroke=\"var(--color-projectedTotal, #38bdf8)\" strokeWidth={3} dot={false} />\n                  </LineChart>\n                </ResponsiveContainer>\n              </ChartContainer>\n            </div>\n          </div>\n        ) : (\n          <div className=\"mt-10 rounded-3xl border border-dashed border-slate-800 bg-slate-950/70 p-10 text-center text-slate-400\">\n            Select a goal to start simulation.\n          </div>\n        )}\n      </SheetContent>\n    </Sheet>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAOA;AACA;AACA;AAEA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AApBA;;;;;;;;;;AAgCA,SAAS,gBAAgB,IAAU,EAAE,KAAsB;IACzD,MAAM,sBAAsB,MAAM,kBAAkB,GAAG,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,MAAM,eAAe,GAAG,GAAG;IACnG,MAAM,SAAiF,EAAE;IACzF,IAAI,UAAU,KAAK,OAAO;IAC1B,IAAI,QAAQ;IACZ,MAAM,YAAY;IAElB,MAAO,UAAU,KAAK,MAAM,IAAI,QAAQ,UAAW;QACjD,WAAW;QACX,SAAS;QACT,OAAO,IAAI,CAAC;YACV,YAAY,CAAC,CAAC,EAAE,OAAO;YACvB,gBAAgB,OAAO,QAAQ,OAAO,CAAC;YACvC,cAAc,OAAO,oBAAoB,OAAO,CAAC;QACnD;IACF;IAEA,IAAI,OAAO,MAAM,KAAK,GAAG;QACvB,OAAO,IAAI,CAAC;YAAE,YAAY;YAAO,gBAAgB,KAAK,OAAO;YAAE,cAAc;QAAE;IACjF;IAEA,MAAM,YAAY,IAAI;IACtB,UAAU,QAAQ,CAAC,UAAU,QAAQ,KAAK;IAE1C,OAAO;QACL;QACA,gBAAgB;QAChB,WAAW,UAAU,WAAW;IAClC;AACF;AAEA,MAAM,cAAc;IAClB,gBAAgB;QACd,OAAO;QACP,OAAO;IACT;AACF;AAEO,SAAS,iBAAiB,EAAE,IAAI,EAAE,IAAI,EAAE,YAAY,EAAE,UAAU,EAAE,cAAc,EAAE,iBAAiB,EAAE,OAAO,EAAyB;IAC1I,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC7D,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAA2B;IAE9D,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,MAAM;YACR,MAAM,OAAO,KAAK,YAAY,EAAE,UAAU,KAAK,GAAG,CAAC,IAAI,KAAK,KAAK,CAAC,CAAC,KAAK,MAAM,GAAG,KAAK,OAAO,IAAI;YACjG,sBAAsB;YACtB,mBAAmB;YACnB,UAAU,gBAAgB,MAAM;gBAAE,oBAAoB;gBAAM,iBAAiB;YAAE;QACjF;IACF,GAAG;QAAC;KAAK;IAET,MAAM,aAAa,CAAA,GAAA,qMAAA,CAAA,UAAO,AAAD,EAAE;QACzB,IAAI,CAAC,MAAM,OAAO;QAClB,IAAI,UAAU,CAAC,WAAW;YACxB,OAAO;QACT;QACA,OAAO,gBAAgB,MAAM;YAAE;YAAoB;QAAgB;IACrE,GAAG;QAAC;QAAM;QAAQ;QAAoB;QAAiB;KAAU;IAEjE,qBACE,8OAAC,iIAAA,CAAA,QAAK;QAAC,MAAM;QAAM,cAAc;kBAC/B,cAAA,8OAAC,iIAAA,CAAA,eAAY;YAAC,MAAK;YAAQ,WAAU;;8BACnC,8OAAC,iIAAA,CAAA,cAAW;;sCACV,8OAAC,iIAAA,CAAA,aAAU;4BAAC,WAAU;sCAAa;;;;;;sCACnC,8OAAC,iIAAA,CAAA,mBAAgB;4BAAC,WAAU;sCAAiB;;;;;;;;;;;;gBAI9C,qBACC,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,iIAAA,CAAA,QAAK;4CAAC,WAAU;sDAAiD;;;;;;sDAClE,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAK,WAAU;;wDAAoC;wDAAE;;;;;;;8DACtD,8OAAC;8DAAK;;;;;;;;;;;;sDAER,8OAAC,kIAAA,CAAA,SAAM;4CACL,OAAO;gDAAC;6CAAmB;4CAC3B,eAAe,CAAC,CAAC,MAAM,GAAK,sBAAsB,KAAK,KAAK,CAAC;4CAC7D,KAAK;4CACL,KAAK;4CACL,MAAM;4CACN,WAAU;;;;;;;;;;;;8CAGd,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,iIAAA,CAAA,QAAK;4CAAC,WAAU;sDAAiD;;;;;;sDAClE,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAK,WAAU;;wDAAqC;wDAAgB;;;;;;;8DACrE,8OAAC;8DAAK;;;;;;;;;;;;sDAER,8OAAC,kIAAA,CAAA,SAAM;4CACL,OAAO;gDAAC;6CAAgB;4CACxB,eAAe,CAAC,CAAC,MAAM,GAAK,mBAAmB,KAAK,KAAK,CAAC;4CAC1D,KAAK,CAAC;4CACN,KAAK;4CACL,MAAM;4CACN,WAAU;;;;;;;;;;;;8CAGd,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAE,WAAU;sDAAmD;;;;;;sDAChE,8OAAC;4CAAE,WAAU;sDACV,aAAc,WAAW,cAAc,GAAG,IAAI,CAAC,UAAU,EAAE,WAAW,cAAc,CAAC,OAAO,CAAC,GAAG,uBAAwB;;;;;;wCAE1H,2BACC,8OAAC;4CAAE,WAAU;;gDAA2B;gDACjC,IAAI,KAAK,WAAW,SAAS,EAAE,kBAAkB,CAAC,WAAW;oDAAE,OAAO;oDAAS,MAAM;gDAAU;;;;;;mDAEpG;;;;;;;8CAEN,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,kIAAA,CAAA,SAAM;4CACL,WAAU;4CACV,UAAU;4CACV,SAAS;gDACP,IAAI,CAAC,MAAM;gDACX,aAAa;gDACb,MAAM,WAA4B;oDAAE;oDAAoB;gDAAgB;gDACxE,IAAI;oDACF,MAAM,WAAW,MAAM,WAAW,KAAK,EAAE,EAAE;oDAC3C,UAAU;gDACZ,SAAU;oDACR,aAAa;gDACf;4CACF;sDAEC,0BACC,8OAAC;gDAAK,WAAU;;kEAAiC,8OAAC,iNAAA,CAAA,UAAO;wDAAC,WAAU;;;;;;oDAAyB;;;;;;qEAE7F,8OAAC;gDAAK,WAAU;;kEAAiC,8OAAC,0MAAA,CAAA,WAAQ;wDAAC,WAAU;;;;;;oDAAY;;;;;;;;;;;;sDAGrF,8OAAC,kIAAA,CAAA,SAAM;4CACL,SAAQ;4CACR,WAAU;4CACV,SAAS;gDACP,IAAI,CAAC,YAAY;gDACjB,iBAAiB,YAAY;oDAAE;oDAAoB;gDAAgB;4CACrE;sDAEA,cAAA,8OAAC;gDAAK,WAAU;;kEAAiC,8OAAC,kMAAA,CAAA,OAAI;wDAAC,WAAU;;;;;;oDAAY;;;;;;;;;;;;sDAE/E,8OAAC,kIAAA,CAAA,SAAM;4CACL,SAAQ;4CACR,WAAU;4CACV,SAAS,IAAM,oBAAoB;oDAAE;oDAAoB;gDAAgB;sDAEzE,cAAA,8OAAC;gDAAK,WAAU;;kEAAiC,8OAAC,0MAAA,CAAA,WAAQ;wDAAC,WAAU;;;;;;oDAAY;;;;;;;;;;;;sDAEnF,8OAAC,kIAAA,CAAA,SAAM;4CACL,SAAQ;4CACR,WAAU;4CACV,SAAS;gDACP,IAAI,CAAC,YAAY;gDACjB,UAAU;4CACZ;sDAEA,cAAA,8OAAC;gDAAK,WAAU;;kEAAiC,8OAAC,0MAAA,CAAA,SAAM;wDAAC,WAAU;;;;;;oDAAY;;;;;;;;;;;;;;;;;;;;;;;;sCAIrF,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,iIAAA,CAAA,iBAAc;gCACb,QAAQ;gCACR,WAAU;0CAEV,cAAA,8OAAC,mKAAA,CAAA,sBAAmB;8CAClB,cAAA,8OAAC,qJAAA,CAAA,YAAS;wCAAC,MAAM,YAAY,UAAU,EAAE;;0DACvC,8OAAC,6JAAA,CAAA,gBAAa;gDAAC,iBAAgB;gDAAM,QAAO;;;;;;0DAC5C,8OAAC,qJAAA,CAAA,QAAK;gDAAC,SAAQ;gDAAa,QAAO;gDAAwB,UAAU;gDAAO,UAAU;;;;;;0DACtF,8OAAC,qJAAA,CAAA,QAAK;gDAAC,QAAO;gDAAwB,eAAe,CAAA,QAAS,CAAC,CAAC,EAAE,OAAO,OAAO,cAAc,IAAI;gDAAE,OAAO;;;;;;0DAC3G,8OAAC,iIAAA,CAAA,eAAY;gDAAC,uBAAS,8OAAC,iIAAA,CAAA,sBAAmB;;;;;gDAAK,QAAQ;oDAAE,QAAQ;oDAAwB,aAAa;gDAAE;;;;;;0DACzG,8OAAC,oJAAA,CAAA,OAAI;gDAAC,MAAK;gDAAW,SAAQ;gDAAiB,QAAO;gDAAuC,aAAa;gDAAG,KAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;yCAO5H,8OAAC;oBAAI,WAAU;8BAA0G;;;;;;;;;;;;;;;;;AAOnI","debugId":null}},
    {"offset": {"line": 4803, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/switch.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAA,CAAA,OAAqB;QACpB,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,sXACA;QAED,GAAG,KAAK;QACT,KAAK;kBAEL,cAAA,8OAAC,kKAAA,CAAA,QAAsB;YACrB,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV;;;;;;;;;;;AAKR,OAAO,WAAW,GAAG,kKAAA,CAAA,OAAqB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 4839, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/goals/AutoFundRuleDialog.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogFooter,\n} from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Label } from \"@/components/ui/label\";\nimport { Select, SelectTrigger, SelectValue, SelectContent, SelectItem } from \"@/components/ui/select\";\nimport { Input } from \"@/components/ui/input\";\nimport type { AutoFundRule, FundingAccount, Goal } from \"@/lib/goals/types\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { cn } from \"@/lib/utils\";\n\ninterface AutoFundRuleDialogProps {\n  goal: Goal | null;\n  accounts: FundingAccount[];\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  onCreateRule: (payload: AutoFundRule & { untilTarget?: boolean; untilDate?: string; note?: string }) => Promise<void>;\n  isSubmitting?: boolean;\n  initialAmount?: number;\n  initialFrequency?: AutoFundRule[\"frequency\"];\n}\n\nconst frequencies: { label: string; value: AutoFundRule[\"frequency\"] }[] = [\n  { label: \"Weekly\", value: \"weekly\" },\n  { label: \"Bi-weekly\", value: \"biweekly\" },\n  { label: \"Monthly\", value: \"monthly\" },\n];\n\nexport function AutoFundRuleDialog({ goal, accounts, open, onOpenChange, onCreateRule, isSubmitting, initialAmount, initialFrequency }: AutoFundRuleDialogProps) {\n  const [frequency, setFrequency] = useState<AutoFundRule[\"frequency\"]>(initialFrequency ?? \"weekly\");\n  const [amount, setAmount] = useState((initialAmount ?? 100).toString());\n  const [source, setSource] = useState(accounts[0]?.id ?? \"\");\n  const [untilTarget, setUntilTarget] = useState(true);\n  const [untilDate, setUntilDate] = useState(\"\");\n  const [note, setNote] = useState(\"Auto top-up configured in Goals hub\");\n\n  useEffect(() => {\n    if (accounts.length && !source) {\n      setSource(accounts[0].id);\n    }\n  }, [accounts, source]);\n\n  useEffect(() => {\n    if (initialFrequency) {\n      setFrequency(initialFrequency);\n    }\n  }, [initialFrequency]);\n\n  useEffect(() => {\n    if (initialAmount) {\n      setAmount(initialAmount.toString());\n    }\n  }, [initialAmount]);\n\n  useEffect(() => {\n    if (!open) {\n      setFrequency(initialFrequency ?? \"weekly\");\n      setAmount((initialAmount ?? 100).toString());\n      setUntilTarget(true);\n      setUntilDate(\"\");\n      setNote(\"Auto top-up configured in Goals hub\");\n    }\n  }, [open]);\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"w-full max-w-lg rounded-3xl border border-slate-900/70 bg-slate-950/90 p-0 text-slate-100\">\n        <DialogHeader className=\"space-y-2 border-b border-slate-900/60 bg-slate-950/80 px-6 py-4\">\n          <DialogTitle className=\"text-xl font-semibold text-white\">Auto-fund rule</DialogTitle>\n          <DialogDescription className=\"text-xs text-slate-400\">\n            Beno will execute this cadence and adjust if your income changes.\n          </DialogDescription>\n        </DialogHeader>\n        <div className=\"space-y-5 px-6 py-6\">\n          {goal ? (\n            <div className=\"rounded-2xl border border-slate-900/60 bg-slate-900/50 px-4 py-3 text-sm text-slate-300\">\n              <p className=\"text-xs uppercase tracking-wide text-slate-500\">Goal</p>\n              <p className=\"text-base font-semibold text-white\">{goal.name}</p>\n              <p className=\"text-xs text-slate-500\">Current velocity {(goal.current / Math.max(goal.target, 1) * 100).toFixed(0)}%</p>\n            </div>\n          ) : null}\n          <div className=\"grid gap-4 md:grid-cols-2\">\n            <div className=\"space-y-2\">\n              <Label>Frequency</Label>\n              <Select value={frequency} onValueChange={value => setFrequency(value as AutoFundRule[\"frequency\"])}>\n                <SelectTrigger className=\"rounded-2xl border border-slate-800 bg-slate-900/60\">\n                  <SelectValue placeholder=\"Cadence\" />\n                </SelectTrigger>\n                <SelectContent className=\"rounded-2xl border border-slate-800 bg-slate-950/95\">\n                  {frequencies.map(item => (\n                    <SelectItem key={item.value} value={item.value}>\n                      {item.label}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Amount per cycle</Label>\n              <Input type=\"number\" min={0} value={amount} onChange={event => setAmount(event.target.value)} className=\"rounded-2xl border border-slate-800 bg-slate-900/60\" />\n            </div>\n          </div>\n          <div className=\"space-y-2\">\n            <Label>Source account</Label>\n            <Select value={source} onValueChange={setSource}>\n              <SelectTrigger className=\"rounded-2xl border border-slate-800 bg-slate-900/60\">\n                <SelectValue placeholder=\"Account\" />\n              </SelectTrigger>\n              <SelectContent className=\"rounded-2xl border border-slate-800 bg-slate-950/95\">\n                {accounts.map(account => (\n                  <SelectItem key={account.id} value={account.id}>\n                    <div className=\"flex flex-col\">\n                      <span className=\"text-sm text-white\">{account.name}</span>\n                      <span className=\"text-xs text-slate-500\">{account.institution}  {account.type}</span>\n                    </div>\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n          <div className=\"space-y-3 rounded-2xl border border-slate-900/60 bg-slate-900/50 px-4 py-3\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-white\">Run until goal reached</p>\n                <p className=\"text-xs text-slate-500\">If disabled, you can set an explicit end date.</p>\n              </div>\n              <Switch checked={untilTarget} onCheckedChange={setUntilTarget} />\n            </div>\n            {!untilTarget ? (\n              <div className=\"space-y-2\">\n                <Label>Stop on date</Label>\n                <Input type=\"date\" value={untilDate} onChange={event => setUntilDate(event.target.value)} className=\"rounded-2xl border border-slate-800 bg-slate-900/60\" />\n              </div>\n            ) : null}\n          </div>\n          <div className=\"space-y-2\">\n            <Label>Operator note</Label>\n            <Textarea rows={3} value={note} onChange={event => setNote(event.target.value)} className=\"rounded-2xl border border-slate-800 bg-slate-900/60\" />\n          </div>\n        </div>\n        <DialogFooter className=\"border-t border-slate-900/60 bg-slate-950/80 px-6 py-4\">\n          <Button\n            className={cn(\"rounded-2xl bg-gradient-to-r from-cyan-500 via-sky-500 to-indigo-500 text-slate-950 shadow-lg shadow-cyan-900/40\", isSubmitting && \"opacity-80\")}\n            disabled={!goal || Number(amount) <= 0 || !source || (untilTarget === false && !untilDate) || isSubmitting}\n            onClick={async () => {\n              if (!goal) return;\n              await onCreateRule({\n                sourceAccountId: source,\n                frequency,\n                amount: Number(amount),\n                untilTarget,\n                untilDate: untilTarget ? undefined : untilDate,\n                note,\n              });\n              onOpenChange(false);\n            }}\n          >\n            {isSubmitting ? \"Configuring...\" : \"Enable automation\"}\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAQA;AACA;AACA;AACA;AAEA;AACA;AACA;AAlBA;;;;;;;;;;;AA+BA,MAAM,cAAqE;IACzE;QAAE,OAAO;QAAU,OAAO;IAAS;IACnC;QAAE,OAAO;QAAa,OAAO;IAAW;IACxC;QAAE,OAAO;QAAW,OAAO;IAAU;CACtC;AAEM,SAAS,mBAAmB,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,YAAY,EAAE,YAAY,EAAE,YAAY,EAAE,aAAa,EAAE,gBAAgB,EAA2B;IAC7J,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAA6B,oBAAoB;IAC1F,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,CAAC,iBAAiB,GAAG,EAAE,QAAQ;IACpE,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,QAAQ,CAAC,EAAE,EAAE,MAAM;IACxD,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEjC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,SAAS,MAAM,IAAI,CAAC,QAAQ;YAC9B,UAAU,QAAQ,CAAC,EAAE,CAAC,EAAE;QAC1B;IACF,GAAG;QAAC;QAAU;KAAO;IAErB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,kBAAkB;YACpB,aAAa;QACf;IACF,GAAG;QAAC;KAAiB;IAErB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,eAAe;YACjB,UAAU,cAAc,QAAQ;QAClC;IACF,GAAG;QAAC;KAAc;IAElB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,CAAC,MAAM;YACT,aAAa,oBAAoB;YACjC,UAAU,CAAC,iBAAiB,GAAG,EAAE,QAAQ;YACzC,eAAe;YACf,aAAa;YACb,QAAQ;QACV;IACF,GAAG;QAAC;KAAK;IAET,qBACE,8OAAC,kIAAA,CAAA,SAAM;QAAC,MAAM;QAAM,cAAc;kBAChC,cAAA,8OAAC,kIAAA,CAAA,gBAAa;YAAC,WAAU;;8BACvB,8OAAC,kIAAA,CAAA,eAAY;oBAAC,WAAU;;sCACtB,8OAAC,kIAAA,CAAA,cAAW;4BAAC,WAAU;sCAAmC;;;;;;sCAC1D,8OAAC,kIAAA,CAAA,oBAAiB;4BAAC,WAAU;sCAAyB;;;;;;;;;;;;8BAIxD,8OAAC;oBAAI,WAAU;;wBACZ,qBACC,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAE,WAAU;8CAAiD;;;;;;8CAC9D,8OAAC;oCAAE,WAAU;8CAAsC,KAAK,IAAI;;;;;;8CAC5D,8OAAC;oCAAE,WAAU;;wCAAyB;wCAAkB,CAAC,KAAK,OAAO,GAAG,KAAK,GAAG,CAAC,KAAK,MAAM,EAAE,KAAK,GAAG,EAAE,OAAO,CAAC;wCAAG;;;;;;;;;;;;mCAEnH;sCACJ,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,iIAAA,CAAA,QAAK;sDAAC;;;;;;sDACP,8OAAC,kIAAA,CAAA,SAAM;4CAAC,OAAO;4CAAW,eAAe,CAAA,QAAS,aAAa;;8DAC7D,8OAAC,kIAAA,CAAA,gBAAa;oDAAC,WAAU;8DACvB,cAAA,8OAAC,kIAAA,CAAA,cAAW;wDAAC,aAAY;;;;;;;;;;;8DAE3B,8OAAC,kIAAA,CAAA,gBAAa;oDAAC,WAAU;8DACtB,YAAY,GAAG,CAAC,CAAA,qBACf,8OAAC,kIAAA,CAAA,aAAU;4DAAkB,OAAO,KAAK,KAAK;sEAC3C,KAAK,KAAK;2DADI,KAAK,KAAK;;;;;;;;;;;;;;;;;;;;;;8CAOnC,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,iIAAA,CAAA,QAAK;sDAAC;;;;;;sDACP,8OAAC,iIAAA,CAAA,QAAK;4CAAC,MAAK;4CAAS,KAAK;4CAAG,OAAO;4CAAQ,UAAU,CAAA,QAAS,UAAU,MAAM,MAAM,CAAC,KAAK;4CAAG,WAAU;;;;;;;;;;;;;;;;;;sCAG5G,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,iIAAA,CAAA,QAAK;8CAAC;;;;;;8CACP,8OAAC,kIAAA,CAAA,SAAM;oCAAC,OAAO;oCAAQ,eAAe;;sDACpC,8OAAC,kIAAA,CAAA,gBAAa;4CAAC,WAAU;sDACvB,cAAA,8OAAC,kIAAA,CAAA,cAAW;gDAAC,aAAY;;;;;;;;;;;sDAE3B,8OAAC,kIAAA,CAAA,gBAAa;4CAAC,WAAU;sDACtB,SAAS,GAAG,CAAC,CAAA,wBACZ,8OAAC,kIAAA,CAAA,aAAU;oDAAkB,OAAO,QAAQ,EAAE;8DAC5C,cAAA,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEAAK,WAAU;0EAAsB,QAAQ,IAAI;;;;;;0EAClD,8OAAC;gEAAK,WAAU;;oEAA0B,QAAQ,WAAW;oEAAC;oEAAI,QAAQ,IAAI;;;;;;;;;;;;;mDAHjE,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;;sCAUnC,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;;8DACC,8OAAC;oDAAE,WAAU;8DAAiC;;;;;;8DAC9C,8OAAC;oDAAE,WAAU;8DAAyB;;;;;;;;;;;;sDAExC,8OAAC,kIAAA,CAAA,SAAM;4CAAC,SAAS;4CAAa,iBAAiB;;;;;;;;;;;;gCAEhD,CAAC,4BACA,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,iIAAA,CAAA,QAAK;sDAAC;;;;;;sDACP,8OAAC,iIAAA,CAAA,QAAK;4CAAC,MAAK;4CAAO,OAAO;4CAAW,UAAU,CAAA,QAAS,aAAa,MAAM,MAAM,CAAC,KAAK;4CAAG,WAAU;;;;;;;;;;;2CAEpG;;;;;;;sCAEN,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,iIAAA,CAAA,QAAK;8CAAC;;;;;;8CACP,8OAAC,oIAAA,CAAA,WAAQ;oCAAC,MAAM;oCAAG,OAAO;oCAAM,UAAU,CAAA,QAAS,QAAQ,MAAM,MAAM,CAAC,KAAK;oCAAG,WAAU;;;;;;;;;;;;;;;;;;8BAG9F,8OAAC,kIAAA,CAAA,eAAY;oBAAC,WAAU;8BACtB,cAAA,8OAAC,kIAAA,CAAA,SAAM;wBACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,oHAAoH,gBAAgB;wBAClJ,UAAU,CAAC,QAAQ,OAAO,WAAW,KAAK,CAAC,UAAW,gBAAgB,SAAS,CAAC,aAAc;wBAC9F,SAAS;4BACP,IAAI,CAAC,MAAM;4BACX,MAAM,aAAa;gCACjB,iBAAiB;gCACjB;gCACA,QAAQ,OAAO;gCACf;gCACA,WAAW,cAAc,YAAY;gCACrC;4BACF;4BACA,aAAa;wBACf;kCAEC,eAAe,mBAAmB;;;;;;;;;;;;;;;;;;;;;;AAM/C","debugId":null}},
    {"offset": {"line": 5316, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/goals/useGoals.ts"],"sourcesContent":["\"use client\";\n\nimport { useCallback, useEffect, useMemo, useState } from \"react\";\nimport { useMutation, useQuery, useQueryClient } from \"@tanstack/react-query\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport type {\n  AutomationSuggestion,\n  FundingAccount,\n  Goal,\n  GoalAnalyticsSnapshot,\n  GoalFilters,\n  GoalSortOption,\n  SimulationInput,\n  SimulationResult,\n} from \"./types\";\n\nconst FILTER_STORAGE_KEY = \"ceolife.goals.filters\";\nconst SORT_STORAGE_KEY = \"ceolife.goals.sort\";\nconst GROUPING_STORAGE_KEY = \"ceolife.goals.grouping\";\n\nasync function api<T>(input: RequestInfo, init?: RequestInit): Promise<T> {\n  const res = await fetch(input, {\n    ...init,\n    headers: {\n      \"Content-Type\": \"application/json\",\n      ...(init?.headers || {}),\n    },\n  });\n  if (!res.ok) {\n    const message = await res.text();\n    throw new Error(message || \"Request failed\");\n  }\n  return res.json() as Promise<T>;\n}\n\nconst defaultFilters: GoalFilters = {\n  types: [],\n  priorities: [],\n  status: \"active\",\n};\n\nconst defaultSort: GoalSortOption = \"deadline\";\n\ntype GroupingMode = \"none\" | \"type\" | \"priority\";\n\nexport function useGoals() {\n  const queryClient = useQueryClient();\n  const { toast } = useToast();\n\n  const [filters, setFiltersState] = useState<GoalFilters>(defaultFilters);\n  const [sort, setSortState] = useState<GoalSortOption>(defaultSort);\n  const [grouping, setGrouping] = useState<GroupingMode>(\"none\");\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    try {\n      const storedFilters = window.localStorage.getItem(FILTER_STORAGE_KEY);\n      if (storedFilters) {\n        setFiltersState({ ...defaultFilters, ...JSON.parse(storedFilters) });\n      }\n      const storedSort = window.localStorage.getItem(SORT_STORAGE_KEY);\n      if (storedSort) {\n        setSortState(storedSort as GoalSortOption);\n      }\n      const storedGrouping = window.localStorage.getItem(GROUPING_STORAGE_KEY);\n      if (storedGrouping === \"type\" || storedGrouping === \"priority\") {\n        setGrouping(storedGrouping);\n      }\n    } catch (error) {\n      console.warn(\"Failed to load goal preferences\", error);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    window.localStorage.setItem(FILTER_STORAGE_KEY, JSON.stringify(filters));\n  }, [filters]);\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    window.localStorage.setItem(SORT_STORAGE_KEY, sort);\n  }, [sort]);\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    window.localStorage.setItem(GROUPING_STORAGE_KEY, grouping);\n  }, [grouping]);\n\n  const { data: goals = [], isLoading } = useQuery<Goal[]>({\n    queryKey: [\"goals\"],\n    queryFn: () => api<Goal[]>(\"/api/goals\"),\n  });\n\n  const { data: suggestion } = useQuery<AutomationSuggestion | null>({\n    queryKey: [\"goals\", \"suggestion\"],\n    queryFn: () => api<AutomationSuggestion | null>(\"/api/goals/suggestions\"),\n    staleTime: 60_000,\n  });\n\n  const { data: fundingAccounts = [] } = useQuery<FundingAccount[]>({\n    queryKey: [\"goals\", \"funding-accounts\"],\n    queryFn: () => api<FundingAccount[]>(\"/api/goals/funding-accounts\"),\n    staleTime: 5 * 60_000,\n  });\n\n  const createGoalMutation = useMutation({\n    mutationFn: (payload: Partial<Goal>) => api<Goal>(\"/api/goals\", { method: \"POST\", body: JSON.stringify(payload) }),\n    onSuccess: goal => {\n      queryClient.invalidateQueries({ queryKey: [\"goals\"] });\n      toast({\n        title: \"Goal created\",\n        description: `${goal.name} added to your mission grid.`,\n      });\n    },\n  });\n\n  const updateGoalMutation = useMutation({\n    mutationFn: ({ goalId, payload }: { goalId: string; payload: Partial<Goal> }) =>\n      api<Goal>(`/api/goals/${goalId}`, { method: \"PATCH\", body: JSON.stringify(payload) }),\n    onSuccess: goal => {\n      queryClient.invalidateQueries({ queryKey: [\"goals\"] });\n      toast({\n        title: \"Goal updated\",\n        description: `Latest plan saved for ${goal.name}.`,\n      });\n    },\n  });\n\n  const fundGoalMutation = useMutation({\n    mutationFn: ({ goalId, amount, sourceAccountId, note, date }: { goalId: string; amount: number; sourceAccountId: string; note?: string; date?: string }) =>\n      api<Goal>(`/api/goals/${goalId}/fund`, {\n        method: \"POST\",\n        body: JSON.stringify({ amount, sourceAccountId, note, date }),\n      }),\n    onSuccess: goal => {\n      queryClient.invalidateQueries({ queryKey: [\"goals\"] });\n      toast({\n        title: \"Contribution recorded\",\n        description: `Progress updated for ${goal.name}.`,\n      });\n    },\n  });\n\n  const autoFundMutation = useMutation({\n    mutationFn: ({ goalId, payload }: { goalId: string; payload: { sourceAccountId: string; frequency: \"weekly\" | \"biweekly\" | \"monthly\"; amount: number; untilTarget?: boolean; untilDate?: string } }) =>\n      api<{ automationId: string }>(`/api/goals/${goalId}/auto-fund`, {\n        method: \"POST\",\n        body: JSON.stringify(payload),\n      }),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"goals\"] });\n      toast({\n        title: \"Auto-funding enabled\",\n        description: \"Recurring transfer scheduled.\"\n      });\n    },\n  });\n\n  const deleteGoalMutation = useMutation({\n    mutationFn: (goalId: string) => api<{ status: string }>(`/api/goals/${goalId}`, { method: \"DELETE\" }),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"goals\"] });\n      toast({\n        title: \"Goal archived\",\n        description: \"Goal moved to archive.\"\n      });\n    },\n  });\n\n  const runSimulationMutation = useMutation({\n    mutationFn: ({ goalId, input }: { goalId: string; input: SimulationInput }) =>\n      api<SimulationResult>(`/api/goals/${goalId}/simulate`, { method: \"POST\", body: JSON.stringify(input) }),\n  });\n\n  const runSimulation = useCallback(\n    (goalId: string, input: SimulationInput) => runSimulationMutation.mutateAsync({ goalId, input }),\n    [runSimulationMutation],\n  );\n\n  const setFilters = useCallback((updater: (prev: GoalFilters) => GoalFilters) => {\n    setFiltersState(prev => updater(prev));\n  }, []);\n\n  const setSort = useCallback((value: GoalSortOption) => {\n    setSortState(value);\n  }, []);\n\n  const toggleGrouping = useCallback(() => {\n    setGrouping(prev => {\n      if (prev === \"none\") return \"type\";\n      if (prev === \"type\") return \"priority\";\n      return \"none\";\n    });\n  }, []);\n\n  const analytics: GoalAnalyticsSnapshot = useMemo(() => {\n    const active = goals.filter(goal => !goal.archived && goal.status !== \"archived\");\n    const totalGoals = goals.length;\n    const activeGoals = active.length;\n    const totalSaved = active.reduce((sum, goal) => sum + goal.current, 0);\n    const totalTarget = active.reduce((sum, goal) => sum + goal.target, 0);\n    const averageProgress = active.length\n      ? active.reduce((sum, goal) => sum + Math.min(100, (goal.target > 0 ? (goal.current / goal.target) * 100 : 0)), 0) / active.length\n      : 0;\n    const completionRate = active.length\n      ? (active.filter(goal => goal.current >= goal.target).length / active.length) * 100\n      : 0;\n    const deadlines = active\n      .map(goal => new Date(goal.deadline ?? goal.updatedAt))\n      .filter(date => !Number.isNaN(date.getTime()) && date.getTime() >= Date.now())\n      .sort((a, b) => a.getTime() - b.getTime());\n    return {\n      totalGoals,\n      activeGoals,\n      totalSaved,\n      totalTarget,\n      averageProgress,\n      completionRate,\n      closestDeadline: deadlines[0]?.toISOString(),\n    };\n  }, [goals]);\n\n  const filteredGoals = useMemo(() => {\n    const list = goals.filter(goal => {\n      if (filters.status !== \"all\") {\n        if (filters.status === \"completed\" && goal.current < goal.target) return false;\n        if (filters.status === \"active\" && (goal.current >= goal.target || goal.archived)) return false;\n        if (filters.status === \"archived\" && !(goal.archived || goal.status === \"archived\")) return false;\n      }\n      if (filters.types.length && !filters.types.includes(goal.type)) return false;\n      if (filters.priorities.length && !filters.priorities.includes(goal.priority)) return false;\n      return true;\n    });\n\n    const sorted = [...list].sort((a, b) => {\n      switch (sort) {\n        case \"progress-desc\":\n          return (b.current / Math.max(1, b.target)) - (a.current / Math.max(1, a.target));\n        case \"progress-asc\":\n          return (a.current / Math.max(1, a.target)) - (b.current / Math.max(1, b.target));\n        case \"amount-left\":\n          return (a.target - a.current) - (b.target - b.current);\n        case \"deadline\":\n        default: {\n          const dateA = a.deadline ? new Date(a.deadline).getTime() : Infinity;\n          const dateB = b.deadline ? new Date(b.deadline).getTime() : Infinity;\n          return dateA - dateB;\n        }\n      }\n    });\n\n    return sorted;\n  }, [filters, goals, sort]);\n\n  const groupedGoals = useMemo(() => {\n    if (grouping === \"none\") {\n      return { all: filteredGoals } as Record<string, Goal[]>;\n    }\n    const map = new Map<string, Goal[]>();\n    filteredGoals.forEach(goal => {\n      const key = grouping === \"type\" ? goal.type : goal.priority;\n      const bucket = map.get(key) ?? [];\n      bucket.push(goal);\n      map.set(key, bucket);\n    });\n    return Object.fromEntries(map);\n  }, [filteredGoals, grouping]);\n\n  const resetSuggestion = useCallback(() => {\n    queryClient.invalidateQueries({ queryKey: [\"goals\", \"suggestion\"] });\n  }, [queryClient]);\n\n  return {\n    goals,\n    filteredGoals,\n    groupedGoals,\n    analytics,\n    filters,\n    setFilters,\n    sort,\n    setSort,\n    grouping,\n    toggleGrouping,\n    isLoading,\n    createGoal: createGoalMutation.mutateAsync,\n    updateGoal: updateGoalMutation.mutateAsync,\n    fundGoal: fundGoalMutation.mutateAsync,\n    deleteGoal: deleteGoalMutation.mutateAsync,\n    setAutoFundRule: autoFundMutation.mutateAsync,\n    runSimulation,\n    isCreating: createGoalMutation.isPending,\n    isUpdating: updateGoalMutation.isPending,\n    isFunding: fundGoalMutation.isPending,\n    isAutomating: autoFundMutation.isPending,\n    fundingAccounts,\n    suggestion: suggestion ?? null,\n    resetSuggestion,\n  };\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5633, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/goals/page.tsx"],"sourcesContent":["'use client';\n\nimport { useMemo, useState } from 'react';\nimport { PageHeader } from '@/components/layout/page-header';\nimport { GoalGrid } from '@/components/goals/GoalGrid';\nimport { GoalAnalyticsSidebar } from '@/components/goals/GoalAnalyticsSidebar';\nimport { CreateGoalDialog } from '@/components/goals/CreateGoalDialog';\nimport { EditGoalDrawer } from '@/components/goals/EditGoalDrawer';\nimport { FundGoalDialog } from '@/components/goals/FundGoalDialog';\nimport { SimulationDrawer } from '@/components/goals/SimulationDrawer';\nimport { AutoFundRuleDialog } from '@/components/goals/AutoFundRuleDialog';\nimport { useGoals } from '@/lib/goals/useGoals';\nimport type { Goal } from '@/lib/goals/types';\n\nexport default function GoalsPage() {\n  const {\n    groupedGoals,\n    grouping,\n    toggleGrouping,\n    analytics,\n    suggestion,\n    fundingAccounts,\n    createGoal,\n    updateGoal,\n    fundGoal,\n    deleteGoal,\n    setAutoFundRule,\n    runSimulation,\n    isLoading,\n    isCreating,\n  } = useGoals();\n\n  const [createOpen, setCreateOpen] = useState(false);\n  const [editingGoal, setEditingGoal] = useState<Goal | null>(null);\n  const [editIntent, setEditIntent] = useState<'overview' | 'link'>('overview');\n  const [fundingGoal, setFundingGoal] = useState<Goal | null>(null);\n  const [simulatingGoal, setSimulatingGoal] = useState<Goal | null>(null);\n  const [autoFundingGoal, setAutoFundingGoal] = useState<Goal | null>(null);\n\n  const autoFundInit = useMemo(() => {\n    if (!suggestion || !autoFundingGoal) return {};\n    if (suggestion.goalId === autoFundingGoal.id) {\n      return {\n        amount: suggestion.recommendedIncrease,\n        frequency: 'weekly' as const,\n      };\n    }\n    return {};\n  }, [suggestion, autoFundingGoal]);\n\n  return (\n    <div className=\"grid gap-6 lg:grid-cols-[1fr,320px]\">\n      <div className=\"space-y-6\">\n        <PageHeader\n          title=\"Goals\"\n          description=\"Define and track your financial, household, and personal growth missions.\"\n        />\n        <GoalGrid\n          groupedGoals={groupedGoals}\n          grouping={grouping}\n          isLoading={isLoading}\n          onCreateGoal={() => setCreateOpen(true)}\n          onEdit={(goal, intent) => {\n            setEditingGoal(goal);\n            setEditIntent(intent ?? 'overview');\n          }}\n          onFund={setFundingGoal}\n          onSimulate={setSimulatingGoal}\n          onAutoFund={setAutoFundingGoal}\n          onDelete={(goal) => deleteGoal(goal.id)}\n        />\n      </div>\n      <aside className=\"hidden space-y-4 lg:block\">\n        <GoalAnalyticsSidebar\n          analytics={analytics}\n          suggestion={suggestion}\n          onApplySuggestion={(s) => {\n            const target = groupedGoals.all.find((g) => g.id === s.goalId);\n            if (target) setAutoFundingGoal(target);\n          }}\n          onSimulateSuggestion={(s) => {\n             const target = groupedGoals.all.find((g) => g.id === s.goalId);\n            if (target) setSimulatingGoal(target);\n          }}\n          grouping={grouping}\n          onToggleGrouping={toggleGrouping}\n          onRunAllSimulations={() => {}}\n        />\n      </aside>\n\n      <CreateGoalDialog\n        open={createOpen}\n        onOpenChange={setCreateOpen}\n        onCreate={createGoal}\n        isSubmitting={isCreating}\n      />\n      <EditGoalDrawer\n        goal={editingGoal}\n        open={!!editingGoal}\n        focusSection={editIntent}\n        onOpenChange={(open) => !open && setEditingGoal(null)}\n        onSave={(payload) => (editingGoal ? updateGoal({ goalId: editingGoal.id, payload }) : Promise.resolve())}\n        onArchive={() => (editingGoal ? deleteGoal(editingGoal.id) : Promise.resolve())}\n      />\n      <FundGoalDialog\n        goal={fundingGoal}\n        accounts={fundingAccounts}\n        open={!!fundingGoal}\n        onOpenChange={(open) => !open && setFundingGoal(null)}\n        onFund={(payload) => (fundingGoal ? fundGoal({ goalId: fundingGoal.id, ...payload }) : Promise.resolve())}\n      />\n      <AutoFundRuleDialog\n        goal={autoFundingGoal}\n        accounts={fundingAccounts}\n        open={!!autoFundingGoal}\n        onOpenChange={(open) => !open && setAutoFundingGoal(null)}\n        onCreateRule={(payload) => (autoFundingGoal ? setAutoFundRule({ goalId: autoFundingGoal.id, payload }) : Promise.resolve())}\n        initialAmount={autoFundInit.amount}\n        initialFrequency={autoFundInit.frequency}\n      />\n      <SimulationDrawer\n        goal={simulatingGoal}\n        open={!!simulatingGoal}\n        onOpenChange={(open) => !open && setSimulatingGoal(null)}\n        onSimulate={runSimulation}\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}