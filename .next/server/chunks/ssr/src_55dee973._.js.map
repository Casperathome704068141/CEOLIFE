{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/layout/page-header.tsx"],"sourcesContent":["\"use client\";\n\nimport { motion } from \"framer-motion\";\nimport { ReactNode } from \"react\";\nimport { Button } from \"@/components/ui/button\";\n\ninterface PageHeaderProps {\n  title: string;\n  description?: string;\n  actions?: ReactNode;\n}\n\nexport function PageHeader({ title, description, actions }: PageHeaderProps) {\n  return (\n    <div className=\"flex flex-col gap-4 pb-8 lg:flex-row lg:items-center lg:justify-between\">\n      <div className=\"space-y-1\">\n        <motion.h1\n          className=\"text-3xl font-headline font-semibold tracking-tight text-primary\"\n          initial={{ opacity: 0, y: 12 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ type: \"spring\", stiffness: 120, damping: 16 }}\n        >\n          {title}\n        </motion.h1>\n        {description ? (\n          <motion.p\n            className=\"text-sm text-muted-foreground max-w-2xl\"\n            initial={{ opacity: 0, y: 8 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: 0.05, duration: 0.3 }}\n          >\n            {description}\n          </motion.p>\n        ) : null}\n      </div>\n      {actions ? (\n        <motion.div\n          className=\"flex flex-wrap items-center gap-2\"\n          initial={{ opacity: 0, y: -6 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: 0.1, duration: 0.2 }}\n        >\n          {actions}\n        </motion.div>\n      ) : null}\n    </div>\n  );\n}\n\nexport function PagePrimaryAction({ children }: { children: ReactNode }) {\n  return (\n    <Button\n      size=\"lg\"\n      className=\"relative overflow-hidden rounded-2xl bg-gradient-to-r from-cyan-500 via-sky-500 to-indigo-500 px-6 font-medium text-white shadow-xl shadow-cyan-900/40 transition hover:shadow-2xl focus-visible:ring-cyan-400\"\n    >\n      <span className=\"relative z-10\">{children}</span>\n      <span className=\"absolute inset-0 rounded-2xl bg-white/10 mix-blend-overlay\" />\n    </Button>\n  );\n}\n\nexport function PageSecondaryAction({ children }: { children: ReactNode }) {\n  return (\n    <Button\n      variant=\"outline\"\n      size=\"lg\"\n      className=\"rounded-2xl border-slate-700 bg-slate-900/40 text-slate-200 backdrop-blur transition hover:bg-slate-800\"\n    >\n      {children}\n    </Button>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAEA;AAEA;AAJA;;;;AAYO,SAAS,WAAW,EAAE,KAAK,EAAE,WAAW,EAAE,OAAO,EAAmB;IACzE,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,0LAAA,CAAA,SAAM,CAAC,EAAE;wBACR,WAAU;wBACV,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAG;wBAC7B,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAE;wBAC5B,YAAY;4BAAE,MAAM;4BAAU,WAAW;4BAAK,SAAS;wBAAG;kCAEzD;;;;;;oBAEF,4BACC,8OAAC,0LAAA,CAAA,SAAM,CAAC,CAAC;wBACP,WAAU;wBACV,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAE;wBAC5B,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAE;wBAC5B,YAAY;4BAAE,OAAO;4BAAM,UAAU;wBAAI;kCAExC;;;;;+BAED;;;;;;;YAEL,wBACC,8OAAC,0LAAA,CAAA,SAAM,CAAC,GAAG;gBACT,WAAU;gBACV,SAAS;oBAAE,SAAS;oBAAG,GAAG,CAAC;gBAAE;gBAC7B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,YAAY;oBAAE,OAAO;oBAAK,UAAU;gBAAI;0BAEvC;;;;;uBAED;;;;;;;AAGV;AAEO,SAAS,kBAAkB,EAAE,QAAQ,EAA2B;IACrE,qBACE,8OAAC,kIAAA,CAAA,SAAM;QACL,MAAK;QACL,WAAU;;0BAEV,8OAAC;gBAAK,WAAU;0BAAiB;;;;;;0BACjC,8OAAC;gBAAK,WAAU;;;;;;;;;;;;AAGtB;AAEO,SAAS,oBAAoB,EAAE,QAAQ,EAA2B;IACvE,qBACE,8OAAC,kIAAA,CAAA,SAAM;QACL,SAAQ;QACR,MAAK;QACL,WAAU;kBAET;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 145, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACtB;AAGF,MAAM,sBAAQ,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAI3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,iKAAA,CAAA,OAAmB;QAClB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iBAAiB;QAC9B,GAAG,KAAK;;;;;;AAGb,MAAM,WAAW,GAAG,iKAAA,CAAA,OAAmB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 177, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/select.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 369, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 450, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/household/MemberCard.tsx"],"sourcesContent":["\"use client\";\n\nimport { memo } from \"react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport type { CareProfile, Member } from \"@/lib/household/types\";\n\ninterface MemberCardProps {\n  member: Member;\n  careProfiles: CareProfile[];\n  onNudge: (member: Member) => void;\n  onEdit?: (member: Member) => void;\n}\n\nexport const MemberCard = memo(function MemberCard({ member, careProfiles, onNudge, onEdit }: MemberCardProps) {\n  const profileCount = careProfiles.filter((profile) => profile.memberId === member.id).length;\n  return (\n    <Card className=\"group relative h-full rounded-3xl border border-slate-900/60 bg-slate-950/80 shadow-2xl transition hover:border-slate-700/80\">\n      <CardHeader className=\"flex flex-row items-start justify-between space-y-0\">\n        <div>\n          <CardTitle className=\"text-lg text-slate-50\">{member.name}</CardTitle>\n          <p className=\"text-xs uppercase tracking-wider text-slate-500\">{member.roleLabel ?? member.relation}</p>\n        </div>\n        <Button variant=\"ghost\" size=\"icon\" onClick={() => onEdit?.(member)} className=\"rounded-full text-slate-500 hover:text-slate-100\">\n          <span className=\"sr-only\">Edit member</span>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={1.5}>\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-3.243.865.865-3.243a4.5 4.5 0 011.13-1.897L16.862 4.487z\" />\n          </svg>\n        </Button>\n      </CardHeader>\n      <CardContent className=\"space-y-4 text-sm text-slate-300\">\n        <div className=\"grid gap-2\">\n          <div>\n            <p className=\"text-xs uppercase tracking-wide text-slate-500\">Contact</p>\n            <p className=\"font-medium text-slate-200\">{member.phone ?? \"No phone on file\"}</p>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <Badge variant=\"secondary\" className=\"rounded-xl bg-slate-800/70 text-xs text-slate-200\">\n              Nudges ready\n            </Badge>\n            <Badge variant=\"secondary\" className=\"rounded-xl bg-cyan-900/40 text-xs text-cyan-200\">\n              Care profiles â€¢ {profileCount}\n            </Badge>\n          </div>\n          {member.notes ? (\n            <p className=\"rounded-2xl bg-slate-900/60 p-3 text-xs text-slate-400\">{member.notes}</p>\n          ) : null}\n        </div>\n        <Button onClick={() => onNudge(member)} className=\"w-full rounded-2xl bg-cyan-500/80 text-slate-900 hover:bg-cyan-400\">\n          Nudge\n        </Button>\n      </CardContent>\n    </Card>\n  );\n});\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAeO,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,OAAI,AAAD,EAAE,SAAS,WAAW,EAAE,MAAM,EAAE,YAAY,EAAE,OAAO,EAAE,MAAM,EAAmB;IAC3G,MAAM,eAAe,aAAa,MAAM,CAAC,CAAC,UAAY,QAAQ,QAAQ,KAAK,OAAO,EAAE,EAAE,MAAM;IAC5F,qBACE,8OAAC,gIAAA,CAAA,OAAI;QAAC,WAAU;;0BACd,8OAAC,gIAAA,CAAA,aAAU;gBAAC,WAAU;;kCACpB,8OAAC;;0CACC,8OAAC,gIAAA,CAAA,YAAS;gCAAC,WAAU;0CAAyB,OAAO,IAAI;;;;;;0CACzD,8OAAC;gCAAE,WAAU;0CAAmD,OAAO,SAAS,IAAI,OAAO,QAAQ;;;;;;;;;;;;kCAErG,8OAAC,kIAAA,CAAA,SAAM;wBAAC,SAAQ;wBAAQ,MAAK;wBAAO,SAAS,IAAM,SAAS;wBAAS,WAAU;;0CAC7E,8OAAC;gCAAK,WAAU;0CAAU;;;;;;0CAC1B,8OAAC;gCAAI,OAAM;gCAA6B,WAAU;gCAAU,MAAK;gCAAO,SAAQ;gCAAY,QAAO;gCAAe,aAAa;0CAC7H,cAAA,8OAAC;oCAAK,eAAc;oCAAQ,gBAAe;oCAAQ,GAAE;;;;;;;;;;;;;;;;;;;;;;;0BAI3D,8OAAC,gIAAA,CAAA,cAAW;gBAAC,WAAU;;kCACrB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;;kDACC,8OAAC;wCAAE,WAAU;kDAAiD;;;;;;kDAC9D,8OAAC;wCAAE,WAAU;kDAA8B,OAAO,KAAK,IAAI;;;;;;;;;;;;0CAE7D,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,iIAAA,CAAA,QAAK;wCAAC,SAAQ;wCAAY,WAAU;kDAAoD;;;;;;kDAGzF,8OAAC,iIAAA,CAAA,QAAK;wCAAC,SAAQ;wCAAY,WAAU;;4CAAkD;4CACpE;;;;;;;;;;;;;4BAGpB,OAAO,KAAK,iBACX,8OAAC;gCAAE,WAAU;0CAA0D,OAAO,KAAK;;;;;uCACjF;;;;;;;kCAEN,8OAAC,kIAAA,CAAA,SAAM;wBAAC,SAAS,IAAM,QAAQ;wBAAS,WAAU;kCAAqE;;;;;;;;;;;;;;;;;;AAM/H","debugId":null}},
    {"offset": {"line": 645, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport {cn} from '@/lib/utils';\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, React.ComponentProps<'textarea'>>(\n  ({className, ...props}, ref) => {\n    return (\n      <textarea\n        className={cn(\n          'flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\nTextarea.displayName = 'Textarea';\n\nexport {Textarea};\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAC9B,CAAC,EAAC,SAAS,EAAE,GAAG,OAAM,EAAE;IACtB,qBACE,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,qTACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 673, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/radio-group.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,8OAAC,0KAAA,CAAA,OAAwB;QACvB,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;QAC3B,GAAG,KAAK;QACT,KAAK;;;;;;AAGX;AACA,WAAW,WAAW,GAAG,0KAAA,CAAA,OAAwB,CAAC,WAAW;AAE7D,MAAM,+BAAiB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,8OAAC,0KAAA,CAAA,OAAwB;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,4OACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,0KAAA,CAAA,YAA6B;YAAC,WAAU;sBACvC,cAAA,8OAAC,sMAAA,CAAA,SAAM;gBAAC,WAAU;;;;;;;;;;;;;;;;AAI1B;AACA,eAAe,WAAW,GAAG,0KAAA,CAAA,OAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 733, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/household/useHousehold.tsx"],"sourcesContent":["\"use client\";\n\nimport { createContext, useContext, useMemo, useState, type ReactNode } from \"react\";\nimport {\n  Appointment,\n  Asset,\n  CareProfile,\n  Dose,\n  HouseholdCareKPIs,\n  LedgerEntry,\n  Member,\n  MeterReading,\n  Medication,\n  ShoppingItem,\n  ShoppingList,\n  Settlement,\n  Ticket,\n} from \"./types\";\nimport { useMutation, useQuery, useQueryClient } from \"@tanstack/react-query\";\n\ninterface HouseholdContextValue {\n  members: Member[];\n  careProfiles: CareProfile[];\n  medications: Medication[];\n  appointments: Appointment[];\n  doses: Dose[];\n  assets: Asset[];\n  meterReadings: MeterReading[];\n  tickets: Ticket[];\n  shoppingLists: ShoppingList[];\n  ledger: LedgerEntry[];\n  settlements: Settlement[];\n  careKpis: HouseholdCareKPIs;\n  addMember: (payload: Partial<Member> & { name: string; relation: Member[\"relation\"] }) => Promise<void>;\n  updateMemberRole: (memberId: string, roleLabel: string) => Promise<void>;\n  sendNudge: (payload: { channel: \"whatsapp\" | \"sms\"; to: string; message: string }) => Promise<void>;\n  upsertCareProfile: (payload: Partial<CareProfile> & { name: string }) => Promise<CareProfile>;\n  upsertMedication: (payload: Partial<Medication> & { careProfileId: string; name: string }) => Promise<Medication>;\n  logDose: (payload: { medId: string; status: Dose[\"status\"]; notes?: string }) => Promise<void>;\n  snoozeDose: (payload: { medId: string; minutes: number }) => Promise<void>;\n  skipDose: (payload: { medId: string; reason?: string }) => Promise<void>;\n  refillMedication: (payload: { medId: string; qty: number; pharmacy?: string; pickupDate?: string }) => Promise<void>;\n  addAppointment: (payload: Partial<Appointment> & { careProfileId: string; title: string; start: string; end: string; location: string }) => Promise<Appointment>;\n  addAsset: (payload: Partial<Asset> & { name: string; category: Asset[\"category\"]; condition: Asset[\"condition\"] }) => Promise<Asset>;\n  setAssetWarranty: (assetId: string, warrantyEnd: string, reminderDays?: number[]) => Promise<void>;\n  scheduleAssetMaintenance: (payload: { assetId: string; next: string; cadenceDays?: number }) => Promise<void>;\n  markAssetServiced: (payload: { assetId: string; note?: string }) => Promise<void>;\n  attachAssetReceipt: (payload: { assetId: string; receiptDocId: string }) => Promise<void>;\n  addMeterReading: (payload: Omit<MeterReading, \"id\">) => Promise<MeterReading>;\n  upsertTicket: (payload: Partial<Ticket> & { apartmentId: string; title: string; type: Ticket[\"type\"]; severity: Ticket[\"severity\"]; status?: Ticket[\"status\"] }) => Promise<Ticket>;\n  mutateTicketStatus: (payload: { ticketId: string; status: Ticket[\"status\"]; assignee?: string }) => Promise<void>;\n  addShoppingItem: (payload: { listId: string; label: string; qty?: string; priority: ShoppingItem[\"priority\"]; recurring?: boolean; priceTarget?: number }) => Promise<void>;\n  toggleShoppingItem: (payload: { listId: string; itemId: string; checked: boolean }) => Promise<void>;\n  setShoppingPriceTarget: (payload: { listId: string; itemId: string; priceTarget?: number }) => Promise<void>;\n  sendShoppingList: (payload: { listId: string; channel: \"whatsapp\" | \"sms\"; to: string }) => Promise<void>;\n  recordPayment: (payload: { payer: string; amount: number; method: Settlement[\"method\"]; reference?: string; attachments?: string[]; currency: string }) => Promise<void>;\n  settleNow: (payload: { settlements: { payer: string; amount: number }[]; currency: string }) => Promise<void>;\n  exportLedger: () => Promise<string>;\n  setActiveTab: (tab: string) => void;\n  activeTab: string;\n}\n\nconst HouseholdContext = createContext<HouseholdContextValue | null>(null);\n\nasync function api<T>(input: RequestInfo, init?: RequestInit): Promise<T> {\n  const res = await fetch(input, {\n    ...init,\n    headers: {\n      \"Content-Type\": \"application/json\",\n      ...(init?.headers || {}),\n    },\n  });\n  if (!res.ok) {\n    const message = await res.text();\n    throw new Error(message || \"Request failed\");\n  }\n  return res.json() as Promise<T>;\n}\n\nfunction computeCareKpis(medications: Medication[], doses: Dose[], appointments: Appointment[]): HouseholdCareKPIs {\n  const now = new Date();\n  const thirtyDaysAgo = new Date(now.getTime() - 30 * 24 * 60 * 60 * 1000);\n  const relevantDoses = doses.filter((dose) => new Date(dose.scheduledAt) >= thirtyDaysAgo);\n  const taken = relevantDoses.filter((dose) => dose.status === \"taken\").length;\n  const adherence30d = relevantDoses.length ? Math.round((taken / relevantDoses.length) * 100) : 100;\n\n  const medDays = medications.map((med) => {\n    if (med.schedule.type === \"fixed\" && med.schedule.times && med.schedule.times.length > 0) {\n      const dosesPerDay = med.schedule.times.length;\n      return med.pillsOnHand / (dosesPerDay * med.dosage.unitsPerDose);\n    }\n    if (med.schedule.type === \"interval\" && med.schedule.intervalHours) {\n      const dosesPerDay = 24 / med.schedule.intervalHours;\n      return med.pillsOnHand / (dosesPerDay * med.dosage.unitsPerDose);\n    }\n    return med.pillsOnHand;\n  });\n\n  const onHandDays = medDays.length ? Math.floor(Math.min(...medDays)) : 0;\n\n  const upcomingRefill = medications\n    .filter((med) => med.lowStockThreshold >= med.pillsOnHand)\n    .map((med) => new Date(now.getTime() + onHandDays * 24 * 60 * 60 * 1000))\n    .sort((a, b) => a.getTime() - b.getTime())[0];\n\n  const nextAppointment = appointments\n    .map((appt) => new Date(appt.start))\n    .filter((date) => date >= now)\n    .sort((a, b) => a.getTime() - b.getTime())[0];\n\n  return {\n    adherence30d,\n    onHandDays,\n    nextRefillDate: upcomingRefill ? upcomingRefill.toISOString() : undefined,\n    nextAppointmentDate: nextAppointment ? nextAppointment.toISOString() : undefined,\n  };\n}\n\nexport function HouseholdProvider({ children }: { children: ReactNode }) {\n  const [activeTab, setActiveTab] = useState<string>(\"members\");\n  const queryClient = useQueryClient();\n\n  const { data: members = [] } = useQuery<Member[]>({\n    queryKey: [\"household\", \"members\"],\n    queryFn: () => api<Member[]>(\"/api/household/members\"),\n  });\n\n  const { data: careProfiles = [] } = useQuery<CareProfile[]>({\n    queryKey: [\"household\", \"careProfiles\"],\n    queryFn: () => api<CareProfile[]>(\"/api/household/care/profiles\"),\n  });\n\n  const { data: medications = [] } = useQuery<Medication[]>({\n    queryKey: [\"household\", \"medications\"],\n    queryFn: () => api<Medication[]>(\"/api/household/care/medications\"),\n  });\n\n  const { data: doses = [] } = useQuery<Dose[]>({\n    queryKey: [\"household\", \"doses\"],\n    queryFn: () => api<Dose[]>(\"/api/household/care/doses\"),\n  });\n\n  const { data: appointments = [] } = useQuery<Appointment[]>({\n    queryKey: [\"household\", \"appointments\"],\n    queryFn: () => api<Appointment[]>(\"/api/household/care/appointments\"),\n  });\n\n  const { data: assets = [] } = useQuery<Asset[]>({\n    queryKey: [\"household\", \"assets\"],\n    queryFn: () => api<Asset[]>(\"/api/household/assets\"),\n  });\n\n  const { data: meterReadings = [] } = useQuery<MeterReading[]>({\n    queryKey: [\"household\", \"meters\"],\n    queryFn: () => api<MeterReading[]>(\"/api/household/apartment/meters\"),\n  });\n\n  const { data: tickets = [] } = useQuery<Ticket[]>({\n    queryKey: [\"household\", \"tickets\"],\n    queryFn: () => api<Ticket[]>(\"/api/household/apartment/tickets\"),\n  });\n\n  const { data: shoppingLists = [] } = useQuery<ShoppingList[]>({\n    queryKey: [\"household\", \"shopping\"],\n    queryFn: () => api<ShoppingList[]>(\"/api/household/shopping\"),\n  });\n\n  const { data: ledger = [] } = useQuery<LedgerEntry[]>({\n    queryKey: [\"household\", \"ledger\"],\n    queryFn: () => api<LedgerEntry[]>(\"/api/household/split/ledger\"),\n  });\n\n  const { data: settlements = [] } = useQuery<Settlement[]>({\n    queryKey: [\"household\", \"settlements\"],\n    queryFn: () => api<Settlement[]>(\"/api/household/split/settlements\").catch(() => []),\n  });\n\n  const careKpis = useMemo(\n    () => computeCareKpis(medications, doses, appointments),\n    [medications, doses, appointments],\n  );\n\n  const addMemberMutation = useMutation({\n    mutationFn: (payload: Partial<Member> & { name: string; relation: Member[\"relation\"] }) =>\n      api<Member[]>(\"/api/household/members\", { method: \"POST\", body: JSON.stringify({ action: \"create\", payload }) }),\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: [\"household\", \"members\"] }),\n  });\n\n  const updateMemberRoleMutation = useMutation({\n    mutationFn: ({ memberId, roleLabel }: { memberId: string; roleLabel: string }) =>\n      api<Member[]>(\"/api/household/members\", { method: \"POST\", body: JSON.stringify({ action: \"role\", memberId, roleLabel }) }),\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: [\"household\", \"members\"] }),\n  });\n\n  const sendNudgeMutation = useMutation({\n    mutationFn: (payload: { channel: \"whatsapp\" | \"sms\"; to: string; message: string }) =>\n      api<{ status: string }>(\"/api/nudge\", { method: \"POST\", body: JSON.stringify(payload) }),\n  });\n\n  const upsertCareProfileMutation = useMutation({\n    mutationFn: (payload: Partial<CareProfile> & { name: string }) =>\n      api<CareProfile>(\"/api/household/care/profiles\", { method: \"POST\", body: JSON.stringify({ action: \"upsert\", payload }) }),\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: [\"household\", \"careProfiles\"] }),\n  });\n\n  const upsertMedicationMutation = useMutation({\n    mutationFn: (payload: Partial<Medication> & { careProfileId: string; name: string }) =>\n      api<Medication>(\"/api/household/care/medications\", { method: \"POST\", body: JSON.stringify({ action: \"upsert\", payload }) }),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"household\", \"medications\"] });\n      queryClient.invalidateQueries({ queryKey: [\"household\", \"doses\"] });\n    },\n  });\n\n  const logDoseMutation = useMutation({\n    mutationFn: (payload: { medId: string; status: Dose[\"status\"]; notes?: string }) =>\n      api(\"/api/household/care/doses\", { method: \"POST\", body: JSON.stringify({ action: \"log\", payload }) }),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"household\", \"doses\"] });\n      queryClient.invalidateQueries({ queryKey: [\"household\", \"medications\"] });\n    },\n  });\n\n  const snoozeDoseMutation = useMutation({\n    mutationFn: (payload: { medId: string; minutes: number }) =>\n      api(\"/api/household/care/doses\", { method: \"POST\", body: JSON.stringify({ action: \"snooze\", payload }) }),\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: [\"household\", \"doses\"] }),\n  });\n\n  const skipDoseMutation = useMutation({\n    mutationFn: (payload: { medId: string; reason?: string }) =>\n      api(\"/api/household/care/doses\", { method: \"POST\", body: JSON.stringify({ action: \"skip\", payload }) }),\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: [\"household\", \"doses\"] }),\n  });\n\n  const refillMutation = useMutation({\n    mutationFn: (payload: { medId: string; qty: number; pharmacy?: string; pickupDate?: string }) =>\n      api(\"/api/household/care/refill\", { method: \"POST\", body: JSON.stringify(payload) }),\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: [\"household\", \"medications\"] }),\n  });\n\n  const appointmentMutation = useMutation({\n    mutationFn: (payload: Partial<Appointment> & { careProfileId: string; title: string; start: string; end: string; location: string }) =>\n      api<Appointment>(\"/api/household/care/appointments\", { method: \"POST\", body: JSON.stringify({ action: \"create\", payload }) }),\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: [\"household\", \"appointments\"] }),\n  });\n\n  const assetMutation = useMutation({\n    mutationFn: (payload: Partial<Asset> & { name: string; category: Asset[\"category\"]; condition: Asset[\"condition\"] }) =>\n      api<Asset>(\"/api/household/assets\", { method: \"POST\", body: JSON.stringify({ action: \"create\", payload }) }),\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: [\"household\", \"assets\"] }),\n  });\n\n  const warrantyMutation = useMutation({\n    mutationFn: ({ assetId, warrantyEnd, reminderDays }: { assetId: string; warrantyEnd: string; reminderDays?: number[] }) =>\n      api(\"/api/household/assets\", { method: \"POST\", body: JSON.stringify({ action: \"warranty\", assetId, warrantyEnd, reminderDays }) }),\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: [\"household\", \"assets\"] }),\n  });\n\n  const maintenanceMutation = useMutation({\n    mutationFn: (payload: { assetId: string; next: string; cadenceDays?: number }) =>\n      api(\"/api/household/assets/maintenance\", { method: \"POST\", body: JSON.stringify(payload) }),\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: [\"household\", \"assets\"] }),\n  });\n\n  const servicedMutation = useMutation({\n    mutationFn: (payload: { assetId: string; note?: string }) =>\n      api(\"/api/household/assets/maintenance\", { method: \"POST\", body: JSON.stringify({ ...payload, markServiced: true }) }),\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: [\"household\", \"assets\"] }),\n  });\n\n  const receiptMutation = useMutation({\n    mutationFn: (payload: { assetId: string; receiptDocId: string }) =>\n      api(\"/api/household/assets\", { method: \"POST\", body: JSON.stringify({ action: \"receipt\", ...payload }) }),\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: [\"household\", \"assets\"] }),\n  });\n\n  const meterMutation = useMutation({\n    mutationFn: (payload: Omit<MeterReading, \"id\">) =>\n      api<MeterReading>(\"/api/household/apartment/meters\", { method: \"POST\", body: JSON.stringify(payload) }),\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: [\"household\", \"meters\"] }),\n  });\n\n  const ticketMutation = useMutation({\n    mutationFn: (payload: Partial<Ticket> & { apartmentId: string; title: string; type: Ticket[\"type\"]; severity: Ticket[\"severity\"]; status?: Ticket[\"status\"] }) =>\n      api<Ticket>(\"/api/household/apartment/tickets\", { method: \"POST\", body: JSON.stringify({ action: \"upsert\", payload }) }),\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: [\"household\", \"tickets\"] }),\n  });\n\n  const ticketStatusMutation = useMutation({\n    mutationFn: (payload: { ticketId: string; status: Ticket[\"status\"]; assignee?: string }) =>\n      api(\"/api/household/apartment/tickets\", { method: \"POST\", body: JSON.stringify({ action: \"status\", ...payload }) }),\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: [\"household\", \"tickets\"] }),\n  });\n\n  const shoppingMutation = useMutation({\n    mutationFn: (payload: { listId: string; label: string; qty?: string; priority: ShoppingItem[\"priority\"]; recurring?: boolean; priceTarget?: number }) =>\n      api(\"/api/household/shopping\", { method: \"POST\", body: JSON.stringify({ action: \"addItem\", payload }) }),\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: [\"household\", \"shopping\"] }),\n  });\n\n  const toggleShoppingMutation = useMutation({\n    mutationFn: (payload: { listId: string; itemId: string; checked: boolean }) =>\n      api(\"/api/household/shopping\", { method: \"POST\", body: JSON.stringify({ action: \"toggle\", payload }) }),\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: [\"household\", \"shopping\"] }),\n  });\n\n  const priceTargetMutation = useMutation({\n    mutationFn: (payload: { listId: string; itemId: string; priceTarget?: number }) =>\n      api(\"/api/household/shopping\", { method: \"POST\", body: JSON.stringify({ action: \"priceTarget\", payload }) }),\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: [\"household\", \"shopping\"] }),\n  });\n\n  const sendShoppingMutation = useMutation({\n    mutationFn: (payload: { listId: string; channel: \"whatsapp\" | \"sms\"; to: string }) =>\n      api(\"/api/nudge\", { method: \"POST\", body: JSON.stringify({ ...payload, listId: payload.listId, template: \"shopping\" }) }),\n  });\n\n  const paymentMutation = useMutation({\n    mutationFn: (payload: { payer: string; amount: number; method: Settlement[\"method\"]; reference?: string; attachments?: string[]; currency: string }) =>\n      api(\"/api/household/split/settle\", { method: \"POST\", body: JSON.stringify({ action: \"record\", payload }) }),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"household\", \"settlements\"] });\n      queryClient.invalidateQueries({ queryKey: [\"household\", \"ledger\"] });\n    },\n  });\n\n  const settleNowMutation = useMutation({\n    mutationFn: (payload: { settlements: { payer: string; amount: number }[]; currency: string }) =>\n      api(\"/api/household/split/settle\", { method: \"POST\", body: JSON.stringify({ action: \"settleNow\", payload }) }),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"household\", \"settlements\"] });\n      queryClient.invalidateQueries({ queryKey: [\"household\", \"ledger\"] });\n    },\n  });\n\n  const exportLedgerMutation = useMutation({\n    mutationFn: () => api<{ export: string }>(\"/api/household/split/ledger\", { method: \"POST\", body: JSON.stringify({ action: \"export\" }) }),\n  });\n\n  const value = useMemo<HouseholdContextValue>(() => ({\n    members,\n    careProfiles,\n    medications,\n    appointments,\n    doses,\n    assets,\n    meterReadings,\n    tickets,\n    shoppingLists,\n    ledger,\n    settlements,\n    careKpis,\n    addMember: async (payload) => {\n      await addMemberMutation.mutateAsync(payload);\n    },\n    updateMemberRole: async (memberId, roleLabel) => {\n      await updateMemberRoleMutation.mutateAsync({ memberId, roleLabel });\n    },\n    sendNudge: async (payload) => {\n      await sendNudgeMutation.mutateAsync(payload);\n    },\n    upsertCareProfile: async (payload) => upsertCareProfileMutation.mutateAsync(payload),\n    upsertMedication: async (payload) => upsertMedicationMutation.mutateAsync(payload),\n    logDose: async (payload) => logDoseMutation.mutateAsync(payload),\n    snoozeDose: async (payload) => snoozeDoseMutation.mutateAsync(payload),\n    skipDose: async (payload) => skipDoseMutation.mutateAsync(payload),\n    refillMedication: async (payload) => refillMutation.mutateAsync(payload),\n    addAppointment: async (payload) => appointmentMutation.mutateAsync(payload),\n    addAsset: async (payload) => assetMutation.mutateAsync(payload),\n    setAssetWarranty: async (assetId, warrantyEnd, reminderDays) => warrantyMutation.mutateAsync({ assetId, warrantyEnd, reminderDays }),\n    scheduleAssetMaintenance: async (payload) => maintenanceMutation.mutateAsync(payload),\n    markAssetServiced: async (payload) => servicedMutation.mutateAsync(payload),\n    attachAssetReceipt: async (payload) => receiptMutation.mutateAsync(payload),\n    addMeterReading: async (payload) => meterMutation.mutateAsync(payload),\n    upsertTicket: async (payload) => ticketMutation.mutateAsync(payload),\n    mutateTicketStatus: async (payload) => ticketStatusMutation.mutateAsync(payload),\n    addShoppingItem: async (payload) => shoppingMutation.mutateAsync(payload),\n    toggleShoppingItem: async (payload) => toggleShoppingMutation.mutateAsync(payload),\n    setShoppingPriceTarget: async (payload) => priceTargetMutation.mutateAsync(payload),\n    sendShoppingList: async (payload) => sendShoppingMutation.mutateAsync(payload),\n    recordPayment: async (payload) => paymentMutation.mutateAsync(payload),\n    settleNow: async (payload) => settleNowMutation.mutateAsync(payload),\n    exportLedger: async () => {\n      const data = await exportLedgerMutation.mutateAsync();\n      return data.export;\n    },\n    activeTab,\n    setActiveTab,\n  }), [\n    members,\n    careProfiles,\n    medications,\n    appointments,\n    doses,\n    assets,\n    meterReadings,\n    tickets,\n    shoppingLists,\n    ledger,\n    settlements,\n    careKpis,\n    addMemberMutation,\n    updateMemberRoleMutation,\n    sendNudgeMutation,\n    upsertCareProfileMutation,\n    upsertMedicationMutation,\n    logDoseMutation,\n    snoozeDoseMutation,\n    skipDoseMutation,\n    refillMutation,\n    appointmentMutation,\n    assetMutation,\n    warrantyMutation,\n    maintenanceMutation,\n    servicedMutation,\n    receiptMutation,\n    meterMutation,\n    ticketMutation,\n    ticketStatusMutation,\n    shoppingMutation,\n    toggleShoppingMutation,\n    priceTargetMutation,\n    sendShoppingMutation,\n    paymentMutation,\n    settleNowMutation,\n    exportLedgerMutation,\n    activeTab,\n  ]);\n\n  return <HouseholdContext.Provider value={value}>{children}</HouseholdContext.Provider>;\n}\n\nexport function useHousehold() {\n  const context = useContext(HouseholdContext);\n  if (!context) {\n    throw new Error(\"useHousehold must be used within HouseholdProvider\");\n  }\n  return context;\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1371, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/household/NudgeDialog.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo, useState } from \"react\";\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Label } from \"@/components/ui/label\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport type { Member } from \"@/lib/household/types\";\nimport { useHousehold } from \"@/lib/household/useHousehold.tsx\";\n\nconst templates = [\n  { id: \"bill\", label: \"Bill reminder\", body: (member?: Member) => `Hey ${member?.name ?? \"there\"}, heads up the bill is due today.` },\n  { id: \"shopping\", label: \"Shopping list\", body: (member?: Member) => `Need anything else for the shared list? Check the app before 6pm.` },\n  { id: \"task\", label: \"Task\", body: (member?: Member) => `Quick task: can you handle the package drop-off before noon?` },\n  { id: \"med\", label: \"Medication dose\", body: (member?: Member) => `Time for medication. Log once taken so we stay on schedule.` },\n  { id: \"appt\", label: \"Appointment\", body: (member?: Member) => `Reminder: appointment tomorrow. Confirm travel + prep.` },\n];\n\ninterface NudgeDialogProps {\n  member: Member | null;\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n}\n\nexport function NudgeDialog({ member, open, onOpenChange }: NudgeDialogProps) {\n  const { sendNudge } = useHousehold();\n  const { toast } = useToast();\n  const [channel, setChannel] = useState<\"whatsapp\" | \"sms\">(\"whatsapp\");\n  const [templateId, setTemplateId] = useState(\"bill\");\n  const [message, setMessage] = useState(\"\");\n\n  const computedMessage = useMemo(() => {\n    const template = templates.find((tpl) => tpl.id === templateId);\n    return template ? template.body(member ?? undefined) : \"\";\n  }, [templateId, member]);\n\n  const finalMessage = message || computedMessage;\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-lg rounded-3xl border border-slate-800 bg-slate-950 text-slate-100\">\n        <DialogHeader>\n          <DialogTitle>Send a nudge</DialogTitle>\n          <DialogDescription>WhatsApp or SMS message. Stays on this page, logged instantly.</DialogDescription>\n        </DialogHeader>\n        <div className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <Label>Template</Label>\n            <RadioGroup\n              value={templateId}\n              onValueChange={(value) => {\n                setTemplateId(value);\n                setMessage(\"\");\n              }}\n              className=\"grid gap-2 md:grid-cols-2\"\n            >\n              {templates.map((tpl) => (\n                <label\n                  key={tpl.id}\n                  className=\"flex cursor-pointer items-center justify-between rounded-2xl border border-slate-800/80 bg-slate-900/40 px-4 py-3 text-sm text-slate-200 hover:border-cyan-600/80\"\n                >\n                  <div className=\"flex flex-col\">\n                    <span className=\"font-medium\">{tpl.label}</span>\n                    <span className=\"text-xs text-slate-400\">{tpl.body(member ?? undefined)}</span>\n                  </div>\n                  <RadioGroupItem value={tpl.id} />\n                </label>\n              ))}\n            </RadioGroup>\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"channel\">Channel</Label>\n            <RadioGroup value={channel} onValueChange={(value: \"whatsapp\" | \"sms\") => setChannel(value)} className=\"flex gap-4\">\n              <label className=\"flex items-center gap-2 text-sm\">\n                <RadioGroupItem value=\"whatsapp\" id=\"whatsapp\" /> WhatsApp\n              </label>\n              <label className=\"flex items-center gap-2 text-sm\">\n                <RadioGroupItem value=\"sms\" id=\"sms\" /> SMS\n              </label>\n            </RadioGroup>\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"to\">Send to</Label>\n            <Input id=\"to\" value={member?.phone ?? \"\"} disabled placeholder=\"No phone\" />\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"message\">Message</Label>\n            <Textarea\n              id=\"message\"\n              rows={4}\n              value={finalMessage}\n              onChange={(event) => setMessage(event.target.value)}\n              className=\"rounded-2xl border-slate-800 bg-slate-900/50\"\n            />\n          </div>\n          <Button\n            onClick={async () => {\n              if (!member?.phone) {\n                toast({ title: \"No phone on file\", description: \"Add a phone number before nudging.\" });\n                return;\n              }\n              await sendNudge({ channel, to: member.phone, message: finalMessage });\n              toast({ title: \"Nudge queued\", description: `Sent via ${channel.toUpperCase()}` });\n              onOpenChange(false);\n            }}\n            className=\"w-full rounded-2xl bg-cyan-500/90 text-slate-950 hover:bg-cyan-400\"\n          >\n            Send\n          </Button>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1706, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/household/MembersGrid.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\nimport { PageHeader, PagePrimaryAction, PageSecondaryAction } from \"@/components/layout/page-header\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Button } from \"@/components/ui/button\";\nimport { MemberCard } from \"./MemberCard\";\nimport { NudgeDialog } from \"./NudgeDialog\";\nimport { useHousehold } from \"@/lib/household/useHousehold\";\nimport type { Member } from \"@/lib/household/types\";\n\nexport function MembersGrid() {\n  const { members, careProfiles, addMember, updateMemberRole } = useHousehold();\n  const [nudgeTarget, setNudgeTarget] = useState<Member | null>(null);\n  const [open, setOpen] = useState(false);\n  const [assignTarget, setAssignTarget] = useState<Member | null>(null);\n\n  useEffect(() => {\n    const handleAdd = () => setOpen(true);\n    const handleAssign = () => setAssignTarget(members[0] ?? null);\n    const handleNudge = () => setNudgeTarget(members[0] ?? null);\n    window.addEventListener(\"household:add-member\", handleAdd);\n    window.addEventListener(\"household:assign-role\", handleAssign);\n    window.addEventListener(\"household:nudge-member\", handleNudge);\n    return () => {\n      window.removeEventListener(\"household:add-member\", handleAdd);\n      window.removeEventListener(\"household:assign-role\", handleAssign);\n      window.removeEventListener(\"household:nudge-member\", handleNudge);\n    };\n  }, [members]);\n\n  const sortedMembers = useMemo(() => [...members].sort((a, b) => a.name.localeCompare(b.name)), [members]);\n\n  return (\n    <div className=\"space-y-6\">\n      <PageHeader\n        title=\"Household members\"\n        description=\"Role-based summaries with quick nudges, care linkages, and relationship context.\"\n        actions={\n          <div className=\"flex gap-2\">\n            <Dialog open={open} onOpenChange={setOpen}>\n              <DialogTrigger asChild>\n                <PagePrimaryAction>Add member</PagePrimaryAction>\n              </DialogTrigger>\n              <MemberEditor onSubmit={async (payload) => { await addMember(payload); setOpen(false); }} />\n            </Dialog>\n            <Dialog open={!!assignTarget} onOpenChange={(value) => !value && setAssignTarget(null)}>\n              <DialogTrigger asChild>\n                <PageSecondaryAction>Assign role</PageSecondaryAction>\n              </DialogTrigger>\n              {assignTarget ? (\n                <RoleDialog member={assignTarget} onAssign={async (role) => { await updateMemberRole(assignTarget.id, role); setAssignTarget(null); }} />\n              ) : (\n                <RolePicker members={members} onSelect={setAssignTarget} />\n              )}\n            </Dialog>\n          </div>\n        }\n      />\n      <div className=\"grid gap-4 md:grid-cols-2 xl:grid-cols-3\">\n        {sortedMembers.map((member) => (\n          <MemberCard\n            key={member.id}\n            member={member}\n            careProfiles={careProfiles}\n            onNudge={setNudgeTarget}\n            onEdit={() => setAssignTarget(member)}\n          />\n        ))}\n      </div>\n      <NudgeDialog member={nudgeTarget} open={!!nudgeTarget} onOpenChange={(value) => !value && setNudgeTarget(null)} />\n    </div>\n  );\n}\n\nfunction MemberEditor({ onSubmit }: { onSubmit: (payload: { name: string; relation: Member[\"relation\"]; phone?: string }) => Promise<void> }) {\n  const [form, setForm] = useState<{ name: string; relation: Member[\"relation\"] | \"\"; phone?: string }>({ name: \"\", relation: \"\" });\n  return (\n    <DialogContent className=\"max-w-md rounded-3xl border border-slate-800 bg-slate-950\">\n      <DialogHeader>\n        <DialogTitle>Add household member</DialogTitle>\n      </DialogHeader>\n      <form\n        className=\"space-y-4\"\n        onSubmit={async (event) => {\n          event.preventDefault();\n          if (!form.name || !form.relation) return;\n          await onSubmit({ name: form.name, relation: form.relation, phone: form.phone });\n          setForm({ name: \"\", relation: \"\" });\n        }}\n      >\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"name\">Name</Label>\n          <Input id=\"name\" value={form.name} onChange={(event) => setForm((prev) => ({ ...prev, name: event.target.value }))} placeholder=\"E.g. Beno\" />\n        </div>\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"phone\">Phone</Label>\n          <Input id=\"phone\" value={form.phone ?? \"\"} onChange={(event) => setForm((prev) => ({ ...prev, phone: event.target.value }))} placeholder=\"+1 (555) 000-0000\" />\n        </div>\n        <div className=\"space-y-2\">\n          <Label>Relation</Label>\n          <Select value={form.relation} onValueChange={(value: Member[\"relation\"]) => setForm((prev) => ({ ...prev, relation: value }))}>\n            <SelectTrigger>\n              <SelectValue placeholder=\"Select relation\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"brother\">Brother</SelectItem>\n              <SelectItem value=\"parent\">Parent</SelectItem>\n              <SelectItem value=\"guest\">Guest</SelectItem>\n              <SelectItem value=\"other\">Other</SelectItem>\n            </SelectContent>\n          </Select>\n        </div>\n        <Button type=\"submit\" className=\"w-full rounded-2xl bg-cyan-500/80 text-slate-950 hover:bg-cyan-400\">\n          Save member\n        </Button>\n      </form>\n    </DialogContent>\n  );\n}\n\nfunction RolePicker({ members, onSelect }: { members: Member[]; onSelect: (member: Member) => void }) {\n  return (\n    <DialogContent className=\"max-w-md rounded-3xl border border-slate-800 bg-slate-950\">\n      <DialogHeader>\n        <DialogTitle>Select member</DialogTitle>\n      </DialogHeader>\n      <div className=\"space-y-2\">\n        {members.map((member) => (\n          <Button key={member.id} variant=\"ghost\" className=\"w-full justify-start rounded-2xl text-left text-slate-200 hover:bg-slate-900/80\" onClick={() => onSelect(member)}>\n            {member.name}\n          </Button>\n        ))}\n      </div>\n    </DialogContent>\n  );\n}\n\nfunction RoleDialog({ member, onAssign }: { member: Member; onAssign: (role: string) => Promise<void> }) {\n  return (\n    <DialogContent className=\"max-w-sm rounded-3xl border border-slate-800 bg-slate-950\">\n      <DialogHeader>\n        <DialogTitle>Assign role to {member.name}</DialogTitle>\n      </DialogHeader>\n      <div className=\"space-y-3\">\n        {[\"Admin\", \"Family\", \"Guest\"].map((role) => (\n          <Button key={role} variant=\"ghost\" className=\"w-full justify-between rounded-2xl text-left text-slate-200 hover:bg-slate-900/70\" onClick={async () => onAssign(role)}>\n            <span>{role}</span>\n            <span className=\"text-xs uppercase tracking-widest text-slate-500\">label</span>\n          </Button>\n        ))}\n      </div>\n    </DialogContent>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2198, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/progress.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,yBAAW,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG9B,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE,oBACjC,8OAAC,oKAAA,CAAA,OAAsB;QACrB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,oKAAA,CAAA,YAA2B;YAC1B,WAAU;YACV,OAAO;gBAAE,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;YAAC;;;;;;;;;;;AAIhE,SAAS,WAAW,GAAG,oKAAA,CAAA,OAAsB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 2237, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/household/care/DoseTimeline.tsx"],"sourcesContent":["\"use client\";\n\nimport { format } from \"date-fns\";\nimport type { Dose, Medication } from \"@/lib/household/types\";\n\ninterface DoseTimelineProps {\n  medication: Medication;\n  doses: Dose[];\n}\n\nconst statusColors: Record<string, string> = {\n  due: \"bg-slate-700/60\",\n  taken: \"bg-emerald-500\",\n  missed: \"bg-rose-500\",\n  snoozed: \"bg-amber-400\",\n  skipped: \"bg-slate-500\",\n};\n\nexport function DoseTimeline({ medication, doses }: DoseTimelineProps) {\n  const today = new Date();\n  const scheduleTimes =\n    medication.schedule.type === \"fixed\" && medication.schedule.times\n      ? medication.schedule.times\n      : [\"08:00\", \"20:00\"];\n\n  const items = scheduleTimes.map((time) => {\n    const [hour, minute] = time.split(\":\").map(Number);\n    const scheduledAt = new Date(today);\n    scheduledAt.setHours(hour ?? 8, minute ?? 0, 0, 0);\n    const match = doses\n      .filter((dose) => dose.medId === medication.id)\n      .sort((a, b) => new Date(a.scheduledAt).getTime() - new Date(b.scheduledAt).getTime())\n      .find((dose) => Math.abs(new Date(dose.scheduledAt).getTime() - scheduledAt.getTime()) < 60 * 60 * 1000);\n    return {\n      time,\n      scheduledAt,\n      status: match?.status ?? \"due\",\n    };\n  });\n\n  return (\n    <div className=\"flex items-center gap-3\">\n      {items.map((item) => (\n        <div key={item.time} className=\"flex flex-col items-center gap-1\">\n          <span className=\"text-xs text-slate-400\">{format(item.scheduledAt, \"HH:mm\")}</span>\n          <span\n            className={`h-3 w-3 rounded-full border border-slate-800 ${statusColors[item.status] ?? \"bg-slate-700\"}`}\n            title={item.status}\n          />\n        </div>\n      ))}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAUA,MAAM,eAAuC;IAC3C,KAAK;IACL,OAAO;IACP,QAAQ;IACR,SAAS;IACT,SAAS;AACX;AAEO,SAAS,aAAa,EAAE,UAAU,EAAE,KAAK,EAAqB;IACnE,MAAM,QAAQ,IAAI;IAClB,MAAM,gBACJ,WAAW,QAAQ,CAAC,IAAI,KAAK,WAAW,WAAW,QAAQ,CAAC,KAAK,GAC7D,WAAW,QAAQ,CAAC,KAAK,GACzB;QAAC;QAAS;KAAQ;IAExB,MAAM,QAAQ,cAAc,GAAG,CAAC,CAAC;QAC/B,MAAM,CAAC,MAAM,OAAO,GAAG,KAAK,KAAK,CAAC,KAAK,GAAG,CAAC;QAC3C,MAAM,cAAc,IAAI,KAAK;QAC7B,YAAY,QAAQ,CAAC,QAAQ,GAAG,UAAU,GAAG,GAAG;QAChD,MAAM,QAAQ,MACX,MAAM,CAAC,CAAC,OAAS,KAAK,KAAK,KAAK,WAAW,EAAE,EAC7C,IAAI,CAAC,CAAC,GAAG,IAAM,IAAI,KAAK,EAAE,WAAW,EAAE,OAAO,KAAK,IAAI,KAAK,EAAE,WAAW,EAAE,OAAO,IAClF,IAAI,CAAC,CAAC,OAAS,KAAK,GAAG,CAAC,IAAI,KAAK,KAAK,WAAW,EAAE,OAAO,KAAK,YAAY,OAAO,MAAM,KAAK,KAAK;QACrG,OAAO;YACL;YACA;YACA,QAAQ,OAAO,UAAU;QAC3B;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACZ,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC;gBAAoB,WAAU;;kCAC7B,8OAAC;wBAAK,WAAU;kCAA0B,CAAA,GAAA,sJAAA,CAAA,SAAM,AAAD,EAAE,KAAK,WAAW,EAAE;;;;;;kCACnE,8OAAC;wBACC,WAAW,CAAC,6CAA6C,EAAE,YAAY,CAAC,KAAK,MAAM,CAAC,IAAI,gBAAgB;wBACxG,OAAO,KAAK,MAAM;;;;;;;eAJZ,KAAK,IAAI;;;;;;;;;;AAU3B","debugId":null}},
    {"offset": {"line": 2308, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/household/care/MedicationCard.tsx"],"sourcesContent":["\"use client\";\n\nimport { format } from \"date-fns\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Progress } from \"@/components/ui/progress\";\nimport type { Dose, Medication } from \"@/lib/household/types\";\nimport { DoseTimeline } from \"./DoseTimeline\";\n\ninterface MedicationCardProps {\n  medication: Medication;\n  doses: Dose[];\n  onTaken: () => void;\n  onSnooze: () => void;\n  onSkip: () => void;\n  onRefill: () => void;\n  onEdit: () => void;\n  onNudge: () => void;\n}\n\nfunction getScheduleSummary(medication: Medication) {\n  if (medication.schedule.type === \"fixed\" && medication.schedule.times) {\n    return medication.schedule.times.join(\", \") + \" daily\";\n  }\n  if (medication.schedule.type === \"interval\" && medication.schedule.intervalHours) {\n    return `Every ${medication.schedule.intervalHours}h`;\n  }\n  return \"Custom schedule\";\n}\n\nfunction computeDaysOnHand(medication: Medication) {\n  const dosesPerDay =\n    medication.schedule.type === \"fixed\" && medication.schedule.times\n      ? medication.schedule.times.length\n      : medication.schedule.type === \"interval\" && medication.schedule.intervalHours\n        ? Math.round(24 / medication.schedule.intervalHours)\n        : 1;\n  return Math.floor(medication.pillsOnHand / (dosesPerDay * (medication.dosage.unitsPerDose || 1)));\n}\n\nexport function MedicationCard({ medication, doses, onTaken, onSnooze, onSkip, onRefill, onEdit, onNudge }: MedicationCardProps) {\n  const daysOnHand = computeDaysOnHand(medication);\n  const low = medication.pillsOnHand <= medication.lowStockThreshold;\n  const nextRefill = new Date();\n  nextRefill.setDate(nextRefill.getDate() + daysOnHand);\n\n  return (\n    <Card className=\"rounded-3xl border border-slate-900/60 bg-slate-950/80 shadow-xl\">\n      <CardHeader className=\"space-y-2\">\n        <div className=\"flex items-center justify-between gap-2\">\n          <CardTitle className=\"text-lg text-slate-50\">{medication.name}</CardTitle>\n          <Badge variant=\"outline\" className=\"rounded-xl border-slate-700 text-xs text-slate-200\">\n            {getScheduleSummary(medication)}\n          </Badge>\n        </div>\n        <p className=\"text-xs text-slate-400\">{medication.dosage.unitsPerDose} units â€¢ {medication.form}</p>\n      </CardHeader>\n      <CardContent className=\"space-y-5 text-sm text-slate-200\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"space-y-2\">\n            <p className=\"text-xs uppercase text-slate-500\">Today</p>\n            <DoseTimeline medication={medication} doses={doses} />\n          </div>\n          <div className=\"text-right\">\n            <p className=\"text-xs uppercase text-slate-500\">On-hand days</p>\n            <p className=\"text-lg font-semibold text-slate-100\">{daysOnHand}</p>\n            <p className=\"text-xs text-slate-500\">Refill by {format(nextRefill, \"MMM d\")}</p>\n          </div>\n        </div>\n        <div className=\"space-y-2\">\n          <div className=\"flex items-center justify-between text-xs text-slate-400\">\n            <span>Stock remaining</span>\n            <span>{medication.pillsOnHand} pills</span>\n          </div>\n          <Progress value={Math.min(100, (medication.pillsOnHand / Math.max(1, medication.refillPackSize)) * 100)} className=\"h-2 bg-slate-900\" />\n          {low ? <p className=\"text-xs text-amber-400\">Low stock â€” plan refill</p> : null}\n        </div>\n        <div className=\"grid gap-2 sm:grid-cols-3\">\n          <Button variant=\"secondary\" className=\"rounded-2xl bg-emerald-500/20 text-emerald-200 hover:bg-emerald-500/30\" onClick={onTaken}>\n            Taken\n          </Button>\n          <Button variant=\"secondary\" className=\"rounded-2xl bg-amber-500/20 text-amber-200 hover:bg-amber-500/30\" onClick={onSnooze}>\n            Snooze 15m\n          </Button>\n          <Button variant=\"secondary\" className=\"rounded-2xl bg-slate-700/40 text-slate-200 hover:bg-slate-700/60\" onClick={onSkip}>\n            Skip\n          </Button>\n          <Button variant=\"secondary\" className=\"rounded-2xl bg-cyan-500/20 text-cyan-200 hover:bg-cyan-500/40\" onClick={onRefill}>\n            Refill\n          </Button>\n          <Button variant=\"secondary\" className=\"rounded-2xl bg-slate-700/40 text-slate-200 hover:bg-slate-700/60\" onClick={onEdit}>\n            Edit\n          </Button>\n          <Button variant=\"secondary\" className=\"rounded-2xl bg-sky-500/20 text-sky-200 hover:bg-sky-500/40\" onClick={onNudge}>\n            Nudge\n          </Button>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2606, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/household/care/MedicationEditor.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Button } from \"@/components/ui/button\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport type { Medication } from \"@/lib/household/types\";\n\ninterface MedicationEditorProps {\n  careProfileId: string;\n  medication?: Medication | null;\n  onSubmit: (payload: Partial<Medication> & { careProfileId: string; name: string }) => Promise<void>;\n  onClose: () => void;\n}\n\nexport function MedicationEditor({ careProfileId, medication, onSubmit, onClose }: MedicationEditorProps) {\n  const [form, setForm] = useState({\n    name: medication?.name ?? \"\",\n    strengthMg: medication?.strengthMg?.toString() ?? \"\",\n    form: medication?.form ?? \"tab\",\n    unitsPerDose: medication?.dosage.unitsPerDose ?? 1,\n    scheduleType: medication?.schedule.type ?? \"fixed\",\n    times: medication?.schedule.times?.join(\",\") ?? \"08:00,20:00\",\n    intervalHours: medication?.schedule.intervalHours?.toString() ?? \"\",\n    pillsOnHand: medication?.pillsOnHand.toString() ?? \"30\",\n    refillPackSize: medication?.refillPackSize.toString() ?? \"30\",\n    lowStockThreshold: medication?.lowStockThreshold.toString() ?? \"5\",\n  });\n\n  useEffect(() => {\n    if (medication) {\n      setForm({\n        name: medication.name,\n        strengthMg: medication.strengthMg?.toString() ?? \"\",\n        form: medication.form ?? \"tab\",\n        unitsPerDose: medication.dosage.unitsPerDose,\n        scheduleType: medication.schedule.type,\n        times: medication.schedule.times?.join(\",\") ?? \"08:00,20:00\",\n        intervalHours: medication.schedule.intervalHours?.toString() ?? \"\",\n        pillsOnHand: medication.pillsOnHand.toString(),\n        refillPackSize: medication.refillPackSize.toString(),\n        lowStockThreshold: medication.lowStockThreshold.toString(),\n      });\n    }\n  }, [medication]);\n\n  return (\n    <DialogContent className=\"max-w-lg rounded-3xl border border-slate-800 bg-slate-950\">\n      <DialogHeader>\n        <DialogTitle>{medication ? \"Edit medication\" : \"Add medication\"}</DialogTitle>\n      </DialogHeader>\n      <form\n        className=\"grid gap-4\"\n        onSubmit={async (event) => {\n          event.preventDefault();\n          const times = form.scheduleType === \"fixed\" ? form.times.split(\",\").map((time) => time.trim()).filter(Boolean) : undefined;\n          const intervalHours = form.scheduleType === \"interval\" ? Number(form.intervalHours) || undefined : undefined;\n          await onSubmit({\n            id: medication?.id,\n            careProfileId,\n            name: form.name,\n            strengthMg: form.strengthMg ? Number(form.strengthMg) : undefined,\n            form: form.form as Medication[\"form\"],\n            dosage: { unitsPerDose: Number(form.unitsPerDose) || 1 },\n            schedule: {\n              type: form.scheduleType as Medication[\"schedule\"][\"type\"],\n              times,\n              intervalHours,\n            },\n            pillsOnHand: Number(form.pillsOnHand) || 0,\n            refillPackSize: Number(form.refillPackSize) || 30,\n            lowStockThreshold: Number(form.lowStockThreshold) || 5,\n          });\n          onClose();\n        }}\n      >\n        <div className=\"space-y-2\">\n          <Label>Name</Label>\n          <Input value={form.name} onChange={(event) => setForm((prev) => ({ ...prev, name: event.target.value }))} />\n        </div>\n        <div className=\"grid gap-4 md:grid-cols-2\">\n          <div className=\"space-y-2\">\n            <Label>Strength (mg)</Label>\n            <Input value={form.strengthMg} onChange={(event) => setForm((prev) => ({ ...prev, strengthMg: event.target.value }))} />\n          </div>\n          <div className=\"space-y-2\">\n            <Label>Form</Label>\n            <Select value={form.form} onValueChange={(value) => setForm((prev) => ({ ...prev, form: value }))}>\n              <SelectTrigger>\n                <SelectValue placeholder=\"Form\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"tab\">Tablet</SelectItem>\n                <SelectItem value=\"cap\">Capsule</SelectItem>\n                <SelectItem value=\"liq\">Liquid</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n        </div>\n        <div className=\"space-y-2\">\n          <Label>Units per dose</Label>\n          <Input\n            type=\"number\"\n            min={1}\n            value={form.unitsPerDose}\n            onChange={(event) => setForm((prev) => ({ ...prev, unitsPerDose: Number(event.target.value) }))}\n          />\n        </div>\n        <div className=\"grid gap-4 md:grid-cols-2\">\n          <div className=\"space-y-2\">\n            <Label>Schedule type</Label>\n            <Select value={form.scheduleType} onValueChange={(value) => setForm((prev) => ({ ...prev, scheduleType: value }))}>\n              <SelectTrigger>\n                <SelectValue placeholder=\"Schedule\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"fixed\">Fixed times</SelectItem>\n                <SelectItem value=\"interval\">Interval</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n          {form.scheduleType === \"fixed\" ? (\n            <div className=\"space-y-2\">\n              <Label>Times (comma separated)</Label>\n              <Input value={form.times} onChange={(event) => setForm((prev) => ({ ...prev, times: event.target.value }))} />\n            </div>\n          ) : (\n            <div className=\"space-y-2\">\n              <Label>Interval hours</Label>\n              <Input value={form.intervalHours} onChange={(event) => setForm((prev) => ({ ...prev, intervalHours: event.target.value }))} />\n            </div>\n          )}\n        </div>\n        <div className=\"grid gap-4 md:grid-cols-3\">\n          <div className=\"space-y-2\">\n            <Label>Pills on hand</Label>\n            <Input value={form.pillsOnHand} onChange={(event) => setForm((prev) => ({ ...prev, pillsOnHand: event.target.value }))} />\n          </div>\n          <div className=\"space-y-2\">\n            <Label>Refill pack size</Label>\n            <Input value={form.refillPackSize} onChange={(event) => setForm((prev) => ({ ...prev, refillPackSize: event.target.value }))} />\n          </div>\n          <div className=\"space-y-2\">\n            <Label>Low stock threshold</Label>\n            <Input value={form.lowStockThreshold} onChange={(event) => setForm((prev) => ({ ...prev, lowStockThreshold: event.target.value }))} />\n          </div>\n        </div>\n        <div className=\"flex gap-2\">\n          <Button type=\"submit\" className=\"flex-1 rounded-2xl bg-cyan-500/90 text-slate-950 hover:bg-cyan-400\">\n            Save\n          </Button>\n          <Button type=\"button\" variant=\"ghost\" className=\"flex-1 rounded-2xl\" onClick={onClose}>\n            Cancel\n          </Button>\n        </div>\n      </form>\n    </DialogContent>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3130, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/household/care/RefillDialog.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Button } from \"@/components/ui/button\";\nimport type { Medication } from \"@/lib/household/types\";\n\ninterface RefillDialogProps {\n  medication: Medication | null;\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  onSubmit: (payload: { medId: string; qty: number; pharmacy?: string; pickupDate?: string }) => Promise<void>;\n}\n\nexport function RefillDialog({ medication, open, onOpenChange, onSubmit }: RefillDialogProps) {\n  const [form, setForm] = useState({ qty: medication?.refillPackSize ?? 30, pharmacy: \"\", pickupDate: \"\" });\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-md rounded-3xl border border-slate-800 bg-slate-950\">\n        <DialogHeader>\n          <DialogTitle>Log refill for {medication?.name}</DialogTitle>\n        </DialogHeader>\n        <div className=\"grid gap-4\">\n          <div className=\"space-y-2\">\n            <Label>Quantity</Label>\n            <Input\n              type=\"number\"\n              value={form.qty}\n              onChange={(event) => setForm((prev) => ({ ...prev, qty: Number(event.target.value) }))}\n              min={1}\n            />\n          </div>\n          <div className=\"space-y-2\">\n            <Label>Pharmacy</Label>\n            <Input value={form.pharmacy} onChange={(event) => setForm((prev) => ({ ...prev, pharmacy: event.target.value }))} />\n          </div>\n          <div className=\"space-y-2\">\n            <Label>Pickup date</Label>\n            <Input type=\"date\" value={form.pickupDate} onChange={(event) => setForm((prev) => ({ ...prev, pickupDate: event.target.value }))} />\n          </div>\n          <Button\n            onClick={async () => {\n              if (!medication) return;\n              await onSubmit({ medId: medication.id, qty: form.qty, pharmacy: form.pharmacy, pickupDate: form.pickupDate });\n              onOpenChange(false);\n            }}\n            className=\"rounded-2xl bg-cyan-500/80 text-slate-950 hover:bg-cyan-400\"\n          >\n            Save refill\n          </Button>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAgBO,SAAS,aAAa,EAAE,UAAU,EAAE,IAAI,EAAE,YAAY,EAAE,QAAQ,EAAqB;IAC1F,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;QAAE,KAAK,YAAY,kBAAkB;QAAI,UAAU;QAAI,YAAY;IAAG;IAEvG,qBACE,8OAAC,kIAAA,CAAA,SAAM;QAAC,MAAM;QAAM,cAAc;kBAChC,cAAA,8OAAC,kIAAA,CAAA,gBAAa;YAAC,WAAU;;8BACvB,8OAAC,kIAAA,CAAA,eAAY;8BACX,cAAA,8OAAC,kIAAA,CAAA,cAAW;;4BAAC;4BAAgB,YAAY;;;;;;;;;;;;8BAE3C,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,iIAAA,CAAA,QAAK;8CAAC;;;;;;8CACP,8OAAC,iIAAA,CAAA,QAAK;oCACJ,MAAK;oCACL,OAAO,KAAK,GAAG;oCACf,UAAU,CAAC,QAAU,QAAQ,CAAC,OAAS,CAAC;gDAAE,GAAG,IAAI;gDAAE,KAAK,OAAO,MAAM,MAAM,CAAC,KAAK;4CAAE,CAAC;oCACpF,KAAK;;;;;;;;;;;;sCAGT,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,iIAAA,CAAA,QAAK;8CAAC;;;;;;8CACP,8OAAC,iIAAA,CAAA,QAAK;oCAAC,OAAO,KAAK,QAAQ;oCAAE,UAAU,CAAC,QAAU,QAAQ,CAAC,OAAS,CAAC;gDAAE,GAAG,IAAI;gDAAE,UAAU,MAAM,MAAM,CAAC,KAAK;4CAAC,CAAC;;;;;;;;;;;;sCAEhH,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,iIAAA,CAAA,QAAK;8CAAC;;;;;;8CACP,8OAAC,iIAAA,CAAA,QAAK;oCAAC,MAAK;oCAAO,OAAO,KAAK,UAAU;oCAAE,UAAU,CAAC,QAAU,QAAQ,CAAC,OAAS,CAAC;gDAAE,GAAG,IAAI;gDAAE,YAAY,MAAM,MAAM,CAAC,KAAK;4CAAC,CAAC;;;;;;;;;;;;sCAEhI,8OAAC,kIAAA,CAAA,SAAM;4BACL,SAAS;gCACP,IAAI,CAAC,YAAY;gCACjB,MAAM,SAAS;oCAAE,OAAO,WAAW,EAAE;oCAAE,KAAK,KAAK,GAAG;oCAAE,UAAU,KAAK,QAAQ;oCAAE,YAAY,KAAK,UAAU;gCAAC;gCAC3G,aAAa;4BACf;4BACA,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAOX","debugId":null}},
    {"offset": {"line": 3303, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/household/care/AppointmentList.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { format } from \"date-fns\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Dialog, DialogContent, DialogFooter, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport type { Appointment } from \"@/lib/household/types\";\n\ninterface AppointmentListProps {\n  appointments: Appointment[];\n  careProfileId: string;\n  onCreate: (payload: Partial<Appointment> & { careProfileId: string; title: string; start: string; end: string; location: string }) => Promise<void>;\n  onNudge: (appointment: Appointment) => void;\n}\n\nexport function AppointmentList({ appointments, careProfileId, onCreate, onNudge }: AppointmentListProps) {\n  const [open, setOpen] = useState(false);\n  const upcoming = appointments\n    .filter((appt) => appt.careProfileId === careProfileId)\n    .sort((a, b) => new Date(a.start).getTime() - new Date(b.start).getTime());\n\n  return (\n    <Card className=\"rounded-3xl border border-slate-900/60 bg-slate-950/80\">\n      <CardHeader className=\"flex flex-row items-center justify-between\">\n        <CardTitle className=\"text-sm text-slate-200\">Appointments</CardTitle>\n        <Button variant=\"ghost\" size=\"sm\" className=\"rounded-xl\" onClick={() => setOpen(true)}>\n          Add\n        </Button>\n      </CardHeader>\n      <CardContent className=\"space-y-3 text-sm text-slate-200\">\n        {upcoming.length === 0 ? <p className=\"text-xs text-slate-500\">No appointments yet.</p> : null}\n        {upcoming.map((appointment) => (\n          <div key={appointment.id} className=\"flex items-center justify-between rounded-2xl bg-slate-900/60 px-4 py-3\">\n            <div>\n              <p className=\"font-medium text-slate-100\">{appointment.title}</p>\n              <p className=\"text-xs text-slate-400\">\n                {format(new Date(appointment.start), \"MMM d, HH:mm\")} â€¢ {appointment.location}\n              </p>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <Button variant=\"ghost\" size=\"sm\" className=\"rounded-xl text-xs\" onClick={() => onNudge(appointment)}>\n                Nudge 24h\n              </Button>\n            </div>\n          </div>\n        ))}\n      </CardContent>\n      <AppointmentDialog\n        open={open}\n        onOpenChange={setOpen}\n        onSave={async (payload) => {\n          await onCreate({ ...payload, careProfileId });\n          setOpen(false);\n        }}\n      />\n    </Card>\n  );\n}\n\nfunction AppointmentDialog({\n  open,\n  onOpenChange,\n  onSave,\n}: {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  onSave: (payload: { title: string; start: string; end: string; location: string; type?: string; notes?: string }) => Promise<void>;\n}) {\n  const [form, setForm] = useState({ title: \"\", start: \"\", end: \"\", location: \"\", type: \"Checkup\", notes: \"\" });\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-md rounded-3xl border border-slate-800 bg-slate-950\">\n        <DialogHeader>\n          <DialogTitle>Schedule appointment</DialogTitle>\n        </DialogHeader>\n        <div className=\"space-y-3\">\n          <div className=\"space-y-2\">\n            <Label>Title</Label>\n            <Input value={form.title} onChange={(event) => setForm((prev) => ({ ...prev, title: event.target.value }))} />\n          </div>\n          <div className=\"grid gap-2 md:grid-cols-2\">\n            <div className=\"space-y-2\">\n              <Label>Start</Label>\n              <Input type=\"datetime-local\" value={form.start} onChange={(event) => setForm((prev) => ({ ...prev, start: event.target.value }))} />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>End</Label>\n              <Input type=\"datetime-local\" value={form.end} onChange={(event) => setForm((prev) => ({ ...prev, end: event.target.value }))} />\n            </div>\n          </div>\n          <div className=\"space-y-2\">\n            <Label>Location</Label>\n            <Input value={form.location} onChange={(event) => setForm((prev) => ({ ...prev, location: event.target.value }))} />\n          </div>\n          <div className=\"space-y-2\">\n            <Label>Notes</Label>\n            <Textarea rows={3} value={form.notes} onChange={(event) => setForm((prev) => ({ ...prev, notes: event.target.value }))} />\n          </div>\n        </div>\n        <DialogFooter>\n          <Button\n            onClick={async () => {\n              await onSave(form);\n              setForm({ title: \"\", start: \"\", end: \"\", location: \"\", type: \"Checkup\", notes: \"\" });\n            }}\n            className=\"rounded-2xl bg-cyan-500/80 text-slate-950 hover:bg-cyan-400\"\n          >\n            Save\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3680, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/household/care/EmergencyCard.tsx"],"sourcesContent":["\"use client\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\n\ninterface EmergencyCardProps {\n  profileName: string;\n  emergencyContact?: string;\n  onShare: () => void;\n}\n\nexport function EmergencyCard({ profileName, emergencyContact, onShare }: EmergencyCardProps) {\n  return (\n    <Card className=\"rounded-3xl border border-rose-500/40 bg-rose-500/10\">\n      <CardHeader>\n        <CardTitle className=\"text-sm text-rose-200\">Emergency card</CardTitle>\n      </CardHeader>\n      <CardContent className=\"space-y-3 text-sm text-rose-100\">\n        <p>\n          Downloadable PDF with conditions, allergies, meds, and contacts for <span className=\"font-semibold\">{profileName}</span>.\n        </p>\n        <p className=\"text-xs text-rose-200/80\">Emergency contact: {emergencyContact ?? \"Not set\"}</p>\n        <Button variant=\"secondary\" className=\"rounded-2xl bg-rose-500/40 text-rose-50 hover:bg-rose-500/60\" onClick={onShare}>\n          Share via WhatsApp\n        </Button>\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAWO,SAAS,cAAc,EAAE,WAAW,EAAE,gBAAgB,EAAE,OAAO,EAAsB;IAC1F,qBACE,8OAAC,gIAAA,CAAA,OAAI;QAAC,WAAU;;0BACd,8OAAC,gIAAA,CAAA,aAAU;0BACT,cAAA,8OAAC,gIAAA,CAAA,YAAS;oBAAC,WAAU;8BAAwB;;;;;;;;;;;0BAE/C,8OAAC,gIAAA,CAAA,cAAW;gBAAC,WAAU;;kCACrB,8OAAC;;4BAAE;0CACmE,8OAAC;gCAAK,WAAU;0CAAiB;;;;;;4BAAmB;;;;;;;kCAE1H,8OAAC;wBAAE,WAAU;;4BAA2B;4BAAoB,oBAAoB;;;;;;;kCAChF,8OAAC,kIAAA,CAAA,SAAM;wBAAC,SAAQ;wBAAY,WAAU;wBAA+D,SAAS;kCAAS;;;;;;;;;;;;;;;;;;AAM/H","debugId":null}},
    {"offset": {"line": 3769, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/household/care/CareProfiles.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\nimport { format } from \"date-fns\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useHousehold } from \"@/lib/household/useHousehold\";\nimport type { CareProfile, Medication, Member } from \"@/lib/household/types\";\nimport { MedicationCard } from \"./MedicationCard\";\nimport { MedicationEditor } from \"./MedicationEditor\";\nimport { RefillDialog } from \"./RefillDialog\";\nimport { AppointmentList } from \"./AppointmentList\";\nimport { EmergencyCard } from \"./EmergencyCard\";\nimport { NudgeDialog } from \"../NudgeDialog\";\n\nexport function CareProfiles() {\n  const {\n    careProfiles,\n    medications,\n    doses,\n    appointments,\n    members,\n    careKpis,\n    logDose,\n    snoozeDose,\n    skipDose,\n    refillMedication,\n    upsertMedication,\n    addAppointment,\n  } = useHousehold();\n  const { toast } = useToast();\n\n  const [editing, setEditing] = useState<{ careProfile: CareProfile; medication?: Medication | null } | null>(null);\n  const [refillMed, setRefillMed] = useState<Medication | null>(null);\n  const [nudgeTarget, setNudgeTarget] = useState<Member | null>(null);\n\n  useEffect(() => {\n    const handleAdd = () => {\n      if (careProfiles[0]) {\n        setEditing({ careProfile: careProfiles[0], medication: null });\n      }\n    };\n    const handleNudge = () => {\n      if (careProfiles[0]) {\n        const member = members.find((mem) => mem.id === careProfiles[0].memberId);\n        if (member) {\n          setNudgeTarget(member);\n        }\n      }\n    };\n    window.addEventListener(\"household:add-medication\", handleAdd);\n    window.addEventListener(\"household:nudge-care\", handleNudge);\n    return () => {\n      window.removeEventListener(\"household:add-medication\", handleAdd);\n      window.removeEventListener(\"household:nudge-care\", handleNudge);\n    };\n  }, [careProfiles, members]);\n\n  const medsByProfile = useMemo(() => {\n    const map = new Map<string, Medication[]>();\n    medications.forEach((med) => {\n      const list = map.get(med.careProfileId) ?? [];\n      list.push(med);\n      map.set(med.careProfileId, list);\n    });\n    return map;\n  }, [medications]);\n\n  return (\n    <div className=\"space-y-6\">\n      <KpiRow\n        adherence={careKpis.adherence30d}\n        onHandDays={careKpis.onHandDays}\n        nextRefill={careKpis.nextRefillDate ? format(new Date(careKpis.nextRefillDate), \"MMM d\") : \"â€”\"}\n        nextAppointment={careKpis.nextAppointmentDate ? format(new Date(careKpis.nextAppointmentDate), \"MMM d\") : \"â€”\"}\n      />\n\n      <div className=\"space-y-6\">\n        {careProfiles.map((profile) => {\n          const member = members.find((mem) => mem.id === profile.memberId);\n          const meds = medsByProfile.get(profile.id) ?? [];\n          return (\n            <Card key={profile.id} className=\"rounded-3xl border border-slate-900/60 bg-slate-950/80\">\n              <CardHeader className=\"flex flex-col gap-2 md:flex-row md:items-center md:justify-between\">\n                <div>\n                  <CardTitle className=\"text-xl text-slate-50\">{profile.name}</CardTitle>\n                  <p className=\"text-xs text-slate-400\">{member ? `Linked to ${member.name}` : \"Standalone profile\"}</p>\n                </div>\n                <div className=\"flex flex-wrap items-center gap-2\">\n                  <Badge variant=\"outline\" className=\"rounded-xl border-slate-700 text-xs text-slate-300\">\n                    {profile.flags?.phi ? \"PHI Locked\" : \"General\"}\n                  </Badge>\n                  <Button variant=\"ghost\" className=\"rounded-xl text-xs\" onClick={() => setEditing({ careProfile: profile, medication: null })}>\n                    Add medication\n                  </Button>\n                </div>\n              </CardHeader>\n              <CardContent className=\"space-y-6\">\n                <div className=\"grid gap-4 lg:grid-cols-[2fr_1fr]\">\n                  <div className=\"space-y-4\">\n                    {meds.length === 0 ? <p className=\"text-sm text-slate-500\">No medications yet.</p> : null}\n                    {meds.map((medication) => (\n                      <MedicationCard\n                        key={medication.id}\n                        medication={medication}\n                        doses={doses}\n                        onTaken={async () => {\n                          await logDose({ medId: medication.id, status: \"taken\" });\n                          toast({ title: \"Dose logged\", description: `${medication.name} taken` });\n                        }}\n                        onSnooze={async () => {\n                          await snoozeDose({ medId: medication.id, minutes: 15 });\n                          toast({ title: \"Snoozed\", description: \"Will remind again in 15 minutes\" });\n                        }}\n                        onSkip={async () => {\n                          const reason = typeof window !== \"undefined\" ? window.prompt(\"Reason for skipping?\") ?? undefined : undefined;\n                          await skipDose({ medId: medication.id, reason });\n                          toast({ title: \"Marked skipped\", description: reason ?? \"No reason provided\" });\n                          if (reason && reason.toLowerCase().includes(\"stock\")) {\n                            setRefillMed(medication);\n                          }\n                        }}\n                        onRefill={() => setRefillMed(medication)}\n                        onEdit={() => setEditing({ careProfile: profile, medication })}\n                        onNudge={() => member && setNudgeTarget(member)}\n                      />\n                    ))}\n                  </div>\n                  <div className=\"space-y-4\">\n                    <AppointmentList\n                      appointments={appointments}\n                      careProfileId={profile.id}\n                      onCreate={async (payload) => {\n                        await addAppointment(payload);\n                        toast({ title: \"Appointment added\", description: payload.title });\n                      }}\n                      onNudge={(appointment) => member && setNudgeTarget(member)}\n                    />\n                    <EmergencyCard\n                      profileName={profile.name}\n                      emergencyContact={member?.phone}\n                      onShare={() => member && setNudgeTarget(member)}\n                    />\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          );\n        })}\n      </div>\n\n      {editing ? (\n        <MedicationEditor\n          careProfileId={editing.careProfile.id}\n          medication={editing.medication}\n          onSubmit={async (payload) => {\n            await upsertMedication({ ...payload, careProfileId: editing.careProfile.id });\n            toast({ title: editing.medication ? \"Medication updated\" : \"Medication added\", description: payload.name });\n          }}\n          onClose={() => setEditing(null)}\n        />\n      ) : null}\n\n      <RefillDialog\n        medication={refillMed}\n        open={!!refillMed}\n        onOpenChange={(value) => !value && setRefillMed(null)}\n        onSubmit={async (payload) => {\n          await refillMedication(payload);\n          toast({ title: \"Refill logged\", description: `${payload.qty} pills added` });\n        }}\n      />\n\n      <NudgeDialog member={nudgeTarget} open={!!nudgeTarget} onOpenChange={(value) => !value && setNudgeTarget(null)} />\n    </div>\n  );\n}\n\nfunction KpiRow({ adherence, onHandDays, nextRefill, nextAppointment }: { adherence: number; onHandDays: number; nextRefill: string; nextAppointment: string }) {\n  const items = [\n    { label: \"Adherence 30d\", value: `${adherence}%`, tone: \"text-emerald-300\" },\n    { label: \"On-hand days\", value: onHandDays.toString(), tone: \"text-cyan-300\" },\n    { label: \"Next refill\", value: nextRefill, tone: \"text-amber-300\" },\n    { label: \"Next appointment\", value: nextAppointment, tone: \"text-slate-200\" },\n  ];\n  return (\n    <div className=\"grid gap-3 md:grid-cols-4\">\n      {items.map((item) => (\n        <Card key={item.label} className=\"rounded-3xl border border-slate-900/60 bg-slate-950/80\">\n          <CardContent className=\"space-y-2 p-4\">\n            <p className=\"text-xs uppercase tracking-widest text-slate-500\">{item.label}</p>\n            <p className={`text-2xl font-semibold ${item.tone}`}>{item.value}</p>\n          </CardContent>\n        </Card>\n      ))}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4177, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/table.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n"],"names":[],"mappings":";;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YACC,KAAK;YACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;AAIf,MAAM,WAAW,GAAG;AAEpB,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAM,KAAK;QAAK,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,mBAAmB;QAAa,GAAG,KAAK;;;;;;AAEzE,YAAY,WAAW,GAAG;AAE1B,MAAM,0BAAY,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,2DACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG;AAE1B,MAAM,yBAAW,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG9B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,+EACA;QAED,GAAG,KAAK;;;;;;AAGb,SAAS,WAAW,GAAG;AAEvB,MAAM,0BAAY,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,oGACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,0BAAY,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,kDAAkD;QAC/D,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,6BAAe,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 4287, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/household/assets/AssetEditor.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Button } from \"@/components/ui/button\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport type { Asset } from \"@/lib/household/types\";\n\ninterface AssetEditorProps {\n  asset?: Asset | null;\n  onSubmit: (payload: Partial<Asset> & { name: string; category: Asset[\"category\"]; condition: Asset[\"condition\"] }) => Promise<void>;\n  onClose: () => void;\n}\n\nexport function AssetEditor({ asset, onSubmit, onClose }: AssetEditorProps) {\n  const [form, setForm] = useState({\n    name: asset?.name ?? \"\",\n    category: asset?.category ?? \"appliance\",\n    condition: asset?.condition ?? \"good\",\n    purchaseDate: asset?.purchaseDate?.slice(0, 10) ?? \"\",\n    purchasePrice: asset?.purchasePrice?.toString() ?? \"\",\n    serial: asset?.serial ?? \"\",\n  });\n\n  return (\n    <DialogContent className=\"max-w-lg rounded-3xl border border-slate-800 bg-slate-950\">\n      <DialogHeader>\n        <DialogTitle>{asset ? \"Edit asset\" : \"Add asset\"}</DialogTitle>\n      </DialogHeader>\n      <form\n        className=\"grid gap-4\"\n        onSubmit={async (event) => {\n          event.preventDefault();\n          await onSubmit({\n            id: asset?.id,\n            name: form.name,\n            category: form.category as Asset[\"category\"],\n            condition: form.condition as Asset[\"condition\"],\n            purchaseDate: form.purchaseDate ? new Date(form.purchaseDate).toISOString() : undefined,\n            purchasePrice: form.purchasePrice ? Number(form.purchasePrice) : undefined,\n            serial: form.serial,\n          });\n          onClose();\n        }}\n      >\n        <div className=\"space-y-2\">\n          <Label>Name</Label>\n          <Input value={form.name} onChange={(event) => setForm((prev) => ({ ...prev, name: event.target.value }))} required />\n        </div>\n        <div className=\"grid gap-4 md:grid-cols-2\">\n          <div className=\"space-y-2\">\n            <Label>Category</Label>\n            <Select value={form.category} onValueChange={(value) => setForm((prev) => ({ ...prev, category: value }))}>\n              <SelectTrigger>\n                <SelectValue placeholder=\"Select category\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"appliance\">Appliance</SelectItem>\n                <SelectItem value=\"furniture\">Furniture</SelectItem>\n                <SelectItem value=\"vehicle\">Vehicle</SelectItem>\n                <SelectItem value=\"electronics\">Electronics</SelectItem>\n                <SelectItem value=\"tool\">Tool</SelectItem>\n                <SelectItem value=\"other\">Other</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n          <div className=\"space-y-2\">\n            <Label>Condition</Label>\n            <Select value={form.condition} onValueChange={(value) => setForm((prev) => ({ ...prev, condition: value }))}>\n              <SelectTrigger>\n                <SelectValue placeholder=\"Condition\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"new\">New</SelectItem>\n                <SelectItem value=\"good\">Good</SelectItem>\n                <SelectItem value=\"fair\">Fair</SelectItem>\n                <SelectItem value=\"poor\">Poor</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n        </div>\n        <div className=\"grid gap-4 md:grid-cols-2\">\n          <div className=\"space-y-2\">\n            <Label>Purchase date</Label>\n            <Input type=\"date\" value={form.purchaseDate} onChange={(event) => setForm((prev) => ({ ...prev, purchaseDate: event.target.value }))} />\n          </div>\n          <div className=\"space-y-2\">\n            <Label>Price</Label>\n            <Input value={form.purchasePrice} onChange={(event) => setForm((prev) => ({ ...prev, purchasePrice: event.target.value }))} />\n          </div>\n        </div>\n        <div className=\"space-y-2\">\n          <Label>Serial</Label>\n          <Input value={form.serial} onChange={(event) => setForm((prev) => ({ ...prev, serial: event.target.value }))} />\n        </div>\n        <div className=\"flex gap-2\">\n          <Button type=\"submit\" className=\"flex-1 rounded-2xl bg-cyan-500/80 text-slate-950 hover:bg-cyan-400\">\n            Save\n          </Button>\n          <Button type=\"button\" variant=\"ghost\" className=\"flex-1 rounded-2xl\" onClick={onClose}>\n            Cancel\n          </Button>\n        </div>\n      </form>\n    </DialogContent>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4702, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/household/assets/WarrantyDialog.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { Label } from \"@/components/ui/label\";\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\nimport type { Asset } from \"@/lib/household/types\";\n\ninterface WarrantyDialogProps {\n  asset: Asset | null;\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  onSave: (payload: { assetId: string; warrantyEnd: string; reminderDays?: number[] }) => Promise<void>;\n}\n\nexport function WarrantyDialog({ asset, open, onOpenChange, onSave }: WarrantyDialogProps) {\n  const [form, setForm] = useState({ date: asset?.warrantyEnd?.slice(0, 10) ?? \"\", reminders: \"30\" });\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-md rounded-3xl border border-slate-800 bg-slate-950\">\n        <DialogHeader>\n          <DialogTitle>Warranty for {asset?.name}</DialogTitle>\n        </DialogHeader>\n        <div className=\"space-y-3\">\n          <div className=\"space-y-2\">\n            <Label>Warranty end</Label>\n            <Input type=\"date\" value={form.date} onChange={(event) => setForm((prev) => ({ ...prev, date: event.target.value }))} />\n          </div>\n          <div className=\"space-y-2\">\n            <Label>Reminder days (comma separated)</Label>\n            <Input value={form.reminders} onChange={(event) => setForm((prev) => ({ ...prev, reminders: event.target.value }))} />\n          </div>\n          <Button\n            onClick={async () => {\n              if (!asset) return;\n              const reminderDays = form.reminders\n                .split(\",\")\n                .map((value) => Number(value.trim()))\n                .filter((value) => !Number.isNaN(value));\n              await onSave({ assetId: asset.id, warrantyEnd: new Date(form.date).toISOString(), reminderDays });\n              onOpenChange(false);\n            }}\n            className=\"rounded-2xl bg-cyan-500/80 text-slate-950 hover:bg-cyan-400\"\n          >\n            Save warranty\n          </Button>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAgBO,SAAS,eAAe,EAAE,KAAK,EAAE,IAAI,EAAE,YAAY,EAAE,MAAM,EAAuB;IACvF,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;QAAE,MAAM,OAAO,aAAa,MAAM,GAAG,OAAO;QAAI,WAAW;IAAK;IAEjG,qBACE,8OAAC,kIAAA,CAAA,SAAM;QAAC,MAAM;QAAM,cAAc;kBAChC,cAAA,8OAAC,kIAAA,CAAA,gBAAa;YAAC,WAAU;;8BACvB,8OAAC,kIAAA,CAAA,eAAY;8BACX,cAAA,8OAAC,kIAAA,CAAA,cAAW;;4BAAC;4BAAc,OAAO;;;;;;;;;;;;8BAEpC,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,iIAAA,CAAA,QAAK;8CAAC;;;;;;8CACP,8OAAC,iIAAA,CAAA,QAAK;oCAAC,MAAK;oCAAO,OAAO,KAAK,IAAI;oCAAE,UAAU,CAAC,QAAU,QAAQ,CAAC,OAAS,CAAC;gDAAE,GAAG,IAAI;gDAAE,MAAM,MAAM,MAAM,CAAC,KAAK;4CAAC,CAAC;;;;;;;;;;;;sCAEpH,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,iIAAA,CAAA,QAAK;8CAAC;;;;;;8CACP,8OAAC,iIAAA,CAAA,QAAK;oCAAC,OAAO,KAAK,SAAS;oCAAE,UAAU,CAAC,QAAU,QAAQ,CAAC,OAAS,CAAC;gDAAE,GAAG,IAAI;gDAAE,WAAW,MAAM,MAAM,CAAC,KAAK;4CAAC,CAAC;;;;;;;;;;;;sCAElH,8OAAC,kIAAA,CAAA,SAAM;4BACL,SAAS;gCACP,IAAI,CAAC,OAAO;gCACZ,MAAM,eAAe,KAAK,SAAS,CAChC,KAAK,CAAC,KACN,GAAG,CAAC,CAAC,QAAU,OAAO,MAAM,IAAI,KAChC,MAAM,CAAC,CAAC,QAAU,CAAC,OAAO,KAAK,CAAC;gCACnC,MAAM,OAAO;oCAAE,SAAS,MAAM,EAAE;oCAAE,aAAa,IAAI,KAAK,KAAK,IAAI,EAAE,WAAW;oCAAI;gCAAa;gCAC/F,aAAa;4BACf;4BACA,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAOX","debugId":null}},
    {"offset": {"line": 4845, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/household/assets/MaintenanceScheduleDrawer.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { Sheet, SheetContent, SheetHeader, SheetTitle } from \"@/components/ui/sheet\";\nimport { Label } from \"@/components/ui/label\";\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\nimport type { Asset } from \"@/lib/household/types\";\n\ninterface MaintenanceScheduleDrawerProps {\n  asset: Asset | null;\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  onSave: (payload: { assetId: string; next: string; cadenceDays?: number }) => Promise<void>;\n  onMarkServiced: (payload: { assetId: string; note?: string }) => Promise<void>;\n}\n\nexport function MaintenanceScheduleDrawer({ asset, open, onOpenChange, onSave, onMarkServiced }: MaintenanceScheduleDrawerProps) {\n  const [form, setForm] = useState({ next: asset?.maintenance?.next?.slice(0, 10) ?? \"\", cadence: asset?.maintenance?.cadenceDays?.toString() ?? \"90\", note: \"\" });\n\n  return (\n    <Sheet open={open} onOpenChange={onOpenChange}>\n      <SheetContent side=\"right\" className=\"w-full max-w-md border-l border-slate-800 bg-slate-950 text-slate-100\">\n        <SheetHeader>\n          <SheetTitle>Maintenance for {asset?.name}</SheetTitle>\n        </SheetHeader>\n        <div className=\"mt-6 space-y-4\">\n          <div className=\"space-y-2\">\n            <Label>Next service</Label>\n            <Input type=\"date\" value={form.next} onChange={(event) => setForm((prev) => ({ ...prev, next: event.target.value }))} />\n          </div>\n          <div className=\"space-y-2\">\n            <Label>Cadence (days)</Label>\n            <Input value={form.cadence} onChange={(event) => setForm((prev) => ({ ...prev, cadence: event.target.value }))} />\n          </div>\n          <div className=\"space-y-2\">\n            <Label>Note</Label>\n            <Input value={form.note} onChange={(event) => setForm((prev) => ({ ...prev, note: event.target.value }))} placeholder=\"Filter change, tune-up, etc.\" />\n          </div>\n          <div className=\"grid gap-2\">\n            <Button\n              onClick={async () => {\n                if (!asset) return;\n                await onSave({ assetId: asset.id, next: new Date(form.next).toISOString(), cadenceDays: Number(form.cadence) });\n                onOpenChange(false);\n              }}\n              className=\"rounded-2xl bg-cyan-500/80 text-slate-950 hover:bg-cyan-400\"\n            >\n              Save schedule\n            </Button>\n            <Button\n              variant=\"secondary\"\n              className=\"rounded-2xl\"\n              onClick={async () => {\n                if (!asset) return;\n                await onMarkServiced({ assetId: asset.id, note: form.note });\n                onOpenChange(false);\n              }}\n            >\n              Mark serviced today\n            </Button>\n          </div>\n          {asset?.maintenance?.history?.length ? (\n            <div className=\"space-y-2 rounded-2xl bg-slate-900/60 p-3 text-xs text-slate-400\">\n              <p className=\"font-medium text-slate-200\">History</p>\n              {asset.maintenance.history.map((entry, index) => (\n                <div key={index} className=\"flex justify-between\">\n                  <span>{new Date(entry.performedAt).toLocaleDateString()}</span>\n                  <span>{entry.note ?? \"Serviced\"}</span>\n                </div>\n              ))}\n            </div>\n          ) : null}\n        </div>\n      </SheetContent>\n    </Sheet>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAiBO,SAAS,0BAA0B,EAAE,KAAK,EAAE,IAAI,EAAE,YAAY,EAAE,MAAM,EAAE,cAAc,EAAkC;IAC7H,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;QAAE,MAAM,OAAO,aAAa,MAAM,MAAM,GAAG,OAAO;QAAI,SAAS,OAAO,aAAa,aAAa,cAAc;QAAM,MAAM;IAAG;IAE9J,qBACE,8OAAC,iIAAA,CAAA,QAAK;QAAC,MAAM;QAAM,cAAc;kBAC/B,cAAA,8OAAC,iIAAA,CAAA,eAAY;YAAC,MAAK;YAAQ,WAAU;;8BACnC,8OAAC,iIAAA,CAAA,cAAW;8BACV,cAAA,8OAAC,iIAAA,CAAA,aAAU;;4BAAC;4BAAiB,OAAO;;;;;;;;;;;;8BAEtC,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,iIAAA,CAAA,QAAK;8CAAC;;;;;;8CACP,8OAAC,iIAAA,CAAA,QAAK;oCAAC,MAAK;oCAAO,OAAO,KAAK,IAAI;oCAAE,UAAU,CAAC,QAAU,QAAQ,CAAC,OAAS,CAAC;gDAAE,GAAG,IAAI;gDAAE,MAAM,MAAM,MAAM,CAAC,KAAK;4CAAC,CAAC;;;;;;;;;;;;sCAEpH,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,iIAAA,CAAA,QAAK;8CAAC;;;;;;8CACP,8OAAC,iIAAA,CAAA,QAAK;oCAAC,OAAO,KAAK,OAAO;oCAAE,UAAU,CAAC,QAAU,QAAQ,CAAC,OAAS,CAAC;gDAAE,GAAG,IAAI;gDAAE,SAAS,MAAM,MAAM,CAAC,KAAK;4CAAC,CAAC;;;;;;;;;;;;sCAE9G,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,iIAAA,CAAA,QAAK;8CAAC;;;;;;8CACP,8OAAC,iIAAA,CAAA,QAAK;oCAAC,OAAO,KAAK,IAAI;oCAAE,UAAU,CAAC,QAAU,QAAQ,CAAC,OAAS,CAAC;gDAAE,GAAG,IAAI;gDAAE,MAAM,MAAM,MAAM,CAAC,KAAK;4CAAC,CAAC;oCAAI,aAAY;;;;;;;;;;;;sCAExH,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,kIAAA,CAAA,SAAM;oCACL,SAAS;wCACP,IAAI,CAAC,OAAO;wCACZ,MAAM,OAAO;4CAAE,SAAS,MAAM,EAAE;4CAAE,MAAM,IAAI,KAAK,KAAK,IAAI,EAAE,WAAW;4CAAI,aAAa,OAAO,KAAK,OAAO;wCAAE;wCAC7G,aAAa;oCACf;oCACA,WAAU;8CACX;;;;;;8CAGD,8OAAC,kIAAA,CAAA,SAAM;oCACL,SAAQ;oCACR,WAAU;oCACV,SAAS;wCACP,IAAI,CAAC,OAAO;wCACZ,MAAM,eAAe;4CAAE,SAAS,MAAM,EAAE;4CAAE,MAAM,KAAK,IAAI;wCAAC;wCAC1D,aAAa;oCACf;8CACD;;;;;;;;;;;;wBAIF,OAAO,aAAa,SAAS,uBAC5B,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAE,WAAU;8CAA6B;;;;;;gCACzC,MAAM,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,OAAO,sBACrC,8OAAC;wCAAgB,WAAU;;0DACzB,8OAAC;0DAAM,IAAI,KAAK,MAAM,WAAW,EAAE,kBAAkB;;;;;;0DACrD,8OAAC;0DAAM,MAAM,IAAI,IAAI;;;;;;;uCAFb;;;;;;;;;;mCAMZ;;;;;;;;;;;;;;;;;;AAKd","debugId":null}},
    {"offset": {"line": 5083, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/household/assets/AssetsTable.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\nimport { formatDistanceToNow } from \"date-fns\";\nimport { Button } from \"@/components/ui/button\";\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useHousehold } from \"@/lib/household/useHousehold\";\nimport type { Asset, Member } from \"@/lib/household/types\";\nimport { AssetEditor } from \"./AssetEditor\";\nimport { WarrantyDialog } from \"./WarrantyDialog\";\nimport { MaintenanceScheduleDrawer } from \"./MaintenanceScheduleDrawer\";\nimport { NudgeDialog } from \"../NudgeDialog\";\n\nexport function AssetsTable() {\n  const {\n    assets,\n    members,\n    addAsset,\n    setAssetWarranty,\n    scheduleAssetMaintenance,\n    markAssetServiced,\n  } = useHousehold();\n  const { toast } = useToast();\n\n  const [editorOpen, setEditorOpen] = useState(false);\n  const [editingAsset, setEditingAsset] = useState<Asset | null>(null);\n  const [detailsAsset, setDetailsAsset] = useState<Asset | null>(null);\n  const [warrantyAsset, setWarrantyAsset] = useState<Asset | null>(null);\n  const [maintenanceAsset, setMaintenanceAsset] = useState<Asset | null>(null);\n  const [nudgeMember, setNudgeMember] = useState<Member | null>(null);\n\n  const sortedAssets = useMemo(() => [...assets].sort((a, b) => a.name.localeCompare(b.name)), [assets]);\n\n  useEffect(() => {\n    const handleAdd = () => {\n      setEditingAsset(null);\n      setEditorOpen(true);\n    };\n    window.addEventListener(\"household:add-asset\", handleAdd);\n    return () => window.removeEventListener(\"household:add-asset\", handleAdd);\n  }, []);\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex flex-wrap items-center justify-between gap-2\">\n        <div>\n          <p className=\"text-lg font-semibold text-slate-100\">Assets & equipment</p>\n          <p className=\"text-sm text-slate-400\">Track warranties, receipts, and upkeep without leaving the page.</p>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <Button variant=\"outline\" className=\"rounded-2xl border-slate-700\" onClick={() => setEditorOpen(true)}>\n            Add asset\n          </Button>\n          <Button variant=\"ghost\" className=\"rounded-2xl text-xs uppercase tracking-widest text-slate-400\">\n            Bulk actions\n          </Button>\n          <Button variant=\"ghost\" className=\"rounded-2xl text-xs uppercase tracking-widest text-slate-400\">\n            Filters\n          </Button>\n        </div>\n      </div>\n      <div className=\"overflow-hidden rounded-3xl border border-slate-900/60 bg-slate-950/80\">\n        <Table>\n          <TableHeader>\n            <TableRow className=\"border-slate-800\">\n              <TableHead>Name</TableHead>\n              <TableHead>Category</TableHead>\n              <TableHead>Condition</TableHead>\n              <TableHead>Warranty</TableHead>\n              <TableHead>Next maintenance</TableHead>\n              <TableHead className=\"text-right\">Actions</TableHead>\n            </TableRow>\n          </TableHeader>\n          <TableBody>\n            {sortedAssets.map((asset) => (\n              <TableRow key={asset.id} className=\"border-slate-900/50\">\n                <TableCell className=\"font-medium text-slate-100\">{asset.name}</TableCell>\n                <TableCell className=\"text-slate-400\">{asset.category}</TableCell>\n                <TableCell>\n                  <Badge variant=\"secondary\" className=\"rounded-xl bg-slate-800/60 capitalize text-xs text-slate-200\">\n                    {asset.condition}\n                  </Badge>\n                </TableCell>\n                <TableCell className=\"text-slate-400\">\n                  {asset.warrantyEnd ? `Exp. ${new Date(asset.warrantyEnd).toLocaleDateString()}` : \"Add\"}\n                </TableCell>\n                <TableCell className=\"text-slate-400\">\n                  {asset.maintenance?.next\n                    ? formatDistanceToNow(new Date(asset.maintenance.next), { addSuffix: true })\n                    : \"Schedule\"}\n                </TableCell>\n                <TableCell className=\"space-x-2 text-right\">\n                  <Button variant=\"ghost\" size=\"sm\" className=\"rounded-xl\" onClick={() => setDetailsAsset(asset)}>\n                    Open\n                  </Button>\n                  <Button variant=\"ghost\" size=\"sm\" className=\"rounded-xl\" onClick={() => setWarrantyAsset(asset)}>\n                    Warranty\n                  </Button>\n                  <Button variant=\"ghost\" size=\"sm\" className=\"rounded-xl\" onClick={() => setMaintenanceAsset(asset)}>\n                    Maintenance\n                  </Button>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    className=\"rounded-xl\"\n                    onClick={() => setNudgeMember(members[0] ?? null)}\n                  >\n                    Nudge\n                  </Button>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </div>\n\n      {(editorOpen || editingAsset) && (\n        <AssetEditor\n          asset={editingAsset}\n          onSubmit={async (payload) => {\n            await addAsset(payload);\n            toast({ title: editingAsset ? \"Asset updated\" : \"Asset added\", description: payload.name });\n            setEditingAsset(null);\n            setEditorOpen(false);\n          }}\n          onClose={() => {\n            setEditingAsset(null);\n            setEditorOpen(false);\n          }}\n        />\n      )}\n\n      <WarrantyDialog\n        asset={warrantyAsset}\n        open={!!warrantyAsset}\n        onOpenChange={(value) => !value && setWarrantyAsset(null)}\n        onSave={async (payload) => {\n          await setAssetWarranty(payload.assetId, payload.warrantyEnd, payload.reminderDays);\n          toast({ title: \"Warranty updated\", description: warrantyAsset?.name });\n        }}\n      />\n\n      <MaintenanceScheduleDrawer\n        asset={maintenanceAsset}\n        open={!!maintenanceAsset}\n        onOpenChange={(value) => !value && setMaintenanceAsset(null)}\n        onSave={async (payload) => {\n          await scheduleAssetMaintenance(payload);\n          toast({ title: \"Maintenance scheduled\", description: maintenanceAsset?.name });\n        }}\n        onMarkServiced={async (payload) => {\n          await markAssetServiced(payload);\n          toast({ title: \"Marked serviced\", description: maintenanceAsset?.name });\n        }}\n      />\n\n      <Dialog open={!!detailsAsset} onOpenChange={(value) => !value && setDetailsAsset(null)}>\n        <DialogContent className=\"max-w-lg rounded-3xl border border-slate-800 bg-slate-950 text-slate-100\">\n          <DialogHeader>\n            <DialogTitle>{detailsAsset?.name}</DialogTitle>\n          </DialogHeader>\n          {detailsAsset ? (\n            <div className=\"space-y-2 text-sm text-slate-300\">\n              <p>Category: {detailsAsset.category}</p>\n              <p>Condition: {detailsAsset.condition}</p>\n              <p>Purchase: {detailsAsset.purchaseDate ? new Date(detailsAsset.purchaseDate).toLocaleDateString() : \"â€”\"}</p>\n              <p>Serial: {detailsAsset.serial ?? \"â€”\"}</p>\n              <p>Warranty: {detailsAsset.warrantyEnd ? new Date(detailsAsset.warrantyEnd).toLocaleDateString() : \"Not set\"}</p>\n              <p>Maintenance cadence: {detailsAsset.maintenance?.cadenceDays ?? \"â€”\"} days</p>\n            </div>\n          ) : null}\n        </DialogContent>\n      </Dialog>\n\n      <NudgeDialog member={nudgeMember} open={!!nudgeMember} onOpenChange={(value) => !value && setNudgeMember(null)} />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5579, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/household/apartment/TicketEditor.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { DialogContent, DialogFooter, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Button } from \"@/components/ui/button\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport type { Ticket } from \"@/lib/household/types\";\n\ninterface TicketEditorProps {\n  onSubmit: (payload: Partial<Ticket> & { apartmentId: string; title: string; type: Ticket[\"type\"]; severity: Ticket[\"severity\"] }) => Promise<void>;\n  onClose: () => void;\n}\n\nexport function TicketEditor({ onSubmit, onClose }: TicketEditorProps) {\n  const [form, setForm] = useState({\n    title: \"\",\n    type: \"repair\" as Ticket[\"type\"],\n    severity: \"med\" as Ticket[\"severity\"],\n    due: \"\",\n    notes: \"\",\n  });\n\n  return (\n    <DialogContent className=\"max-w-lg rounded-3xl border border-slate-800 bg-slate-950\">\n      <DialogHeader>\n        <DialogTitle>New ticket</DialogTitle>\n      </DialogHeader>\n      <div className=\"space-y-3\">\n        <div className=\"space-y-2\">\n          <Label>Title</Label>\n          <Input value={form.title} onChange={(event) => setForm((prev) => ({ ...prev, title: event.target.value }))} />\n        </div>\n        <div className=\"grid gap-3 md:grid-cols-2\">\n          <div className=\"space-y-2\">\n            <Label>Type</Label>\n            <Select value={form.type} onValueChange={(value: Ticket[\"type\"]) => setForm((prev) => ({ ...prev, type: value }))}>\n              <SelectTrigger>\n                <SelectValue placeholder=\"Type\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"repair\">Repair</SelectItem>\n                <SelectItem value=\"cleaning\">Cleaning</SelectItem>\n                <SelectItem value=\"improvement\">Improvement</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n          <div className=\"space-y-2\">\n            <Label>Severity</Label>\n            <Select value={form.severity} onValueChange={(value: Ticket[\"severity\"]) => setForm((prev) => ({ ...prev, severity: value }))}>\n              <SelectTrigger>\n                <SelectValue placeholder=\"Severity\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"low\">Low</SelectItem>\n                <SelectItem value=\"med\">Medium</SelectItem>\n                <SelectItem value=\"high\">High</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n        </div>\n        <div className=\"space-y-2\">\n          <Label>Due</Label>\n          <Input type=\"date\" value={form.due} onChange={(event) => setForm((prev) => ({ ...prev, due: event.target.value }))} />\n        </div>\n        <div className=\"space-y-2\">\n          <Label>Notes</Label>\n          <Textarea rows={3} value={form.notes} onChange={(event) => setForm((prev) => ({ ...prev, notes: event.target.value }))} />\n        </div>\n      </div>\n      <DialogFooter>\n        <Button\n          onClick={async () => {\n            await onSubmit({\n              apartmentId: \"apt-1\",\n              title: form.title,\n              type: form.type,\n              severity: form.severity,\n              due: form.due ? new Date(form.due).toISOString() : undefined,\n              notes: form.notes,\n            });\n            onClose();\n          }}\n          className=\"rounded-2xl bg-cyan-500/80 text-slate-950 hover:bg-cyan-400\"\n        >\n          Save ticket\n        </Button>\n      </DialogFooter>\n    </DialogContent>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5910, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/household/apartment/MetersCard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo, useState } from \"react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Dialog, DialogContent, DialogFooter, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport type { MeterReading } from \"@/lib/household/types\";\n\ninterface MetersCardProps {\n  type: MeterReading[\"type\"];\n  readings: MeterReading[];\n  onLog: (payload: Omit<MeterReading, \"id\">) => Promise<void>;\n}\n\nexport function MetersCard({ type, readings, onLog }: MetersCardProps) {\n  const [open, setOpen] = useState(false);\n  const [form, setForm] = useState({ reading: \"\", unit: \"kWh\", note: \"\" });\n\n  const latest = useMemo(() => {\n    return readings\n      .filter((reading) => reading.type === type)\n      .sort((a, b) => new Date(b.takenAt).getTime() - new Date(a.takenAt).getTime())[0];\n  }, [readings, type]);\n\n  const history = readings\n    .filter((reading) => reading.type === type)\n    .sort((a, b) => new Date(b.takenAt).getTime() - new Date(a.takenAt).getTime())\n    .slice(0, 5);\n\n  return (\n    <Card className=\"rounded-3xl border border-slate-900/60 bg-slate-950/80\">\n      <CardHeader className=\"flex flex-row items-center justify-between\">\n        <CardTitle className=\"text-sm text-slate-200\">{type.toUpperCase()} meter</CardTitle>\n        <Button variant=\"ghost\" size=\"sm\" className=\"rounded-xl\" onClick={() => setOpen(true)}>\n          Log reading\n        </Button>\n      </CardHeader>\n      <CardContent className=\"space-y-3 text-sm text-slate-300\">\n        <p>Latest: {latest ? `${latest.reading} ${latest.unit}` : \"No readings\"}</p>\n        <div className=\"space-y-1 text-xs text-slate-500\">\n          {history.map((entry) => (\n            <p key={entry.id}>\n              {new Date(entry.takenAt).toLocaleDateString()} â€” {entry.reading} {entry.unit}\n            </p>\n          ))}\n        </div>\n      </CardContent>\n      <Dialog open={open} onOpenChange={setOpen}>\n        <DialogContent className=\"max-w-md rounded-3xl border border-slate-800 bg-slate-950\">\n          <DialogHeader>\n            <DialogTitle>Log {type} reading</DialogTitle>\n          </DialogHeader>\n          <div className=\"space-y-3\">\n            <div className=\"space-y-2\">\n              <Label>Reading</Label>\n              <Input value={form.reading} onChange={(event) => setForm((prev) => ({ ...prev, reading: event.target.value }))} />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Unit</Label>\n              <Input value={form.unit} onChange={(event) => setForm((prev) => ({ ...prev, unit: event.target.value }))} />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Note</Label>\n              <Input value={form.note} onChange={(event) => setForm((prev) => ({ ...prev, note: event.target.value }))} />\n            </div>\n          </div>\n          <DialogFooter>\n            <Button\n              onClick={async () => {\n                await onLog({\n                  apartmentId: \"apt-1\",\n                  type,\n                  reading: Number(form.reading),\n                  unit: form.unit as MeterReading[\"unit\"],\n                  takenAt: new Date().toISOString(),\n                  note: form.note,\n                });\n                setOpen(false);\n                setForm({ reading: \"\", unit: form.unit, note: \"\" });\n              }}\n              className=\"rounded-2xl bg-cyan-500/80 text-slate-950 hover:bg-cyan-400\"\n            >\n              Save reading\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 6182, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/household/apartment/SupplyGauge.tsx"],"sourcesContent":["\"use client\";\n\nimport { ResponsiveContainer, RadialBarChart, RadialBar, PolarAngleAxis } from \"recharts\";\n\ninterface SupplyGaugeProps {\n  label: string;\n  level: number; // 0-100\n  threshold: number;\n}\n\nexport function SupplyGauge({ label, level, threshold }: SupplyGaugeProps) {\n  const color = level <= threshold ? \"#f97316\" : level <= threshold + 15 ? \"#facc15\" : \"#34d399\";\n  const data = [{ name: label, value: level }];\n\n  return (\n    <div className=\"flex flex-col items-center gap-2 rounded-3xl border border-slate-900/60 bg-slate-950/80 p-4 text-slate-200\">\n      <div className=\"h-32 w-32\">\n        <ResponsiveContainer>\n          <RadialBarChart cx=\"50%\" cy=\"50%\" innerRadius=\"60%\" outerRadius=\"100%\" barSize={12} data={data} startAngle={180} endAngle={-180}>\n            <PolarAngleAxis type=\"number\" domain={[0, 100]} tick={false} />\n            <RadialBar background dataKey=\"value\" cornerRadius={10} fill={color} />\n          </RadialBarChart>\n        </ResponsiveContainer>\n      </div>\n      <div className=\"text-center text-sm\">\n        <p className=\"font-medium text-slate-100\">{label}</p>\n        <p className=\"text-xs text-slate-400\">{level}% remaining</p>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AAAA;AAAA;AAAA;AAFA;;;AAUO,SAAS,YAAY,EAAE,KAAK,EAAE,KAAK,EAAE,SAAS,EAAoB;IACvE,MAAM,QAAQ,SAAS,YAAY,YAAY,SAAS,YAAY,KAAK,YAAY;IACrF,MAAM,OAAO;QAAC;YAAE,MAAM;YAAO,OAAO;QAAM;KAAE;IAE5C,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,mKAAA,CAAA,sBAAmB;8BAClB,cAAA,8OAAC,0JAAA,CAAA,iBAAc;wBAAC,IAAG;wBAAM,IAAG;wBAAM,aAAY;wBAAM,aAAY;wBAAO,SAAS;wBAAI,MAAM;wBAAM,YAAY;wBAAK,UAAU,CAAC;;0CAC1H,8OAAC,0JAAA,CAAA,iBAAc;gCAAC,MAAK;gCAAS,QAAQ;oCAAC;oCAAG;iCAAI;gCAAE,MAAM;;;;;;0CACtD,8OAAC,qJAAA,CAAA,YAAS;gCAAC,UAAU;gCAAC,SAAQ;gCAAQ,cAAc;gCAAI,MAAM;;;;;;;;;;;;;;;;;;;;;;0BAIpE,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAE,WAAU;kCAA8B;;;;;;kCAC3C,8OAAC;wBAAE,WAAU;;4BAA0B;4BAAM;;;;;;;;;;;;;;;;;;;AAIrD","debugId":null}},
    {"offset": {"line": 6296, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/household/apartment/ApartmentOverview.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useHousehold } from \"@/lib/household/useHousehold\";\nimport type { MeterReading, Ticket } from \"@/lib/household/types\";\nimport { TicketEditor } from \"./TicketEditor\";\nimport { MetersCard } from \"./MetersCard\";\nimport { SupplyGauge } from \"./SupplyGauge\";\nimport { NudgeDialog } from \"../NudgeDialog\";\n\nconst ticketStatuses: Ticket[\"status\"][] = [\"open\", \"in_progress\", \"closed\"];\n\nexport function ApartmentOverview() {\n  const {\n    tickets,\n    meterReadings,\n    shoppingLists,\n    addMeterReading,\n    upsertTicket,\n    mutateTicketStatus,\n    addShoppingItem,\n    members,\n    setActiveTab,\n  } = useHousehold();\n  const { toast } = useToast();\n\n  const [ticketDialogOpen, setTicketDialogOpen] = useState(false);\n  const [explainMeter, setExplainMeter] = useState<MeterReading | null>(null);\n  const [nudgeMember, setNudgeMember] = useState(members[0] ?? null);\n\n  useEffect(() => {\n    const handleAdd = () => setTicketDialogOpen(true);\n    window.addEventListener(\"household:add-ticket\", handleAdd);\n    return () => window.removeEventListener(\"household:add-ticket\", handleAdd);\n  }, []);\n\n  const groupedTickets = useMemo(() => {\n    const map = new Map<Ticket[\"status\"], Ticket[]>();\n    ticketStatuses.forEach((status) => map.set(status, []));\n    tickets.forEach((ticket) => {\n      map.set(ticket.status, [...(map.get(ticket.status) ?? []), ticket]);\n    });\n    return map;\n  }, [tickets]);\n\n  const gaugeData = shoppingLists[0]?.items.slice(0, 3).map((item, index) => ({\n    label: item.label,\n    level: 100 - index * 25,\n    threshold: 30,\n  })) ?? [\n    { label: \"Detergent\", level: 40, threshold: 30 },\n    { label: \"Paper towels\", level: 60, threshold: 40 },\n    { label: \"Meds stock\", level: 35, threshold: 25 },\n  ];\n\n  const meterTypes: MeterReading[\"type\"][] = [\"power\", \"water\", \"gas\"];\n\n  const anomalies = useMemo(() => {\n    const map = new Map<MeterReading[\"type\"], boolean>();\n    meterTypes.forEach((type) => {\n      const readings = meterReadings.filter((reading) => reading.type === type).sort((a, b) => new Date(b.takenAt).getTime() - new Date(a.takenAt).getTime());\n      if (readings.length >= 2) {\n        const delta = readings[0].reading - readings[1].reading;\n        map.set(type, Math.abs(delta) > readings[1].reading * 0.2);\n      } else {\n        map.set(type, false);\n      }\n    });\n    return map;\n  }, [meterReadings, meterTypes]);\n\n  return (\n    <div className=\"grid gap-6 lg:grid-cols-[2fr_1fr]\">\n      <div className=\"space-y-4\">\n        <Card className=\"rounded-3xl border border-slate-900/60 bg-slate-950/80\">\n          <CardHeader className=\"flex items-center justify-between\">\n            <CardTitle className=\"text-lg text-slate-100\">Maintenance board</CardTitle>\n            <Button variant=\"ghost\" className=\"rounded-xl\" onClick={() => setTicketDialogOpen(true)}>\n              New ticket\n            </Button>\n          </CardHeader>\n          <CardContent className=\"grid gap-4 md:grid-cols-3\">\n            {ticketStatuses.map((status) => {\n              const entries = groupedTickets.get(status) ?? [];\n              return (\n                <div key={status} className=\"space-y-3 rounded-2xl bg-slate-900/50 p-3\">\n                  <p className=\"text-xs uppercase tracking-widest text-slate-500\">{status.replace(\"_\", \" \")}</p>\n                  {entries.length === 0 ? <p className=\"text-xs text-slate-500\">No tickets</p> : null}\n                  {entries.map((ticket) => (\n                    <div key={ticket.id} className=\"space-y-2 rounded-2xl bg-slate-900/80 p-3 text-xs text-slate-300\">\n                      <div className=\"flex items-center justify-between\">\n                        <p className=\"font-medium text-slate-100\">{ticket.title}</p>\n                        <span className=\"rounded-full bg-slate-800 px-2 py-1 text-[10px] uppercase tracking-widest text-slate-400\">\n                          {ticket.severity}\n                        </span>\n                      </div>\n                      <div className=\"flex flex-wrap items-center gap-2\">\n                        <Button\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          className=\"rounded-xl\"\n                          onClick={async () => {\n                            const next = status === \"open\" ? \"in_progress\" : status === \"in_progress\" ? \"closed\" : \"open\";\n                            await mutateTicketStatus({ ticketId: ticket.id, status: next });\n                          }}\n                        >\n                          {status === \"closed\" ? \"Reopen\" : status === \"open\" ? \"Start\" : \"Close\"}\n                        </Button>\n                        <Button variant=\"ghost\" size=\"sm\" className=\"rounded-xl\" onClick={() => setNudgeMember(members[0] ?? null)}>\n                          Nudge\n                        </Button>\n                        <Button\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          className=\"rounded-xl\"\n                          onClick={() => toast({ title: \"Checklist\", description: \"Add checklist coming soon\" })}\n                        >\n                          Add checklist\n                        </Button>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              );\n            })}\n          </CardContent>\n        </Card>\n        <Dialog open={ticketDialogOpen} onOpenChange={setTicketDialogOpen}>\n          <TicketEditor\n            onSubmit={async (payload) => {\n              await upsertTicket(payload);\n              toast({ title: \"Ticket created\", description: payload.title });\n            }}\n            onClose={() => setTicketDialogOpen(false)}\n          />\n        </Dialog>\n\n        <Card className=\"rounded-3xl border border-slate-900/60 bg-slate-950/80\">\n          <CardHeader>\n            <CardTitle className=\"text-lg text-slate-100\">Meters</CardTitle>\n          </CardHeader>\n          <CardContent className=\"grid gap-4 md:grid-cols-3\">\n            {meterTypes.map((type) => (\n              <div key={type} className=\"space-y-3\">\n                <MetersCard\n                  type={type}\n                  readings={meterReadings}\n                  onLog={async (payload) => {\n                    await addMeterReading(payload);\n                    toast({ title: \"Reading logged\", description: `${type} updated` });\n                  }}\n                />\n                {anomalies.get(type) ? (\n                  <Button variant=\"ghost\" size=\"sm\" className=\"w-full rounded-xl text-amber-300\" onClick={() => setExplainMeter(meterReadings.find((reading) => reading.type === type) ?? null)}>\n                    Explain spike\n                  </Button>\n                ) : null}\n              </div>\n            ))}\n          </CardContent>\n        </Card>\n      </div>\n      <div className=\"space-y-4\">\n        <Card className=\"rounded-3xl border border-slate-900/60 bg-slate-950/80\">\n          <CardHeader>\n            <CardTitle className=\"text-lg text-slate-100\">Supplies</CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-3\">\n            <div className=\"grid gap-3\">\n              {gaugeData.map((item) => (\n                <SupplyGauge key={item.label} label={item.label} level={item.level} threshold={item.threshold} />\n              ))}\n            </div>\n            <Button\n              variant=\"outline\"\n              className=\"w-full rounded-2xl border-cyan-600/40 text-cyan-200\"\n              onClick={async () => {\n                const list = shoppingLists[0];\n                if (!list) return;\n                await addShoppingItem({ listId: list.id, label: \"Restock essentials\", priority: \"high\" });\n                toast({\n                  title: \"Added to shopping\",\n                  description: \"Essentials added\",\n                  action: (\n                    <Button\n                      variant=\"link\"\n                      className=\"text-cyan-300\"\n                      onClick={() => {\n                        setActiveTab(\"shopping\");\n                      }}\n                    >\n                      View\n                    </Button>\n                  ),\n                });\n              }}\n            >\n              Add to shopping\n            </Button>\n          </CardContent>\n        </Card>\n      </div>\n\n      <Dialog open={!!explainMeter} onOpenChange={(value) => !value && setExplainMeter(null)}>\n        <DialogContent className=\"max-w-md rounded-3xl border border-slate-800 bg-slate-950 text-slate-100\">\n          <DialogHeader>\n            <DialogTitle>Meter anomaly</DialogTitle>\n            <DialogDescription>\n              We spotted a spike in {explainMeter?.type}. Recent readings shown below with a suggested cause.\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"space-y-2 text-sm text-slate-200\">\n            {meterReadings\n              .filter((entry) => entry.type === explainMeter?.type)\n              .sort((a, b) => new Date(b.takenAt).getTime() - new Date(a.takenAt).getTime())\n              .slice(0, 6)\n              .map((entry) => (\n                <div key={entry.id} className=\"flex justify-between\">\n                  <span>{new Date(entry.takenAt).toLocaleDateString()}</span>\n                  <span>{entry.reading}</span>\n                </div>\n              ))}\n            <p className=\"text-xs text-amber-300\">Suggested cause: unusual HVAC runtime. Consider scheduling a filter change.</p>\n          </div>\n          <DialogFooter>\n            <Button onClick={() => setExplainMeter(null)} className=\"rounded-2xl bg-cyan-500/80 text-slate-950 hover:bg-cyan-400\">\n              Dismiss\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      <NudgeDialog member={nudgeMember} open={!!nudgeMember} onOpenChange={(value) => !value && setNudgeMember(null)} />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 6857, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/checkbox.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,yBAAW,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG9B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,oKAAA,CAAA,OAAsB;QACrB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,kTACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,oKAAA,CAAA,YAA2B;YAC1B,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE;sBAEd,cAAA,8OAAC,oMAAA,CAAA,QAAK;gBAAC,WAAU;;;;;;;;;;;;;;;;AAIvB,SAAS,WAAW,GAAG,oKAAA,CAAA,OAAsB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 6902, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/household/shopping/PriceTargetDialog.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { Label } from \"@/components/ui/label\";\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\n\ninterface PriceTargetDialogProps {\n  itemLabel: string;\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  onSave: (price: number | undefined) => Promise<void>;\n}\n\nexport function PriceTargetDialog({ itemLabel, open, onOpenChange, onSave }: PriceTargetDialogProps) {\n  const [value, setValue] = useState(\"\");\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-sm rounded-3xl border border-slate-800 bg-slate-950\">\n        <DialogHeader>\n          <DialogTitle>Price target for {itemLabel}</DialogTitle>\n        </DialogHeader>\n        <div className=\"space-y-3\">\n          <div className=\"space-y-2\">\n            <Label>Desired price</Label>\n            <Input value={value} onChange={(event) => setValue(event.target.value)} placeholder=\"E.g. 12.50\" />\n          </div>\n          <Button\n            onClick={async () => {\n              const parsed = value ? Number(value) : undefined;\n              await onSave(parsed);\n              onOpenChange(false);\n            }}\n            className=\"rounded-2xl bg-cyan-500/80 text-slate-950 hover:bg-cyan-400\"\n          >\n            Save target\n          </Button>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAeO,SAAS,kBAAkB,EAAE,SAAS,EAAE,IAAI,EAAE,YAAY,EAAE,MAAM,EAA0B;IACjG,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,qBACE,8OAAC,kIAAA,CAAA,SAAM;QAAC,MAAM;QAAM,cAAc;kBAChC,cAAA,8OAAC,kIAAA,CAAA,gBAAa;YAAC,WAAU;;8BACvB,8OAAC,kIAAA,CAAA,eAAY;8BACX,cAAA,8OAAC,kIAAA,CAAA,cAAW;;4BAAC;4BAAkB;;;;;;;;;;;;8BAEjC,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,iIAAA,CAAA,QAAK;8CAAC;;;;;;8CACP,8OAAC,iIAAA,CAAA,QAAK;oCAAC,OAAO;oCAAO,UAAU,CAAC,QAAU,SAAS,MAAM,MAAM,CAAC,KAAK;oCAAG,aAAY;;;;;;;;;;;;sCAEtF,8OAAC,kIAAA,CAAA,SAAM;4BACL,SAAS;gCACP,MAAM,SAAS,QAAQ,OAAO,SAAS;gCACvC,MAAM,OAAO;gCACb,aAAa;4BACf;4BACA,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAOX","debugId":null}},
    {"offset": {"line": 7007, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/household/shopping/ShoppingList.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useMemo, useState } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Badge } from '@/components/ui/badge';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { useToast } from '@/hooks/use-toast';\nimport { useHousehold } from '@/lib/household/useHousehold';\nimport type { ShoppingItem } from '@/lib/household/types';\nimport { PriceTargetDialog } from './PriceTargetDialog';\nimport { NudgeDialog } from '../NudgeDialog';\n\nexport function ShoppingList() {\n  const {\n    shoppingLists,\n    addShoppingItem,\n    toggleShoppingItem,\n    setShoppingPriceTarget,\n    sendShoppingList,\n    members,\n  } = useHousehold();\n  const { toast } = useToast();\n\n  const list = shoppingLists[0];\n  const [form, setForm] = useState({ label: '', qty: '', priority: 'med' as ShoppingItem['priority'], recurring: false });\n  const [priceDialogItem, setPriceDialogItem] = useState<ShoppingItem | null>(null);\n  const [nudgeMember, setNudgeMember] = useState(members[0] ?? null);\n\n  useEffect(() => {\n    const handleAdd = () => {\n      const input = document.getElementById('shopping-add-input');\n      if (input instanceof HTMLInputElement) {\n        input.focus();\n      }\n    };\n    window.addEventListener('household:add-shopping', handleAdd);\n    return () => window.removeEventListener('household:add-shopping', handleAdd);\n  }, []);\n\n  const items = useMemo(() => list?.items ?? [], [list]);\n\n  if (!list) {\n    return (\n      <Card className=\"rounded-3xl border border-slate-900/60 bg-slate-950/80\">\n        <CardHeader>\n          <CardTitle className=\"text-lg text-slate-100\">Shopping list</CardTitle>\n        </CardHeader>\n        <CardContent className=\"text-sm text-slate-400\">No list yet.</CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <Card className=\"rounded-3xl border border-slate-900/60 bg-slate-950/80\">\n        <CardHeader className=\"flex flex-wrap items-center justify-between gap-3\">\n          <div>\n            <CardTitle className=\"text-lg text-slate-100\">{list.name}</CardTitle>\n            <p className=\"text-xs text-slate-500\">Recurring essentials with price targets.</p>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <Button\n              variant=\"outline\"\n              className=\"rounded-2xl border-cyan-600/40 text-cyan-200\"\n              onClick={async () => {\n                if (!members[0]?.phone) return;\n                await sendShoppingList({ listId: list.id, channel: 'whatsapp', to: members[0].phone });\n                toast({ title: 'List sent', description: `Shared with ${members[0].name}` });\n              }}\n            >\n              Send list\n            </Button>\n            <Button variant=\"ghost\" className=\"rounded-2xl text-xs uppercase tracking-widest text-slate-500\" onClick={() => setNudgeMember(members[0] ?? null)}>\n              Promote to task\n            </Button>\n          </div>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <form\n            className=\"grid gap-3 md:grid-cols-4\"\n            onSubmit={async (event) => {\n              event.preventDefault();\n              if (!form.label) return;\n              await addShoppingItem({\n                listId: list.id,\n                label: form.label,\n                qty: form.qty,\n                priority: form.priority,\n                recurring: form.recurring,\n              });\n              setForm({ label: '', qty: '', priority: 'med', recurring: false });\n            }}\n          >\n            <Input\n              id=\"shopping-add-input\"\n              placeholder=\"Item\"\n              value={form.label}\n              onChange={(event) => setForm((prev) => ({ ...prev, label: event.target.value }))}\n              required\n            />\n            <Input placeholder=\"Qty\" value={form.qty} onChange={(event) => setForm((prev) => ({ ...prev, qty: event.target.value }))} />\n            <Input placeholder=\"Priority (low/med/high)\" value={form.priority} onChange={(event) => setForm((prev) => ({ ...prev, priority: event.target.value as ShoppingItem['priority'] }))} />\n            <Button type=\"submit\" className=\"rounded-2xl bg-cyan-500/80 text-slate-950 hover:bg-cyan-400\">\n              Add item\n            </Button>\n          </form>\n          <div className=\"space-y-3\">\n            {items.map((item) => (\n              <div key={item.id} className=\"flex flex-col gap-2 rounded-2xl bg-slate-900/60 p-3 text-sm text-slate-200 md:flex-row md:items-center md:justify-between\">\n                <div className=\"flex items-center gap-2\">\n                  <Checkbox\n                    checked={item.isChecked}\n                    onCheckedChange={async (checked) => {\n                      await toggleShoppingItem({ listId: list.id, itemId: item.id, checked: Boolean(checked) });\n                    }}\n                  />\n                  <div>\n                    <p className=\"font-medium text-slate-100\">{item.label}</p>\n                    <p className=\"text-xs text-slate-500\">\n                      {item.qty ? `${item.qty} â€¢ ` : ''}Priority {item.priority}\n                      {item.recurring ? ' â€¢ Recurring' : ''}\n                      {item.priceTarget ? ` â€¢ Target $${item.priceTarget}` : ''}\n                    </p>\n                  </div>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  {item.recurring ? <Badge variant=\"secondary\" className=\"rounded-xl bg-cyan-500/20 text-xs text-cyan-200\">Recurring</Badge> : null}\n                  <Button variant=\"ghost\" size=\"sm\" className=\"rounded-xl\" onClick={() => setPriceDialogItem(item)}>\n                    Price target\n                  </Button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n      <PriceTargetDialog\n        itemLabel={priceDialogItem?.label ?? ''}\n        open={!!priceDialogItem}\n        onOpenChange={(value) => !value && setPriceDialogItem(null)}\n        onSave={async (price) => {\n          if (!priceDialogItem) return;\n          await setShoppingPriceTarget({ listId: list.id, itemId: priceDialogItem.id, priceTarget: price });\n          toast({ title: 'Price target updated', description: price ? `$${price.toFixed(2)}` : 'Cleared' });\n        }}\n      />\n      <NudgeDialog member={nudgeMember} open={!!nudgeMember} onOpenChange={(value) => !value && setNudgeMember(null)} />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 7399, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/household/split/RecordPaymentDialog.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { DialogContent, DialogFooter, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Button } from \"@/components/ui/button\";\nimport type { Settlement } from \"@/lib/household/types\";\n\ninterface RecordPaymentDialogProps {\n  onSubmit: (payload: { payer: string; amount: number; method: Settlement[\"method\"]; reference?: string }) => Promise<void>;\n  onClose: () => void;\n}\n\nexport function RecordPaymentDialog({ onSubmit, onClose }: RecordPaymentDialogProps) {\n  const [form, setForm] = useState({ payer: \"\", amount: \"\", method: \"etransfer\" as Settlement[\"method\"], reference: \"\" });\n\n  return (\n    <DialogContent className=\"max-w-md rounded-3xl border border-slate-800 bg-slate-950\">\n      <DialogHeader>\n        <DialogTitle>Record payment</DialogTitle>\n      </DialogHeader>\n      <div className=\"space-y-3\">\n        <div className=\"space-y-2\">\n          <Label>Payer</Label>\n          <Input value={form.payer} onChange={(event) => setForm((prev) => ({ ...prev, payer: event.target.value }))} />\n        </div>\n        <div className=\"space-y-2\">\n          <Label>Amount</Label>\n          <Input value={form.amount} onChange={(event) => setForm((prev) => ({ ...prev, amount: event.target.value }))} />\n        </div>\n        <div className=\"space-y-2\">\n          <Label>Method</Label>\n          <Input value={form.method} onChange={(event) => setForm((prev) => ({ ...prev, method: event.target.value as Settlement[\"method\"] }))} />\n        </div>\n        <div className=\"space-y-2\">\n          <Label>Reference</Label>\n          <Input value={form.reference} onChange={(event) => setForm((prev) => ({ ...prev, reference: event.target.value }))} />\n        </div>\n      </div>\n      <DialogFooter>\n        <Button\n          onClick={async () => {\n            await onSubmit({ payer: form.payer, amount: Number(form.amount), method: form.method, reference: form.reference });\n            onClose();\n          }}\n          className=\"rounded-2xl bg-cyan-500/80 text-slate-950 hover:bg-cyan-400\"\n        >\n          Save\n        </Button>\n      </DialogFooter>\n    </DialogContent>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAcO,SAAS,oBAAoB,EAAE,QAAQ,EAAE,OAAO,EAA4B;IACjF,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;QAAE,OAAO;QAAI,QAAQ;QAAI,QAAQ;QAAqC,WAAW;IAAG;IAErH,qBACE,8OAAC,kIAAA,CAAA,gBAAa;QAAC,WAAU;;0BACvB,8OAAC,kIAAA,CAAA,eAAY;0BACX,cAAA,8OAAC,kIAAA,CAAA,cAAW;8BAAC;;;;;;;;;;;0BAEf,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,iIAAA,CAAA,QAAK;0CAAC;;;;;;0CACP,8OAAC,iIAAA,CAAA,QAAK;gCAAC,OAAO,KAAK,KAAK;gCAAE,UAAU,CAAC,QAAU,QAAQ,CAAC,OAAS,CAAC;4CAAE,GAAG,IAAI;4CAAE,OAAO,MAAM,MAAM,CAAC,KAAK;wCAAC,CAAC;;;;;;;;;;;;kCAE1G,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,iIAAA,CAAA,QAAK;0CAAC;;;;;;0CACP,8OAAC,iIAAA,CAAA,QAAK;gCAAC,OAAO,KAAK,MAAM;gCAAE,UAAU,CAAC,QAAU,QAAQ,CAAC,OAAS,CAAC;4CAAE,GAAG,IAAI;4CAAE,QAAQ,MAAM,MAAM,CAAC,KAAK;wCAAC,CAAC;;;;;;;;;;;;kCAE5G,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,iIAAA,CAAA,QAAK;0CAAC;;;;;;0CACP,8OAAC,iIAAA,CAAA,QAAK;gCAAC,OAAO,KAAK,MAAM;gCAAE,UAAU,CAAC,QAAU,QAAQ,CAAC,OAAS,CAAC;4CAAE,GAAG,IAAI;4CAAE,QAAQ,MAAM,MAAM,CAAC,KAAK;wCAAyB,CAAC;;;;;;;;;;;;kCAEpI,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,iIAAA,CAAA,QAAK;0CAAC;;;;;;0CACP,8OAAC,iIAAA,CAAA,QAAK;gCAAC,OAAO,KAAK,SAAS;gCAAE,UAAU,CAAC,QAAU,QAAQ,CAAC,OAAS,CAAC;4CAAE,GAAG,IAAI;4CAAE,WAAW,MAAM,MAAM,CAAC,KAAK;wCAAC,CAAC;;;;;;;;;;;;;;;;;;0BAGpH,8OAAC,kIAAA,CAAA,eAAY;0BACX,cAAA,8OAAC,kIAAA,CAAA,SAAM;oBACL,SAAS;wBACP,MAAM,SAAS;4BAAE,OAAO,KAAK,KAAK;4BAAE,QAAQ,OAAO,KAAK,MAAM;4BAAG,QAAQ,KAAK,MAAM;4BAAE,WAAW,KAAK,SAAS;wBAAC;wBAChH;oBACF;oBACA,WAAU;8BACX;;;;;;;;;;;;;;;;;AAMT","debugId":null}},
    {"offset": {"line": 7591, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/household/split/SettleNowDialog.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { DialogContent, DialogFooter, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\n\ninterface SettleNowDialogProps {\n  onSubmit: (payload: { settlements: { payer: string; amount: number }[] }) => Promise<void>;\n  onClose: () => void;\n}\n\nexport function SettleNowDialog({ onSubmit, onClose }: SettleNowDialogProps) {\n  const [rows, setRows] = useState([{ payer: \"\", amount: \"\" }]);\n\n  return (\n    <DialogContent className=\"max-w-lg rounded-3xl border border-slate-800 bg-slate-950\">\n      <DialogHeader>\n        <DialogTitle>Settle now</DialogTitle>\n      </DialogHeader>\n      <div className=\"space-y-3\">\n        {rows.map((row, index) => (\n          <div key={index} className=\"flex gap-2\">\n            <Input value={row.payer} onChange={(event) => setRows((prev) => prev.map((item, idx) => (idx === index ? { ...item, payer: event.target.value } : item)))} placeholder=\"Payer\" />\n            <Input value={row.amount} onChange={(event) => setRows((prev) => prev.map((item, idx) => (idx === index ? { ...item, amount: event.target.value } : item)))} placeholder=\"Amount\" />\n          </div>\n        ))}\n        <Button variant=\"ghost\" className=\"rounded-2xl\" onClick={() => setRows((prev) => [...prev, { payer: \"\", amount: \"\" }])}>\n          Add party\n        </Button>\n      </div>\n      <DialogFooter>\n        <Button\n          onClick={async () => {\n            await onSubmit({\n              settlements: rows.map((row) => ({ payer: row.payer, amount: Number(row.amount) })),\n            });\n            onClose();\n          }}\n          className=\"rounded-2xl bg-cyan-500/80 text-slate-950 hover:bg-cyan-400\"\n        >\n          Settle\n        </Button>\n      </DialogFooter>\n    </DialogContent>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAYO,SAAS,gBAAgB,EAAE,QAAQ,EAAE,OAAO,EAAwB;IACzE,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;QAAC;YAAE,OAAO;YAAI,QAAQ;QAAG;KAAE;IAE5D,qBACE,8OAAC,kIAAA,CAAA,gBAAa;QAAC,WAAU;;0BACvB,8OAAC,kIAAA,CAAA,eAAY;0BACX,cAAA,8OAAC,kIAAA,CAAA,cAAW;8BAAC;;;;;;;;;;;0BAEf,8OAAC;gBAAI,WAAU;;oBACZ,KAAK,GAAG,CAAC,CAAC,KAAK,sBACd,8OAAC;4BAAgB,WAAU;;8CACzB,8OAAC,iIAAA,CAAA,QAAK;oCAAC,OAAO,IAAI,KAAK;oCAAE,UAAU,CAAC,QAAU,QAAQ,CAAC,OAAS,KAAK,GAAG,CAAC,CAAC,MAAM,MAAS,QAAQ,QAAQ;oDAAE,GAAG,IAAI;oDAAE,OAAO,MAAM,MAAM,CAAC,KAAK;gDAAC,IAAI;oCAAS,aAAY;;;;;;8CACvK,8OAAC,iIAAA,CAAA,QAAK;oCAAC,OAAO,IAAI,MAAM;oCAAE,UAAU,CAAC,QAAU,QAAQ,CAAC,OAAS,KAAK,GAAG,CAAC,CAAC,MAAM,MAAS,QAAQ,QAAQ;oDAAE,GAAG,IAAI;oDAAE,QAAQ,MAAM,MAAM,CAAC,KAAK;gDAAC,IAAI;oCAAS,aAAY;;;;;;;2BAFjK;;;;;kCAKZ,8OAAC,kIAAA,CAAA,SAAM;wBAAC,SAAQ;wBAAQ,WAAU;wBAAc,SAAS,IAAM,QAAQ,CAAC,OAAS;uCAAI;oCAAM;wCAAE,OAAO;wCAAI,QAAQ;oCAAG;iCAAE;kCAAG;;;;;;;;;;;;0BAI1H,8OAAC,kIAAA,CAAA,eAAY;0BACX,cAAA,8OAAC,kIAAA,CAAA,SAAM;oBACL,SAAS;wBACP,MAAM,SAAS;4BACb,aAAa,KAAK,GAAG,CAAC,CAAC,MAAQ,CAAC;oCAAE,OAAO,IAAI,KAAK;oCAAE,QAAQ,OAAO,IAAI,MAAM;gCAAE,CAAC;wBAClF;wBACA;oBACF;oBACA,WAAU;8BACX;;;;;;;;;;;;;;;;;AAMT","debugId":null}},
    {"offset": {"line": 7722, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/household/split/SharedLedger.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useMemo, useState } from 'react';\nimport { format } from 'date-fns';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { useToast } from '@/hooks/use-toast';\nimport { useHousehold } from '@/lib/household/useHousehold';\nimport type { LedgerEntry, Settlement } from '@/lib/household/types';\nimport { RecordPaymentDialog } from './RecordPaymentDialog';\nimport { SettleNowDialog } from './SettleNowDialog';\nimport { NudgeDialog } from '../NudgeDialog';\n\nexport function SharedLedger() {\n  const {\n    ledger,\n    settlements,\n    recordPayment,\n    settleNow,\n    exportLedger,\n    members,\n  } = useHousehold();\n  const { toast } = useToast();\n\n  const [recordOpen, setRecordOpen] = useState(false);\n  const [settleOpen, setSettleOpen] = useState(false);\n  const [nudgeMember, setNudgeMember] = useState(members[0] ?? null);\n\n  useEffect(() => {\n    const handleAddPayment = () => setRecordOpen(true);\n    window.addEventListener('household:add-ledger', handleAddPayment);\n    return () => window.removeEventListener('household:add-ledger', handleAddPayment);\n  }, []);\n\n  const sortedLedger = useMemo(() => [...ledger].sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime()), [ledger]);\n  const latestSettlement = settlements.sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime())[0];\n\n  return (\n    <Card className=\"rounded-3xl border border-slate-900/60 bg-slate-950/80\">\n      <CardHeader className=\"flex flex-wrap items-center justify-between gap-3\">\n        <div>\n          <CardTitle className=\"text-lg text-slate-100\">Shared ledger</CardTitle>\n          <p className=\"text-xs text-slate-500\">Track reimbursements, settlements, and receipts.</p>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <Button variant=\"outline\" className=\"rounded-2xl border-cyan-600/40 text-cyan-200\" onClick={() => setRecordOpen(true)}>\n            Record payment\n          </Button>\n          <Button variant=\"ghost\" className=\"rounded-2xl text-xs uppercase tracking-widest text-slate-500\" onClick={() => setSettleOpen(true)}>\n            Settle now\n          </Button>\n          <Button\n            variant=\"ghost\"\n            className=\"rounded-2xl text-xs uppercase tracking-widest text-slate-500\"\n            onClick={async () => {\n              const csv = await exportLedger();\n              if (typeof navigator !== 'undefined' && navigator.clipboard) {\n                await navigator.clipboard.writeText(csv);\n              }\n              toast({ title: 'Export copied', description: 'CSV for current month' });\n            }}\n          >\n            Export\n          </Button>\n        </div>\n      </CardHeader>\n      <CardContent className=\"space-y-4\">\n        <div className=\"overflow-hidden rounded-2xl border border-slate-900/50\">\n          <Table>\n            <TableHeader>\n              <TableRow className=\"border-slate-900/50\">\n                <TableHead>Date</TableHead>\n                <TableHead>Label</TableHead>\n                <TableHead>Amount</TableHead>\n                <TableHead>Payer</TableHead>\n                <TableHead>Notes</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {sortedLedger.map((entry) => (\n                <TableRow key={entry.id} className=\"border-slate-900/40\">\n                  <TableCell className=\"text-slate-300\">{format(new Date(entry.date), 'MMM d')}</TableCell>\n                  <TableCell className=\"font-medium text-slate-100\">{entry.label}</TableCell>\n                  <TableCell className={entry.amount >= 0 ? 'text-emerald-400' : 'text-rose-400'}>\n                    {entry.amount >= 0 ? '+' : ''}${Math.abs(entry.amount).toFixed(2)}\n                  </TableCell>\n                  <TableCell className=\"text-slate-300\">{entry.payer}</TableCell>\n                  <TableCell className=\"text-slate-500\">{entry.note ?? 'â€”'}</TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </div>\n        {latestSettlement ? (\n          <div className=\"rounded-2xl bg-slate-900/60 p-3 text-xs text-slate-400\">\n            <p className=\"font-medium text-slate-200\">Last settlement</p>\n            <p>\n              {latestSettlement.payer} paid ${latestSettlement.amount.toFixed(2)} on {new Date(latestSettlement.date).toLocaleDateString()} via {latestSettlement.method}\n            </p>\n          </div>\n        ) : null}\n      </CardContent>\n\n      <Dialog open={recordOpen} onOpenChange={setRecordOpen}>\n        <RecordPaymentDialog\n            onSubmit={async ({ payer, amount, method, reference }) => {\n              await recordPayment({ payer, amount, method, reference, currency: 'USD' });\n              toast({ title: 'Payment recorded', description: `${payer} ${amount}` });\n              setNudgeMember(members[0] ?? null);\n            }}\n            onClose={() => setRecordOpen(false)}\n          />\n      </Dialog>\n\n      <Dialog open={settleOpen} onOpenChange={setSettleOpen}>\n        <SettleNowDialog\n          onSubmit={async (payload) => {\n            await settleNow({ settlements: payload.settlements, currency: 'USD' });\n            toast({ title: 'Settled', description: 'Balances updated' });\n          }}\n          onClose={() => setSettleOpen(false)}\n        />\n      </Dialog>\n      \n      <NudgeDialog member={nudgeMember} open={!!nudgeMember} onOpenChange={(value) => !value && setNudgeMember(null)} />\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 8090, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/tabs.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,OAAO,gKAAA,CAAA,OAAkB;AAE/B,MAAM,yBAAW,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG9B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,gKAAA,CAAA,OAAkB;QACjB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,8FACA;QAED,GAAG,KAAK;;;;;;AAGb,SAAS,WAAW,GAAG,gKAAA,CAAA,OAAkB,CAAC,WAAW;AAErD,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,gKAAA,CAAA,UAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,uYACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,gKAAA,CAAA,UAAqB,CAAC,WAAW;AAE3D,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,gKAAA,CAAA,UAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,mIACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,gKAAA,CAAA,UAAqB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 8143, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/household/Tabs.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { Tabs as UITabs, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { cn } from \"@/lib/utils\";\nimport { useHousehold } from \"@/lib/household/useHousehold\";\n\nexport interface HouseholdTabItem {\n  id: string;\n  label: string;\n  shortcut: string;\n  content: React.ReactNode;\n  onAdd?: () => void;\n  onNudge?: () => void;\n  onFilter?: () => void;\n}\n\ninterface HouseholdTabsProps {\n  items: HouseholdTabItem[];\n}\n\nexport function HouseholdTabs({ items }: HouseholdTabsProps) {\n  const { activeTab, setActiveTab } = useHousehold();\n\n  useEffect(() => {\n    function handleKeyDown(event: KeyboardEvent) {\n      if (event.defaultPrevented) return;\n      const key = event.key.toLowerCase();\n      if (!event.metaKey && !event.ctrlKey && !event.altKey && !event.shiftKey) {\n        const match = items.find((item) => item.shortcut.toLowerCase() === key);\n        if (match) {\n          event.preventDefault();\n          setActiveTab(match.id);\n          return;\n        }\n        if (key === \"n\") {\n          const current = items.find((item) => item.id === activeTab);\n          if (current?.onAdd) {\n            event.preventDefault();\n            current.onAdd();\n          }\n        }\n      }\n\n      if ((event.metaKey || event.ctrlKey) && key === \"f\") {\n        const current = items.find((item) => item.id === activeTab);\n        if (current?.onFilter) {\n          event.preventDefault();\n          current.onFilter();\n        }\n      }\n\n      if (event.shiftKey && key === \"n\") {\n        const current = items.find((item) => item.id === activeTab);\n        if (current?.onNudge) {\n          event.preventDefault();\n          current.onNudge();\n        }\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, [items, activeTab, setActiveTab]);\n\n  const active = items.find((item) => item.id === activeTab) ?? items[0];\n\n  return (\n    <div className=\"space-y-6\">\n      <UITabs value={active.id} onValueChange={setActiveTab} className=\"w-full space-y-6\">\n        <TabsList className=\"flex w-full flex-wrap gap-2 bg-transparent p-0\">\n          {items.map((item) => (\n            <TabsTrigger\n              key={item.id}\n              value={item.id}\n              className={cn(\n                \"relative flex-1 rounded-2xl border border-transparent px-4 py-3 text-sm font-medium transition\",\n                \"data-[state=active]:border-cyan-500/80 data-[state=active]:bg-cyan-500/10 data-[state=active]:text-cyan-200\",\n                \"data-[state=inactive]:bg-slate-900/40 data-[state=inactive]:text-slate-400 data-[state=inactive]:hover:bg-slate-800/60\",\n              )}\n            >\n              <span className=\"flex items-center justify-between gap-2\">\n                <span>{item.label}</span>\n                <span className=\"text-xs uppercase tracking-widest text-slate-500\">{item.shortcut}</span>\n              </span>\n            </TabsTrigger>\n          ))}\n        </TabsList>\n        <motion.div\n          key={active.id}\n          layout\n          initial={{ opacity: 0, y: 16 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ type: \"spring\", damping: 20, stiffness: 120 }}\n          className=\"rounded-3xl border border-slate-800/60 bg-slate-950/80 p-6 shadow-2xl shadow-black/30\"\n        >\n          {active.content}\n        </motion.div>\n      </UITabs>\n      <Separator className=\"border-slate-800/80\" />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AAuBO,SAAS,cAAc,EAAE,KAAK,EAAsB;IACzD,MAAM,EAAE,SAAS,EAAE,YAAY,EAAE,GAAG,CAAA,GAAA,wIAAA,CAAA,eAAY,AAAD;IAE/C,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,SAAS,cAAc,KAAoB;YACzC,IAAI,MAAM,gBAAgB,EAAE;YAC5B,MAAM,MAAM,MAAM,GAAG,CAAC,WAAW;YACjC,IAAI,CAAC,MAAM,OAAO,IAAI,CAAC,MAAM,OAAO,IAAI,CAAC,MAAM,MAAM,IAAI,CAAC,MAAM,QAAQ,EAAE;gBACxE,MAAM,QAAQ,MAAM,IAAI,CAAC,CAAC,OAAS,KAAK,QAAQ,CAAC,WAAW,OAAO;gBACnE,IAAI,OAAO;oBACT,MAAM,cAAc;oBACpB,aAAa,MAAM,EAAE;oBACrB;gBACF;gBACA,IAAI,QAAQ,KAAK;oBACf,MAAM,UAAU,MAAM,IAAI,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK;oBACjD,IAAI,SAAS,OAAO;wBAClB,MAAM,cAAc;wBACpB,QAAQ,KAAK;oBACf;gBACF;YACF;YAEA,IAAI,CAAC,MAAM,OAAO,IAAI,MAAM,OAAO,KAAK,QAAQ,KAAK;gBACnD,MAAM,UAAU,MAAM,IAAI,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK;gBACjD,IAAI,SAAS,UAAU;oBACrB,MAAM,cAAc;oBACpB,QAAQ,QAAQ;gBAClB;YACF;YAEA,IAAI,MAAM,QAAQ,IAAI,QAAQ,KAAK;gBACjC,MAAM,UAAU,MAAM,IAAI,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK;gBACjD,IAAI,SAAS,SAAS;oBACpB,MAAM,cAAc;oBACpB,QAAQ,OAAO;gBACjB;YACF;QACF;QAEA,OAAO,gBAAgB,CAAC,WAAW;QACnC,OAAO,IAAM,OAAO,mBAAmB,CAAC,WAAW;IACrD,GAAG;QAAC;QAAO;QAAW;KAAa;IAEnC,MAAM,SAAS,MAAM,IAAI,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK,cAAc,KAAK,CAAC,EAAE;IAEtE,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,gIAAA,CAAA,OAAM;gBAAC,OAAO,OAAO,EAAE;gBAAE,eAAe;gBAAc,WAAU;;kCAC/D,8OAAC,gIAAA,CAAA,WAAQ;wBAAC,WAAU;kCACjB,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC,gIAAA,CAAA,cAAW;gCAEV,OAAO,KAAK,EAAE;gCACd,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,kGACA,+GACA;0CAGF,cAAA,8OAAC;oCAAK,WAAU;;sDACd,8OAAC;sDAAM,KAAK,KAAK;;;;;;sDACjB,8OAAC;4CAAK,WAAU;sDAAoD,KAAK,QAAQ;;;;;;;;;;;;+BAV9E,KAAK,EAAE;;;;;;;;;;kCAelB,8OAAC,0LAAA,CAAA,SAAM,CAAC,GAAG;wBAET,MAAM;wBACN,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAG;wBAC7B,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAE;wBAC5B,YAAY;4BAAE,MAAM;4BAAU,SAAS;4BAAI,WAAW;wBAAI;wBAC1D,WAAU;kCAET,OAAO,OAAO;uBAPV,OAAO,EAAE;;;;;;;;;;;0BAUlB,8OAAC,qIAAA,CAAA,YAAS;gBAAC,WAAU;;;;;;;;;;;;AAG3B","debugId":null}}]
}