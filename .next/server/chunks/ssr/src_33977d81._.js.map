{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/layout/page-header.tsx"],"sourcesContent":["\"use client\";\n\nimport { motion } from \"framer-motion\";\nimport { ReactNode } from \"react\";\nimport { Button } from \"@/components/ui/button\";\n\ninterface PageHeaderProps {\n  title: string;\n  description?: string;\n  actions?: ReactNode;\n}\n\nexport function PageHeader({ title, description, actions }: PageHeaderProps) {\n  return (\n    <div className=\"flex flex-col gap-4 pb-8 lg:flex-row lg:items-center lg:justify-between\">\n      <div className=\"space-y-1\">\n        <motion.h1\n          className=\"text-3xl font-headline font-semibold tracking-tight text-primary\"\n          initial={{ opacity: 0, y: 12 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ type: \"spring\", stiffness: 120, damping: 16 }}\n        >\n          {title}\n        </motion.h1>\n        {description ? (\n          <motion.p\n            className=\"text-sm text-muted-foreground max-w-2xl\"\n            initial={{ opacity: 0, y: 8 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: 0.05, duration: 0.3 }}\n          >\n            {description}\n          </motion.p>\n        ) : null}\n      </div>\n      {actions ? (\n        <motion.div\n          className=\"flex flex-wrap items-center gap-2\"\n          initial={{ opacity: 0, y: -6 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: 0.1, duration: 0.2 }}\n        >\n          {actions}\n        </motion.div>\n      ) : null}\n    </div>\n  );\n}\n\nexport function PagePrimaryAction({ children }: { children: ReactNode }) {\n  return (\n    <Button\n      size=\"lg\"\n      className=\"relative overflow-hidden rounded-2xl bg-gradient-to-r from-cyan-500 via-sky-500 to-indigo-500 px-6 font-medium text-white shadow-xl shadow-cyan-900/40 transition hover:shadow-2xl focus-visible:ring-cyan-400\"\n    >\n      <span className=\"relative z-10\">{children}</span>\n      <span className=\"absolute inset-0 rounded-2xl bg-white/10 mix-blend-overlay\" />\n    </Button>\n  );\n}\n\nexport function PageSecondaryAction({ children }: { children: ReactNode }) {\n  return (\n    <Button\n      variant=\"outline\"\n      size=\"lg\"\n      className=\"rounded-2xl border-slate-700 bg-slate-900/40 text-slate-200 backdrop-blur transition hover:bg-slate-800\"\n    >\n      {children}\n    </Button>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAEA;AAEA;AAJA;;;;AAYO,SAAS,WAAW,EAAE,KAAK,EAAE,WAAW,EAAE,OAAO,EAAmB;IACzE,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,0LAAA,CAAA,SAAM,CAAC,EAAE;wBACR,WAAU;wBACV,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAG;wBAC7B,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAE;wBAC5B,YAAY;4BAAE,MAAM;4BAAU,WAAW;4BAAK,SAAS;wBAAG;kCAEzD;;;;;;oBAEF,4BACC,8OAAC,0LAAA,CAAA,SAAM,CAAC,CAAC;wBACP,WAAU;wBACV,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAE;wBAC5B,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAE;wBAC5B,YAAY;4BAAE,OAAO;4BAAM,UAAU;wBAAI;kCAExC;;;;;+BAED;;;;;;;YAEL,wBACC,8OAAC,0LAAA,CAAA,SAAM,CAAC,GAAG;gBACT,WAAU;gBACV,SAAS;oBAAE,SAAS;oBAAG,GAAG,CAAC;gBAAE;gBAC7B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,YAAY;oBAAE,OAAO;oBAAK,UAAU;gBAAI;0BAEvC;;;;;uBAED;;;;;;;AAGV;AAEO,SAAS,kBAAkB,EAAE,QAAQ,EAA2B;IACrE,qBACE,8OAAC,kIAAA,CAAA,SAAM;QACL,MAAK;QACL,WAAU;;0BAEV,8OAAC;gBAAK,WAAU;0BAAiB;;;;;;0BACjC,8OAAC;gBAAK,WAAU;;;;;;;;;;;;AAGtB;AAEO,SAAS,oBAAoB,EAAE,QAAQ,EAA2B;IACvE,qBACE,8OAAC,kIAAA,CAAA,SAAM;QACL,SAAQ;QACR,MAAK;QACL,WAAU;kBAET;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 145, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 226, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport {cn} from '@/lib/utils';\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, React.ComponentProps<'textarea'>>(\n  ({className, ...props}, ref) => {\n    return (\n      <textarea\n        className={cn(\n          'flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\nTextarea.displayName = 'Textarea';\n\nexport {Textarea};\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAC9B,CAAC,EAAC,SAAS,EAAE,GAAG,OAAM,EAAE;IACtB,qBACE,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,qTACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 254, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACtB;AAGF,MAAM,sBAAQ,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAI3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,iKAAA,CAAA,OAAmB;QAClB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iBAAiB;QAC9B,GAAG,KAAK;;;;;;AAGb,MAAM,WAAW,GAAG,iKAAA,CAAA,OAAmB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 286, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/switch.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAA,CAAA,OAAqB;QACpB,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,sXACA;QAED,GAAG,KAAK;QACT,KAAK;kBAEL,cAAA,8OAAC,kKAAA,CAAA,QAAsB;YACrB,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV;;;;;;;;;;;AAKR,OAAO,WAAW,GAAG,kKAAA,CAAA,OAAqB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 322, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/scroll-area.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC,0KAAA,CAAA,OAAwB;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,4BAA4B;QACzC,GAAG,KAAK;;0BAET,8OAAC,0KAAA,CAAA,WAA4B;gBAAC,WAAU;0BACrC;;;;;;0BAEH,8OAAC;;;;;0BACD,8OAAC,0KAAA,CAAA,SAA0B;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,0KAAA,CAAA,OAAwB,CAAC,WAAW;AAE7D,MAAM,0BAAY,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,cAAc,UAAU,EAAE,GAAG,OAAO,EAAE,oBACpD,8OAAC,0KAAA,CAAA,sBAAuC;QACtC,KAAK;QACL,aAAa;QACb,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,iDACA,gBAAgB,cACd,sDACF,gBAAgB,gBACd,wDACF;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,0KAAA,CAAA,kBAAmC;YAAC,WAAU;;;;;;;;;;;AAGnD,UAAU,WAAW,GAAG,0KAAA,CAAA,sBAAuC,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 390, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/schedule/calendar/page.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  useEffect,\n  useMemo,\n  useState,\n  type CSSProperties,\n  type MouseEvent,\n} from \"react\";\nimport type { ReactNode } from \"react\";\nimport {\n  PageHeader,\n  PagePrimaryAction,\n  PageSecondaryAction,\n} from \"@/components/layout/page-header\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetFooter,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Label } from \"@/components/ui/label\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  AlarmClock,\n  ArrowRight,\n  Bell,\n  BellRing,\n  CalendarCheck,\n  CalendarDays,\n  CalendarPlus,\n  Check,\n  ChevronRight,\n  Clock,\n  Copy,\n  Filter,\n  FileText,\n  Link as LinkIcon,\n  Loader2,\n  MapPin,\n  Pill,\n  Plus,\n  Repeat,\n  Share2,\n  Sparkles,\n  Trash2,\n} from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { useToast } from \"@/hooks/use-toast\";\n\ntype CalendarView = \"Day\" | \"Week\" | \"Month\";\n\ntype EventCategory =\n  | \"Personal\"\n  | \"Finance\"\n  | \"Care\"\n  | \"Household\"\n  | \"Wellness\"\n  | \"Automations\"\n  | \"Google\";\n\ntype LinkedEntity =\n  | { type: \"bill\"; name: string; amount: string; due: string }\n  | { type: \"document\"; name: string; updated: string }\n  | { type: \"medication\"; name: string; dose: string }\n  | { type: \"routine\"; name: string; cadence: string };\n\ninterface TimelineEvent {\n  id: string;\n  title: string;\n  category: EventCategory;\n  start: string;\n  end: string;\n  location?: string;\n  description?: string;\n  source: \"Beno\" | \"Google\" | \"Automation\";\n  requiresConfirmation?: boolean;\n  canComplete?: boolean;\n  links?: LinkedEntity[];\n}\n\nconst CATEGORY_STYLES: Record<\n  EventCategory,\n  { chip: string; dot: string; legend: string }\n> = {\n  Personal: {\n    chip:\n      \"border-indigo-400/60 bg-indigo-500/20 text-indigo-50 shadow-[0_8px_30px_-12px_rgba(99,102,241,0.65)]\",\n    dot: \"bg-indigo-400\",\n    legend: \"bg-indigo-500\",\n  },\n  Finance: {\n    chip:\n      \"border-cyan-400/60 bg-cyan-500/20 text-cyan-50 shadow-[0_8px_30px_-12px_rgba(34,211,238,0.65)]\",\n    dot: \"bg-cyan-400\",\n    legend: \"bg-cyan-500\",\n  },\n  Care: {\n    chip:\n      \"border-emerald-400/60 bg-emerald-500/20 text-emerald-50 shadow-[0_8px_30px_-12px_rgba(16,185,129,0.65)]\",\n    dot: \"bg-emerald-400\",\n    legend: \"bg-emerald-500\",\n  },\n  Household: {\n    chip:\n      \"border-amber-400/60 bg-amber-500/20 text-amber-50 shadow-[0_8px_30px_-12px_rgba(245,158,11,0.65)]\",\n    dot: \"bg-amber-400\",\n    legend: \"bg-amber-500\",\n  },\n  Wellness: {\n    chip:\n      \"border-purple-400/60 bg-purple-500/20 text-purple-50 shadow-[0_8px_30px_-12px_rgba(168,85,247,0.65)]\",\n    dot: \"bg-purple-400\",\n    legend: \"bg-purple-500\",\n  },\n  Automations: {\n    chip:\n      \"border-rose-400/60 bg-rose-500/20 text-rose-50 shadow-[0_8px_30px_-12px_rgba(244,63,94,0.65)]\",\n    dot: \"bg-rose-400\",\n    legend: \"bg-rose-500\",\n  },\n  Google: {\n    chip:\n      \"border-slate-500/60 bg-slate-500/20 text-slate-100 shadow-[0_8px_30px_-12px_rgba(148,163,184,0.65)]\",\n    dot: \"bg-slate-400\",\n    legend: \"bg-slate-500\",\n  },\n};\n\nconst RAW_EVENTS: TimelineEvent[] = [\n  {\n    id: \"evt-1\",\n    title: \"Founder standup\",\n    category: \"Personal\",\n    start: \"2024-06-24T08:30:00\",\n    end: \"2024-06-24T09:15:00\",\n    location: \"War room\",\n    description: \"Weekly sync with Emma & product leads.\",\n    source: \"Beno\",\n    links: [{ type: \"document\", name: \"Standup brief\", updated: \"Today 6:45a\" }],\n  },\n  {\n    id: \"evt-2\",\n    title: \"Therapy\",\n    category: \"Wellness\",\n    start: \"2024-06-24T10:00:00\",\n    end: \"2024-06-24T11:00:00\",\n    location: \"Dr. Thompson (virtual)\",\n    source: \"Google\",\n    canComplete: true,\n  },\n  {\n    id: \"evt-3\",\n    title: \"Payroll review\",\n    category: \"Finance\",\n    start: \"2024-06-24T11:15:00\",\n    end: \"2024-06-24T12:00:00\",\n    description: \"Approve transfers before noon cut-off.\",\n    source: \"Beno\",\n    links: [\n      { type: \"bill\", name: \"Payroll batch\", amount: \"$64,200\", due: \"Processes at 12:30p\" },\n      { type: \"document\", name: \"Payroll summary\", updated: \"Yesterday 9:10p\" },\n    ],\n  },\n  {\n    id: \"evt-4\",\n    title: \"Meds: Synthroid\",\n    category: \"Care\",\n    start: \"2024-06-24T12:30:00\",\n    end: \"2024-06-24T12:40:00\",\n    source: \"Automation\",\n    canComplete: true,\n    links: [{ type: \"medication\", name: \"Synthroid\", dose: \"75 mcg\" }],\n  },\n  {\n    id: \"evt-5\",\n    title: \"Operations routine: Monday reset\",\n    category: \"Automations\",\n    start: \"2024-06-24T13:00:00\",\n    end: \"2024-06-24T14:30:00\",\n    description: \"Weekly routine spanning ops checklist.\",\n    source: \"Beno\",\n    links: [{ type: \"routine\", name: \"Ops reset\", cadence: \"Weekly on Monday\" }],\n  },\n  {\n    id: \"evt-6\",\n    title: \"Pick up dry cleaning\",\n    category: \"Household\",\n    start: \"2024-06-24T17:00:00\",\n    end: \"2024-06-24T17:30:00\",\n    source: \"Beno\",\n    requiresConfirmation: true,\n  },\n  {\n    id: \"evt-7\",\n    title: \"Yoga with Maya\",\n    category: \"Wellness\",\n    start: \"2024-06-25T07:30:00\",\n    end: \"2024-06-25T08:15:00\",\n    source: \"Google\",\n  },\n  {\n    id: \"evt-8\",\n    title: \"Finance: Rent due\",\n    category: \"Finance\",\n    start: \"2024-06-25T09:00:00\",\n    end: \"2024-06-25T09:30:00\",\n    source: \"Automation\",\n    links: [{ type: \"bill\", name: \"June rent\", amount: \"$5,200\", due: \"Fri, 4:00p\" }],\n  },\n  {\n    id: \"evt-9\",\n    title: \"Smart home maintenance\",\n    category: \"Household\",\n    start: \"2024-06-26T15:00:00\",\n    end: \"2024-06-26T16:30:00\",\n    source: \"Beno\",\n  },\n  {\n    id: \"evt-10\",\n    title: \"Board dinner\",\n    category: \"Personal\",\n    start: \"2024-06-26T19:00:00\",\n    end: \"2024-06-26T21:00:00\",\n    location: \"Nine at The Conrad\",\n    source: \"Google\",\n  },\n];\n\nconst CATEGORY_FILTERS: EventCategory[] = [\n  \"Personal\",\n  \"Finance\",\n  \"Care\",\n  \"Household\",\n  \"Wellness\",\n  \"Automations\",\n  \"Google\",\n];\n\nconst SOURCE_FILTERS = [\"Beno\", \"Google\", \"Automation\"] as const;\n\nconst HOURS_START = 6 * 60;\nconst HOURS_END = 22 * 60;\n\nconst VIEWS: CalendarView[] = [\"Day\", \"Week\", \"Month\"];\n\nfunction parseMinutesFromIso(iso: string) {\n  const date = new Date(iso);\n  return date.getHours() * 60 + date.getMinutes();\n}\n\nfunction isSameDay(a: Date, b: Date) {\n  return (\n    a.getFullYear() === b.getFullYear() &&\n    a.getMonth() === b.getMonth() &&\n    a.getDate() === b.getDate()\n  );\n}\n\nfunction formatTimeRange(start: string, end: string) {\n  const formatter = new Intl.DateTimeFormat(undefined, {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n  });\n  return `${formatter.format(new Date(start))} – ${formatter.format(new Date(end))}`;\n}\n\nfunction formatDayLabel(date: Date) {\n  return new Intl.DateTimeFormat(undefined, {\n    weekday: \"short\",\n    month: \"short\",\n    day: \"numeric\",\n  }).format(date);\n}\nexport default function CalendarPage() {\n  const { toast } = useToast();\n  const [view, setView] = useState<CalendarView>(\"Week\");\n  const [isSyncOpen, setIsSyncOpen] = useState(false);\n  const [isNlpOpen, setIsNlpOpen] = useState(false);\n  const [isRoutineDrawerOpen, setIsRoutineDrawerOpen] = useState(false);\n  const [isFiltersOpen, setIsFiltersOpen] = useState(false);\n  const [isEventModalOpen, setIsEventModalOpen] = useState(false);\n  const [activeLink, setActiveLink] = useState<LinkedEntity | null>(null);\n  const [activeContextMenu, setActiveContextMenu] = useState<\n    | null\n    | {\n        x: number;\n        y: number;\n        event: TimelineEvent;\n      }\n  >(null);\n  const [hoveredEventId, setHoveredEventId] = useState<string | null>(null);\n  const [selectedEvent, setSelectedEvent] = useState<TimelineEvent | null>(null);\n  const [isGoogleConnected, setIsGoogleConnected] = useState(true);\n  const [categoryFilters, setCategoryFilters] = useState<Record<EventCategory, boolean>>(() =>\n    CATEGORY_FILTERS.reduce(\n      (acc, category) => {\n        acc[category] = true;\n        return acc;\n      },\n      {} as Record<EventCategory, boolean>\n    )\n  );\n  const [sourceFilters, setSourceFilters] = useState<Record<(typeof SOURCE_FILTERS)[number], boolean>>({\n    Beno: true,\n    Google: true,\n    Automation: true,\n  });\n  const [nlpText, setNlpText] = useState(\n    \"Lunch with Alex at Eleven Madison next Tue 1pm for 90m\"\n  );\n  const [isLoadingSync, setIsLoadingSync] = useState(false);\n\n  useEffect(() => {\n    const listener = () => setActiveContextMenu(null);\n    window.addEventListener(\"click\", listener);\n    return () => window.removeEventListener(\"click\", listener);\n  }, []);\n\n  const timezone = useMemo(\n    () => Intl.DateTimeFormat().resolvedOptions().timeZone,\n    []\n  );\n\n  const referenceDate = useMemo(() => new Date(\"2024-06-24T10:30:00\"), []);\n\n  const timelineDays = useMemo(() => {\n    if (view === \"Month\") {\n      const startOfWeek = new Date(referenceDate);\n      const day = startOfWeek.getDay();\n      const diff = (day + 6) % 7;\n      startOfWeek.setDate(startOfWeek.getDate() - diff);\n      return Array.from({ length: 7 }, (_, index) => {\n        const date = new Date(startOfWeek);\n        date.setDate(startOfWeek.getDate() + index);\n        return { date, label: formatDayLabel(date) };\n      });\n    }\n\n    const count = view === \"Day\" ? 1 : 5;\n    const startOfWeek = new Date(referenceDate);\n    const day = startOfWeek.getDay();\n    const diff = (day + 6) % 7;\n    startOfWeek.setDate(startOfWeek.getDate() - diff);\n\n    return Array.from({ length: count }, (_, index) => {\n      const date = new Date(startOfWeek);\n      date.setDate(startOfWeek.getDate() + index);\n      return { date, label: formatDayLabel(date) };\n    });\n  }, [referenceDate, view]);\n\n  const filteredEvents = useMemo(() => {\n    return RAW_EVENTS.filter((event) => {\n      if (!categoryFilters[event.category]) {\n        return false;\n      }\n      if (!sourceFilters[event.source]) {\n        return false;\n      }\n      if (!isGoogleConnected && event.source === \"Google\") {\n        return false;\n      }\n      if (view === \"Day\") {\n        return isSameDay(new Date(event.start), referenceDate);\n      }\n      if (view === \"Week\") {\n        const weekDates = timelineDays.map((d) => d.date);\n        return weekDates.some((date) => isSameDay(new Date(event.start), date));\n      }\n      return true;\n    });\n  }, [categoryFilters, isGoogleConnected, referenceDate, sourceFilters, timelineDays, view]);\n\n  const upNextItems = useMemo(() => {\n    const now = referenceDate.getTime();\n    return filteredEvents\n      .filter((event) => new Date(event.end).getTime() >= now)\n      .sort((a, b) => new Date(a.start).getTime() - new Date(b.start).getTime())\n      .slice(0, 6);\n  }, [filteredEvents, referenceDate]);\n\n  const hours = useMemo(() => {\n    const list: number[] = [];\n    for (let minute = HOURS_START; minute <= HOURS_END; minute += 60) {\n      list.push(minute);\n    }\n    return list;\n  }, []);\n\n  const nowMarker = useMemo(() => {\n    const minutes = referenceDate.getHours() * 60 + referenceDate.getMinutes();\n    if (minutes < HOURS_START || minutes > HOURS_END) {\n      return null;\n    }\n    const offset = ((minutes - HOURS_START) / (HOURS_END - HOURS_START)) * 100;\n    return { offset, date: referenceDate };\n  }, [referenceDate]);\n\n  const calendarIsEmpty = view !== \"Month\" && filteredEvents.length === 0;\n\n  const handleQuickAction = (event: TimelineEvent, action: \"snooze\" | \"done\" | \"nudge\") => {\n    const actionLabel =\n      action === \"snooze\" ? \"Snoozed 15 minutes\" : action === \"done\" ? \"Marked done\" : \"Nudged\";\n    toast({\n      title: actionLabel,\n      description: event.title,\n    });\n  };\n\n  const handleContextMenu = (evt: TimelineEvent, e: MouseEvent<HTMLButtonElement>) => {\n    e.preventDefault();\n    setActiveContextMenu({\n      x: e.clientX,\n      y: e.clientY,\n      event: evt,\n    });\n  };\n\n  const handleOpenEventModal = (event?: TimelineEvent) => {\n    if (event) {\n      setSelectedEvent(event);\n    } else {\n      setSelectedEvent(null);\n    }\n    setIsEventModalOpen(true);\n  };\n\n  const manageSyncCalendars = [\n    { id: \"founder\", name: \"Founder HQ\", color: \"bg-cyan-500\" },\n    { id: \"family\", name: \"Family\", color: \"bg-emerald-500\" },\n    { id: \"google\", name: \"Google default\", color: \"bg-slate-400\" },\n  ];\n\n  const suggestions = [\n    {\n      id: \"sug-1\",\n      title: \"Block 30m for gym?\",\n      detail: \"You skipped movement twice last week.\",\n    },\n    {\n      id: \"sug-2\",\n      title: \"Rent due Fri — add pay event?\",\n      detail: \"Keep cash buffer aligned.\",\n    },\n    {\n      id: \"sug-3\",\n      title: \"Schedule board pre-read?\",\n      detail: \"Board dinner on Wed @ 7p.\",\n    },\n  ];\n\n  const conflicts = [\n    {\n      id: \"conf-1\",\n      title: \"Therapy overlaps payroll buffer\",\n      detail: \"Travel time under 15 minutes.\",\n    },\n    {\n      id: \"conf-2\",\n      title: \"Rent pay + Ops routine\",\n      detail: \"Two automation holds at 1p.\",\n    },\n  ];\n\n  return (\n    <div className=\"space-y-8\">\n      <PageHeader\n        title=\"Schedule — Calendar\"\n        description=\"One canvas for Beno routines, Google events, automations, and care reminders.\"\n        actions={\n          <>\n            <PagePrimaryAction onClick={() => setIsSyncOpen(true)}>\n              Sync Google\n            </PagePrimaryAction>\n            <PageSecondaryAction onClick={() => setIsNlpOpen(true)}>\n              Smart add (NLP)\n            </PageSecondaryAction>\n            <Button\n              size=\"lg\"\n              variant=\"outline\"\n              className=\"rounded-2xl border-slate-700 bg-slate-900/40 text-slate-200\"\n              onClick={() => setIsRoutineDrawerOpen(true)}\n            >\n              Create routine\n            </Button>\n            <Button\n              size=\"lg\"\n              variant=\"outline\"\n              className=\"rounded-2xl border-slate-700 bg-slate-900/40 text-slate-200\"\n              onClick={() => setIsFiltersOpen(true)}\n            >\n              <Filter className=\"mr-2 h-4 w-4\" /> Filters\n            </Button>\n          </>\n        }\n      />\n      <div className=\"grid gap-6 xl:grid-cols-[minmax(0,1fr)_340px]\">\n        <Card className=\"relative overflow-hidden rounded-3xl border border-slate-900/60 bg-slate-950/80 shadow-2xl\">\n          <CardHeader className=\"flex flex-col gap-4 border-b border-slate-800/70 px-6 py-6 lg:flex-row lg:items-center lg:justify-between\">\n            <div className=\"flex flex-wrap items-center gap-2\">\n              {VIEWS.map((option) => (\n                <Button\n                  key={option}\n                  size=\"sm\"\n                  variant={view === option ? \"default\" : \"secondary\"}\n                  className={cn(\n                    \"rounded-2xl px-4\",\n                    view === option\n                      ? \"bg-slate-100 text-slate-900 hover:bg-slate-200\"\n                      : \"border-slate-700 bg-slate-900/40 text-slate-200\"\n                  )}\n                  onClick={() => setView(option)}\n                >\n                  {option}\n                </Button>\n              ))}\n            </div>\n            <div className=\"flex flex-wrap items-center gap-3 text-xs text-slate-400\">\n              <span className=\"flex items-center gap-1\">\n                <KeyboardHint label=\"N\" /> new event\n              </span>\n              <span className=\"flex items-center gap-1\">\n                <KeyboardHint label=\"/\" /> smart add\n              </span>\n              <span className=\"flex items-center gap-1\">\n                <KeyboardHint label=\"T\" /> today\n              </span>\n              <span className=\"flex items-center gap-1\">\n                <KeyboardHint label=\"← →\" /> navigate\n              </span>\n              <span className=\"flex items-center gap-1\">\n                <KeyboardHint label=\"F\" /> filters\n              </span>\n              <span className=\"flex items-center gap-1\">\n                <KeyboardHint label=\"S\" /> sync\n              </span>\n            </div>\n          </CardHeader>\n          <CardContent className=\"relative space-y-6 px-0\">\n            {view === \"Month\" ? (\n              <MonthGrid\n                events={filteredEvents}\n                onCreate={() => handleOpenEventModal()}\n                onOpenEvent={handleOpenEventModal}\n              />\n            ) : (\n              <Timeline\n                days={timelineDays}\n                events={filteredEvents}\n                hours={hours}\n                nowMarker={nowMarker}\n                view={view}\n                calendarIsEmpty={calendarIsEmpty}\n                isGoogleConnected={isGoogleConnected}\n                onCreate={() => handleOpenEventModal()}\n                onHoverChange={setHoveredEventId}\n                hoveredEventId={hoveredEventId}\n                onQuickAction={handleQuickAction}\n                onOpenEvent={handleOpenEventModal}\n                onContextMenu={handleContextMenu}\n                onLinkOpen={setActiveLink}\n                onConnect={() => setIsSyncOpen(true)}\n                onSmartAdd={() => setIsNlpOpen(true)}\n                onRescheduled={(title) =>\n                  toast({ title: \"Rescheduled\", description: title })\n                }\n              />\n            )}\n          </CardContent>\n          <div className=\"flex flex-col gap-4 border-t border-slate-800/70 px-6 py-5 text-sm text-slate-300 lg:flex-row lg:items-center lg:justify-between\">\n            <div className=\"flex items-center gap-4\">\n              <Button\n                size=\"sm\"\n                className=\"h-9 rounded-2xl bg-rose-500/90 px-4 text-white shadow-lg shadow-rose-900/40 hover:bg-rose-500\"\n                onClick={() => {\n                  toast({ title: \"Jumped to now\" });\n                }}\n              >\n                <Clock className=\"mr-2 h-4 w-4\" /> Now\n              </Button>\n              <Button\n                size=\"sm\"\n                variant=\"outline\"\n                className=\"h-9 rounded-2xl border-slate-700 bg-slate-900/40 px-4 text-slate-200\"\n                onClick={() => setView(\"Day\")}\n              >\n                Today\n              </Button>\n              <span className=\"flex items-center gap-2 text-xs text-slate-400\">\n                <AlarmClock className=\"h-4 w-4\" />\n                {timezone}\n              </span>\n            </div>\n            <div className=\"flex flex-wrap items-center gap-3\">\n              {CATEGORY_FILTERS.map((category) => (\n                <span key={category} className=\"flex items-center gap-1 text-xs text-slate-400\">\n                  <span\n                    className={cn(\n                      \"h-2.5 w-2.5 rounded-full\",\n                      CATEGORY_STYLES[category].legend\n                    )}\n                  />\n                  {category}\n                </span>\n              ))}\n            </div>\n          </div>\n        </Card>\n\n        <aside className=\"flex flex-col gap-4\">\n          <RightRailCard\n            title=\"Up next\"\n            icon={<CalendarDays className=\"h-4 w-4 text-emerald-300\" />}\n            description=\"Next six items across routines, meds, and Google.\"\n          >\n            {upNextItems.length === 0 ? (\n              <p className=\"text-sm text-slate-400\">\n                Nothing upcoming — clear filters or add via Smart add.\n              </p>\n            ) : (\n              <ul className=\"space-y-3\">\n                {upNextItems.map((event) => (\n                  <li\n                    key={event.id}\n                    className=\"rounded-2xl border border-slate-800/80 bg-slate-900/60 p-3 text-xs text-slate-300\"\n                  >\n                    <div className=\"flex items-center justify-between gap-2\">\n                      <div>\n                        <p className=\"font-medium text-slate-100\">{event.title}</p>\n                        <p className=\"text-[11px] text-slate-400\">\n                          {formatTimeRange(event.start, event.end)} · {event.source}\n                        </p>\n                      </div>\n                      <Badge\n                        variant=\"secondary\"\n                        className={cn(\n                          \"rounded-xl border-none px-2 py-0.5 text-[10px] font-semibold uppercase tracking-wide\",\n                          CATEGORY_STYLES[event.category].chip\n                        )}\n                      >\n                        {event.category}\n                      </Badge>\n                    </div>\n                    <div className=\"mt-3 flex flex-wrap gap-2\">\n                      <Button\n                        size=\"sm\"\n                        variant=\"outline\"\n                        className=\"h-8 rounded-xl border-slate-700 px-3 text-[11px]\"\n                        onClick={() => handleOpenEventModal(event)}\n                      >\n                        Open\n                      </Button>\n                      <Button\n                        size=\"sm\"\n                        variant=\"outline\"\n                        className=\"h-8 rounded-xl border-slate-700 px-3 text-[11px]\"\n                        onClick={() => handleQuickAction(event, \"snooze\")}\n                      >\n                        Snooze 15m\n                      </Button>\n                      {event.canComplete ? (\n                        <Button\n                          size=\"sm\"\n                          variant=\"outline\"\n                          className=\"h-8 rounded-xl border-slate-700 px-3 text-[11px]\"\n                          onClick={() => handleQuickAction(event, \"done\")}\n                        >\n                          Done\n                        </Button>\n                      ) : null}\n                      <Button\n                        size=\"sm\"\n                        variant=\"outline\"\n                        className=\"h-8 rounded-xl border-slate-700 px-3 text-[11px]\"\n                        onClick={() => handleQuickAction(event, \"nudge\")}\n                      >\n                        Nudge\n                      </Button>\n                    </div>\n                  </li>\n                ))}\n              </ul>\n            )}\n          </RightRailCard>\n\n          <RightRailCard\n            title=\"Beno suggestions\"\n            icon={<Sparkles className=\"h-4 w-4 text-sky-300\" />}\n            description=\"AI nudges tuned to current routines and obligations.\"\n          >\n            <ul className=\"space-y-3\">\n              {suggestions.map((item) => (\n                <li\n                  key={item.id}\n                  className=\"rounded-2xl border border-slate-800/80 bg-slate-900/60 p-3 text-xs text-slate-300\"\n                >\n                  <p className=\"font-medium text-slate-100\">{item.title}</p>\n                  <p className=\"mt-1 text-[11px] text-slate-400\">{item.detail}</p>\n                  <div className=\"mt-3 flex flex-wrap gap-2\">\n                    <Button\n                      size=\"sm\"\n                      className=\"h-8 rounded-xl bg-emerald-500 px-3 text-[11px] text-white hover:bg-emerald-500/90\"\n                      onClick={() => toast({ title: \"Suggestion accepted\", description: item.title })}\n                    >\n                      Accept\n                    </Button>\n                    <Button\n                      size=\"sm\"\n                      variant=\"outline\"\n                      className=\"h-8 rounded-xl border-slate-700 px-3 text-[11px]\"\n                      onClick={() => toast({ title: \"Simulate\", description: `${item.title} → impacts forecast` })}\n                    >\n                      Simulate\n                    </Button>\n                    <Button\n                      size=\"sm\"\n                      variant=\"ghost\"\n                      className=\"h-8 rounded-xl px-3 text-[11px] text-slate-400\"\n                      onClick={() => toast({ title: \"Suggestion dismissed\", description: item.title })}\n                    >\n                      Dismiss\n                    </Button>\n                  </div>\n                </li>\n              ))}\n            </ul>\n          </RightRailCard>\n\n          <RightRailCard\n            title=\"Conflicts\"\n            icon={<Bell className=\"h-4 w-4 text-rose-300\" />}\n            description=\"Overlaps or travel buffers under 15 minutes.\"\n          >\n            <ul className=\"space-y-3\">\n              {conflicts.map((conflict) => (\n                <li\n                  key={conflict.id}\n                  className=\"rounded-2xl border border-rose-500/20 bg-rose-500/10 p-3 text-xs text-rose-100\"\n                >\n                  <p className=\"font-semibold\">{conflict.title}</p>\n                  <p className=\"mt-1 text-[11px] text-rose-200/80\">{conflict.detail}</p>\n                  <div className=\"mt-3 flex items-center justify-between gap-2\">\n                    <Button\n                      size=\"sm\"\n                      className=\"h-8 rounded-xl bg-rose-500 px-3 text-[11px] text-white hover:bg-rose-500/90\"\n                      onClick={() => toast({ title: \"Auto-resolve running\", description: conflict.title })}\n                    >\n                      Auto-resolve\n                    </Button>\n                    <Button\n                      size=\"sm\"\n                      variant=\"ghost\"\n                      className=\"h-8 rounded-xl px-3 text-[11px] text-rose-100/80 hover:text-rose-50\"\n                      onClick={() => toast({ title: \"Conflict details\", description: conflict.detail })}\n                    >\n                      Review\n                    </Button>\n                  </div>\n                </li>\n              ))}\n            </ul>\n          </RightRailCard>\n        </aside>\n      </div>\n      <Button\n        size=\"lg\"\n        className=\"fixed bottom-10 right-10 z-40 rounded-3xl bg-gradient-to-r from-emerald-500 via-sky-500 to-indigo-500 px-6 text-white shadow-2xl shadow-emerald-900/40 hover:shadow-emerald-900/60\"\n        onClick={() => handleOpenEventModal()}\n      >\n        <Plus className=\"mr-2 h-5 w-5\" /> New event\n      </Button>\n\n      <ManageSyncDialog\n        open={isSyncOpen}\n        onOpenChange={setIsSyncOpen}\n        calendars={manageSyncCalendars}\n        isGoogleConnected={isGoogleConnected}\n        onConnectionChange={setIsGoogleConnected}\n        isLoading={isLoadingSync}\n        onRefresh={() => {\n          setIsLoadingSync(true);\n          setTimeout(() => {\n            setIsLoadingSync(false);\n            setIsSyncOpen(false);\n            toast({ title: \"Calendar refreshed\" });\n          }, 800);\n        }}\n      />\n\n      <NlpDialog\n        open={isNlpOpen}\n        onOpenChange={setIsNlpOpen}\n        text={nlpText}\n        onTextChange={setNlpText}\n        onConfirm={() => {\n          toast({ title: \"Event created\", description: \"Gym blocked for 30 minutes\" });\n          setIsNlpOpen(false);\n        }}\n        onEdit={() => {\n          handleOpenEventModal();\n          setIsNlpOpen(false);\n        }}\n      />\n\n      <RoutineBuilderSheet\n        open={isRoutineDrawerOpen}\n        onOpenChange={setIsRoutineDrawerOpen}\n        onSave={() => {\n          toast({ title: \"Routine scheduled\", description: \"Ops reset now recurring.\" });\n        }}\n      />\n\n      <FiltersSheet\n        open={isFiltersOpen}\n        onOpenChange={setIsFiltersOpen}\n        categoryFilters={categoryFilters}\n        onCategoryToggle={(category) =>\n          setCategoryFilters((prev) => ({\n            ...prev,\n            [category]: !prev[category],\n          }))\n        }\n        sourceFilters={sourceFilters}\n        onSourceToggle={(source) =>\n          setSourceFilters((prev) => ({\n            ...prev,\n            [source]: !prev[source],\n          }))\n        }\n        onSavePreset={() => toast({ title: \"Preset saved\", description: \"Finance + Care\" })}\n      />\n\n      <EventModal\n        open={isEventModalOpen}\n        onOpenChange={setIsEventModalOpen}\n        event={selectedEvent}\n        onSave={(mode) => {\n          toast({ title: mode === \"nudge\" ? \"Saved & nudged\" : \"Event saved\" });\n          setIsEventModalOpen(false);\n        }}\n        onDelete={() => {\n          toast({ title: \"Event deleted\" });\n          setIsEventModalOpen(false);\n        }}\n        onShare={(channel) => toast({ title: `Shared via ${channel}` })}\n      />\n\n      <LinkedEntityDrawers\n        entity={activeLink}\n        onClose={() => setActiveLink(null)}\n        onOpenDestination={(destination) =>\n          toast({\n            title: `Opening ${destination}`,\n            description: \"Navigation would occur in-app.\",\n          })\n        }\n      />\n\n      {activeContextMenu ? (\n        <ContextMenuCard\n          x={activeContextMenu.x}\n          y={activeContextMenu.y}\n          event={activeContextMenu.event}\n          onOpen={handleOpenEventModal}\n          onClose={() => setActiveContextMenu(null)}\n          onQuickAction={handleQuickAction}\n        />\n      ) : null}\n    </div>\n  );\n}\n\nfunction KeyboardHint({ label }: { label: string }) {\n  return (\n    <span className=\"rounded-md border border-slate-700 bg-slate-900/60 px-1.5 py-0.5 font-mono text-[10px] uppercase text-slate-200\">\n      {label}\n    </span>\n  );\n}\n\nfunction RightRailCard({\n  title,\n  description,\n  icon,\n  children,\n}: {\n  title: string;\n  description: string;\n  icon: ReactNode;\n  children: ReactNode;\n}) {\n  return (\n    <Card className=\"rounded-3xl border border-slate-900/60 bg-slate-950/80 shadow-2xl\">\n      <CardHeader className=\"space-y-2 border-b border-slate-800/70 px-5 py-5\">\n        <div className=\"flex items-center gap-2 text-sm font-semibold text-slate-100\">\n          <span className=\"flex h-8 w-8 items-center justify-center rounded-2xl bg-slate-900/70\">\n            {icon}\n          </span>\n          {title}\n        </div>\n        <p className=\"text-xs text-slate-400\">{description}</p>\n      </CardHeader>\n      <CardContent className=\"space-y-4 px-5 py-5\">\n        {children}\n      </CardContent>\n    </Card>\n  );\n}\nfunction Timeline({\n  days,\n  events,\n  hours,\n  nowMarker,\n  view,\n  calendarIsEmpty,\n  isGoogleConnected,\n  onCreate,\n  onHoverChange,\n  hoveredEventId,\n  onQuickAction,\n  onOpenEvent,\n  onContextMenu,\n  onLinkOpen,\n  onConnect,\n  onSmartAdd,\n  onRescheduled,\n}: {\n  days: { date: Date; label: string }[];\n  events: TimelineEvent[];\n  hours: number[];\n  nowMarker: { offset: number; date: Date } | null;\n  view: CalendarView;\n  calendarIsEmpty: boolean;\n  isGoogleConnected: boolean;\n  onCreate: () => void;\n  onHoverChange: (eventId: string | null) => void;\n  hoveredEventId: string | null;\n  onQuickAction: (event: TimelineEvent, action: \"snooze\" | \"done\" | \"nudge\") => void;\n  onOpenEvent: (event: TimelineEvent) => void;\n  onContextMenu: (event: TimelineEvent, e: MouseEvent<HTMLButtonElement>) => void;\n  onLinkOpen: (link: LinkedEntity) => void;\n  onConnect: () => void;\n  onSmartAdd: () => void;\n  onRescheduled: (title: string) => void;\n}) {\n  const totalMinutes = HOURS_END - HOURS_START;\n  const columns = days.map(({ date }) =>\n    events.filter((event) => isSameDay(new Date(event.start), date))\n  );\n\n  const gridStyle: CSSProperties = {\n    gridTemplateColumns: `72px repeat(${days.length}, minmax(0, 1fr))`,\n  };\n\n  return (\n    <div className=\"relative\">\n      <div className=\"grid h-[720px]\" style={gridStyle}>\n        <div className=\"relative border-r border-slate-800/70 bg-slate-950/70\">\n          {hours.map((minute) => {\n            const hour = Math.floor(minute / 60);\n            const label = `${(hour % 12) || 12}${hour >= 12 ? \"p\" : \"a\"}`;\n            return (\n              <div\n                key={minute}\n                className=\"h-[calc(100%/16)] border-b border-slate-900/40 px-3 text-[10px] uppercase tracking-wide text-slate-500\"\n              >\n                <div className=\"sticky top-3 translate-y-[-50%]\">{label}</div>\n              </div>\n            );\n          })}\n        </div>\n\n        {days.map((day, index) => (\n          <div\n            key={day.label}\n            className=\"relative border-l border-slate-800/70 bg-gradient-to-b from-slate-950/60 via-slate-950/30 to-slate-950/60\"\n            onDoubleClick={onCreate}\n          >\n            <div className=\"flex items-center justify-between border-b border-slate-800/70 bg-slate-950/80 px-4 py-3 text-xs text-slate-400\">\n              <span className=\"font-medium text-slate-100\">{day.label}</span>\n              <span>{new Intl.DateTimeFormat(undefined, { weekday: \"short\" }).format(day.date)}</span>\n            </div>\n            <div className=\"absolute inset-0\">\n              {hours.map((minute) => (\n                <div\n                  key={`${day.label}-${minute}`}\n                  className=\"h-[calc(100%/16)] border-b border-dashed border-slate-900/40\"\n                />\n              ))}\n            </div>\n\n            {nowMarker && isSameDay(nowMarker.date, day.date) ? (\n              <div\n                className=\"pointer-events-none absolute left-0 right-0 z-10 flex items-center\"\n                style={{ top: `${nowMarker.offset}%` }}\n              >\n                <span className=\"h-[1px] flex-1 bg-rose-500/80\" />\n                <span className=\"ml-2 flex items-center gap-1 rounded-full bg-rose-500/20 px-2 py-0.5 text-[10px] text-rose-100\">\n                  Now\n                </span>\n              </div>\n            ) : null}\n\n            <div className=\"relative h-full px-3 py-4\">\n              {columns[index].map((event) => {\n                const startMinutes = parseMinutesFromIso(event.start);\n                const endMinutes = parseMinutesFromIso(event.end);\n                const top = ((startMinutes - HOURS_START) / totalMinutes) * 100;\n                const height = Math.max(((endMinutes - startMinutes) / totalMinutes) * 100, 6);\n\n                return (\n                  <div\n                    key={event.id}\n                    className=\"absolute left-3 right-3\"\n                    style={{ top: `${top}%`, height: `${height}%` }}\n                  >\n                    <button\n                      className={cn(\n                        \"group flex h-full w-full flex-col justify-between rounded-2xl border px-3 py-2 text-left shadow-lg transition\",\n                        CATEGORY_STYLES[event.category].chip,\n                        hoveredEventId === event.id && \"ring-2 ring-white/40\"\n                      )}\n                      onMouseEnter={() => onHoverChange(event.id)}\n                      onMouseLeave={() => onHoverChange(null)}\n                      onFocus={() => onHoverChange(event.id)}\n                      onBlur={() => onHoverChange(null)}\n                      onClick={() => onOpenEvent(event)}\n                      onContextMenu={(e) => onContextMenu(event, e)}\n                      draggable\n                      onDragEnd={() => onRescheduled(event.title)}\n                    >\n                      <div className=\"flex items-center justify-between text-[10px] uppercase tracking-wide\">\n                        <span>{formatTimeRange(event.start, event.end)}</span>\n                        <span className=\"flex items-center gap-1\">\n                          <span className={cn(\"h-1.5 w-1.5 rounded-full\", CATEGORY_STYLES[event.category].dot)} />\n                          {event.source}\n                        </span>\n                      </div>\n                      <div>\n                        <p className=\"text-sm font-semibold leading-tight text-white\">{event.title}</p>\n                        {event.location ? (\n                          <p className=\"mt-1 flex items-center gap-1 text-[11px] text-slate-100/80\">\n                            <MapPin className=\"h-3 w-3\" /> {event.location}\n                          </p>\n                        ) : null}\n                      </div>\n                      <div className=\"mt-2 flex flex-wrap gap-2 text-[10px]\">\n                        <Button\n                          size=\"sm\"\n                          variant=\"secondary\"\n                          className=\"h-7 rounded-xl bg-black/30 px-3 text-[10px] text-white backdrop-blur\"\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            onQuickAction(event, \"snooze\");\n                          }}\n                        >\n                          Snooze\n                        </Button>\n                        {event.canComplete ? (\n                          <Button\n                            size=\"sm\"\n                            variant=\"secondary\"\n                            className=\"h-7 rounded-xl bg-black/30 px-3 text-[10px] text-white backdrop-blur\"\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              onQuickAction(event, \"done\");\n                            }}\n                          >\n                            Done\n                          </Button>\n                        ) : null}\n                        <Button\n                          size=\"sm\"\n                          variant=\"secondary\"\n                          className=\"h-7 rounded-xl bg-black/30 px-3 text-[10px] text-white backdrop-blur\"\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            onQuickAction(event, \"nudge\");\n                          }}\n                        >\n                          Nudge\n                        </Button>\n                      </div>\n                    </button>\n                    {hoveredEventId === event.id ? (\n                      <div className=\"mt-2 w-full rounded-2xl border border-slate-800/70 bg-slate-950/90 p-3 text-xs text-slate-200 shadow-xl\">\n                        <div className=\"flex items-center justify-between gap-2 text-[11px] text-slate-400\">\n                          <span>{formatTimeRange(event.start, event.end)}</span>\n                          {event.location ? (\n                            <span className=\"flex items-center gap-1\">\n                              <MapPin className=\"h-3 w-3\" /> {event.location}\n                            </span>\n                          ) : null}\n                        </div>\n                        <p className=\"mt-2 text-sm font-semibold text-white\">{event.title}</p>\n                        {event.description ? (\n                          <p className=\"mt-1 text-[11px] text-slate-400\">{event.description}</p>\n                        ) : null}\n                        {event.links && event.links.length > 0 ? (\n                          <div className=\"mt-2 space-y-2\">\n                            {event.links.map((link, indexLink) => (\n                              <button\n                                key={`${event.id}-${link.type}-${indexLink}`}\n                                className=\"flex w-full items-center justify-between rounded-xl border border-slate-800/80 bg-slate-900/50 px-3 py-2 text-left text-[11px] text-slate-200 transition hover:border-slate-700\"\n                                onClick={(e) => {\n                                  e.stopPropagation();\n                                  onLinkOpen(link);\n                                }}\n                              >\n                                <span className=\"flex items-center gap-2\">\n                                  <LinkIcon className=\"h-3 w-3\" />\n                                  {link.type === \"bill\" ? (\n                                    <span>\n                                      {link.name} · {link.amount}\n                                    </span>\n                                  ) : link.type === \"document\" ? (\n                                    <span>{link.name}</span>\n                                  ) : link.type === \"medication\" ? (\n                                    <span>{link.name}</span>\n                                  ) : (\n                                    <span>{link.name}</span>\n                                  )}\n                                </span>\n                                <ChevronRight className=\"h-3 w-3\" />\n                              </button>\n                            ))}\n                          </div>\n                        ) : null}\n                        <div className=\"mt-3 flex flex-wrap gap-2\">\n                          <Button\n                            size=\"sm\"\n                            variant=\"outline\"\n                            className=\"h-8 rounded-xl border-slate-700 px-3 text-[11px]\"\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              onQuickAction(event, \"snooze\");\n                            }}\n                          >\n                            Snooze 15m\n                          </Button>\n                          {event.canComplete ? (\n                            <Button\n                              size=\"sm\"\n                              variant=\"outline\"\n                              className=\"h-8 rounded-xl border-slate-700 px-3 text-[11px]\"\n                              onClick={(e) => {\n                                e.stopPropagation();\n                                onQuickAction(event, \"done\");\n                              }}\n                            >\n                              Done\n                            </Button>\n                          ) : null}\n                          <Button\n                            size=\"sm\"\n                            variant=\"outline\"\n                            className=\"h-8 rounded-xl border-slate-700 px-3 text-[11px]\"\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              onQuickAction(event, \"nudge\");\n                            }}\n                          >\n                            Nudge\n                          </Button>\n                        </div>\n                      </div>\n                    ) : null}\n                  </div>\n                );\n              })}\n\n              {calendarIsEmpty ? (\n                <div className=\"absolute inset-0 flex items-center justify-center\">\n                  <div className=\"rounded-3xl border border-slate-800/70 bg-slate-950/80 p-10 text-center text-sm text-slate-400\">\n                    {isGoogleConnected ? (\n                      <>\n                        <p className=\"font-semibold text-slate-100\">Nothing scheduled for this view.</p>\n                        <p className=\"mt-2 text-xs text-slate-500\">\n                          Clear filters or try Smart add to draft something fast.\n                        </p>\n                        <div className=\"mt-4 flex justify-center gap-3\">\n                          <Button size=\"sm\" className=\"h-9 rounded-2xl bg-indigo-500 px-4 text-white\" onClick={onCreate}>\n                            <Plus className=\"mr-2 h-4 w-4\" /> Quick event\n                          </Button>\n                          <Button\n                            size=\"sm\"\n                            variant=\"outline\"\n                            className=\"h-9 rounded-2xl border-slate-700 px-4 text-slate-200\"\n                            onClick={onSmartAdd}\n                          >\n                            Smart add\n                          </Button>\n                        </div>\n                      </>\n                    ) : (\n                      <>\n                        <p className=\"font-semibold text-slate-100\">No calendar connected</p>\n                        <p className=\"mt-2 text-xs text-slate-500\">\n                          Connect Google or use Smart add to start scheduling.\n                        </p>\n                        <div className=\"mt-4 flex justify-center gap-3\">\n                          <Button size=\"sm\" className=\"h-9 rounded-2xl bg-emerald-500 px-4 text-white\" onClick={onConnect}>\n                            Connect Google\n                          </Button>\n                          <Button\n                            size=\"sm\"\n                            variant=\"outline\"\n                            className=\"h-9 rounded-2xl border-slate-700 px-4 text-slate-200\"\n                            onClick={onSmartAdd}\n                          >\n                            Smart add\n                          </Button>\n                        </div>\n                      </>\n                    )}\n                  </div>\n                </div>\n              ) : null}\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\nfunction MonthGrid({\n  events,\n  onCreate,\n  onOpenEvent,\n}: {\n  events: TimelineEvent[];\n  onCreate: () => void;\n  onOpenEvent: (event: TimelineEvent) => void;\n}) {\n  const grouped = events.reduce<Record<string, TimelineEvent[]>>((acc, event) => {\n    const key = new Date(event.start).toISOString().split(\"T\")[0];\n    if (!acc[key]) {\n      acc[key] = [];\n    }\n    acc[key].push(event);\n    return acc;\n  }, {});\n\n  const weeks = 4;\n  const days = 7;\n\n  return (\n    <div className=\"p-6\">\n      <div className=\"grid grid-cols-7 gap-2 text-xs uppercase tracking-wide text-slate-500\">\n        {Array.from({ length: days }).map((_, index) => (\n          <div key={index} className=\"text-center\">\n            {new Intl.DateTimeFormat(undefined, { weekday: \"short\" }).format(\n              new Date(Date.UTC(2024, 5, 24 + index))\n            )}\n          </div>\n        ))}\n      </div>\n      <div className=\"mt-3 grid grid-cols-7 gap-2\">\n        {Array.from({ length: weeks * days }).map((_, index) => {\n          const date = new Date(Date.UTC(2024, 5, 24 + index));\n          const key = date.toISOString().split(\"T\")[0];\n          const dayEvents = grouped[key] ?? [];\n          return (\n            <div\n              key={key}\n              className=\"flex min-h-[120px] flex-col rounded-2xl border border-slate-800/70 bg-slate-950/60 p-3 text-xs text-slate-400 transition hover:border-slate-700\"\n              onDoubleClick={onCreate}\n            >\n              <div className=\"flex items-center justify-between text-[11px] text-slate-500\">\n                <span>{date.getUTCDate()}</span>\n                <button\n                  className=\"rounded-lg border border-slate-700 px-1.5 py-0.5 text-[10px] text-slate-300\"\n                  onClick={onCreate}\n                >\n                  Add\n                </button>\n              </div>\n              <div className=\"mt-2 space-y-2\">\n                {dayEvents.slice(0, 3).map((event) => (\n                  <button\n                    key={event.id}\n                    onClick={() => onOpenEvent(event)}\n                    className={cn(\n                      \"flex w-full items-center justify-between rounded-xl border px-2 py-1 text-left text-[11px]\",\n                      CATEGORY_STYLES[event.category].chip\n                    )}\n                  >\n                    <span className=\"truncate text-white\">{event.title}</span>\n                    <span className=\"ml-2 shrink-0 text-[10px] text-white/70\">\n                      {new Intl.DateTimeFormat(undefined, { hour: \"numeric\" }).format(\n                        new Date(event.start)\n                      )}\n                    </span>\n                  </button>\n                ))}\n                {dayEvents.length > 3 ? (\n                  <button className=\"text-[10px] text-indigo-300\" onClick={() => onOpenEvent(dayEvents[0])}>\n                    +{dayEvents.length - 3} more\n                  </button>\n                ) : null}\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\nfunction ManageSyncDialog({\n  open,\n  onOpenChange,\n  calendars,\n  isGoogleConnected,\n  onConnectionChange,\n  isLoading,\n  onRefresh,\n}: {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  calendars: { id: string; name: string; color: string }[];\n  isGoogleConnected: boolean;\n  onConnectionChange: (value: boolean) => void;\n  isLoading: boolean;\n  onRefresh: () => void;\n}) {\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-2xl rounded-3xl border border-slate-800 bg-slate-950/95 text-slate-100\">\n        <DialogHeader className=\"space-y-1\">\n          <DialogTitle className=\"flex items-center gap-2 text-xl text-white\">\n            <CalendarCheck className=\"h-5 w-5 text-emerald-400\" /> Manage sync\n          </DialogTitle>\n          <DialogDescription className=\"text-sm text-slate-400\">\n            Connect Google then choose which calendars Beno should mirror.\n          </DialogDescription>\n        </DialogHeader>\n        <div className=\"space-y-6\">\n          <div className=\"flex items-center justify-between rounded-2xl border border-slate-800/70 bg-slate-900/60 px-4 py-3\">\n            <div>\n              <p className=\"text-sm font-medium text-slate-100\">Google account</p>\n              <p className=\"text-xs text-slate-400\">\n                {isGoogleConnected ? \"Connected as ceo@founder.hq\" : \"Not connected\"}\n              </p>\n            </div>\n            <Button\n              size=\"sm\"\n              className=\"h-9 rounded-2xl bg-indigo-500 px-4 text-white\"\n              onClick={() => onConnectionChange(!isGoogleConnected)}\n            >\n              {isGoogleConnected ? \"Disconnect\" : \"Connect\"}\n            </Button>\n          </div>\n\n          <div className=\"space-y-4\">\n            <div className=\"flex items-center justify-between text-sm text-slate-300\">\n              <span>Calendars</span>\n              <Button size=\"sm\" variant=\"ghost\" className=\"h-8 rounded-xl px-3 text-[11px] text-slate-400\">\n                Select all\n              </Button>\n            </div>\n            <div className=\"grid gap-3\">\n              {calendars.map((calendar) => (\n                <label\n                  key={calendar.id}\n                  className=\"flex items-center justify-between rounded-2xl border border-slate-800/70 bg-slate-900/60 px-4 py-3 text-sm\"\n                >\n                  <span className=\"flex items-center gap-2\">\n                    <span className={cn(\"h-3 w-3 rounded-full\", calendar.color)} />\n                    {calendar.name}\n                  </span>\n                  <Switch defaultChecked={calendar.id !== \"family\"} />\n                </label>\n              ))}\n            </div>\n          </div>\n\n          <div className=\"grid gap-4 rounded-2xl border border-slate-800/70 bg-slate-900/60 p-4\">\n            <div>\n              <Label className=\"text-xs uppercase tracking-wide text-slate-400\">Default reminder</Label>\n              <div className=\"mt-2 flex items-center gap-3 text-sm text-slate-200\">\n                <Button size=\"sm\" variant=\"outline\" className=\"h-8 rounded-xl border-slate-700 px-3 text-[11px]\">\n                  15 minutes before\n                </Button>\n                <Button size=\"sm\" variant=\"outline\" className=\"h-8 rounded-xl border-slate-700 px-3 text-[11px]\">\n                  + Add\n                </Button>\n              </div>\n            </div>\n            <div>\n              <Label className=\"text-xs uppercase tracking-wide text-slate-400\">Conflict rule</Label>\n              <p className=\"mt-2 text-sm text-slate-300\">\n                Hold at least <strong>15 minutes</strong> between off-site events.\n              </p>\n            </div>\n          </div>\n        </div>\n        <DialogFooter className=\"mt-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between\">\n          <p className=\"flex items-center gap-2 text-xs text-slate-500\">\n            {isLoading ? <Loader2 className=\"h-3 w-3 animate-spin\" /> : null}\n            Refresh pulls latest Google events immediately.\n          </p>\n          <div className=\"flex gap-2\">\n            <Button\n              variant=\"ghost\"\n              className=\"h-9 rounded-2xl px-4 text-slate-300\"\n              onClick={() => onOpenChange(false)}\n            >\n              Cancel\n            </Button>\n            <Button\n              className=\"h-9 rounded-2xl bg-emerald-500 px-4 text-white\"\n              onClick={onRefresh}\n              disabled={isLoading}\n            >\n              {isLoading ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : \"Save & refresh\"}\n            </Button>\n          </div>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\nfunction NlpDialog({\n  open,\n  onOpenChange,\n  text,\n  onTextChange,\n  onConfirm,\n  onEdit,\n}: {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  text: string;\n  onTextChange: (value: string) => void;\n  onConfirm: () => void;\n  onEdit: () => void;\n}) {\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-xl rounded-3xl border border-slate-800 bg-slate-950/95 text-slate-100\">\n        <DialogHeader className=\"space-y-1\">\n          <DialogTitle className=\"flex items-center gap-2 text-xl text-white\">\n            <Sparkles className=\"h-5 w-5 text-sky-300\" /> Smart add\n          </DialogTitle>\n          <DialogDescription className=\"text-sm text-slate-400\">\n            Type in plain English. Beno parses time, duration, links, and reminders.\n          </DialogDescription>\n        </DialogHeader>\n        <div className=\"space-y-4\">\n          <div>\n            <Label className=\"text-xs uppercase tracking-wide text-slate-400\">What do you want to schedule?</Label>\n            <Textarea\n              value={text}\n              onChange={(event) => onTextChange(event.target.value)}\n              className=\"mt-2 min-h-[100px] rounded-2xl border-slate-800 bg-slate-900/60 text-sm text-slate-200\"\n              placeholder=\"Ex: Block 30m for gym tomorrow at 7am\"\n            />\n          </div>\n          <div className=\"rounded-2xl border border-slate-800/70 bg-slate-900/60 p-4 text-sm text-slate-200\">\n            <p className=\"text-xs uppercase tracking-wide text-slate-400\">Preview</p>\n            <div className=\"mt-2 space-y-1\">\n              <p className=\"font-semibold text-white\">Gym session</p>\n              <p className=\"text-xs text-slate-400\">Tue · 7:00 – 7:30 AM · Automations</p>\n              <p className=\"text-xs text-slate-400\">Reminder: 15 minutes before · Location: Home gym</p>\n            </div>\n          </div>\n        </div>\n        <DialogFooter className=\"mt-4 flex flex-col gap-3 sm:flex-row sm:justify-end\">\n          <Button\n            variant=\"ghost\"\n            className=\"h-9 rounded-2xl px-4 text-slate-300\"\n            onClick={onEdit}\n          >\n            Edit in modal\n          </Button>\n          <Button\n            className=\"h-9 rounded-2xl bg-emerald-500 px-4 text-white\"\n            onClick={onConfirm}\n          >\n            Confirm event\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\nfunction RoutineBuilderSheet({\n  open,\n  onOpenChange,\n  onSave,\n}: {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  onSave: () => void;\n}) {\n  return (\n    <Sheet open={open} onOpenChange={onOpenChange}>\n      <SheetContent className=\"w-full overflow-y-auto border-l border-slate-800 bg-slate-950/95 text-slate-100 sm:max-w-xl\">\n        <SheetHeader>\n          <SheetTitle className=\"flex items-center gap-2 text-xl text-white\">\n            <CalendarPlus className=\"h-5 w-5 text-indigo-300\" /> Routine builder\n          </SheetTitle>\n          <SheetDescription className=\"text-sm text-slate-400\">\n            Define cadence, steps, and automation nudges without leaving the calendar.\n          </SheetDescription>\n        </SheetHeader>\n        <div className=\"mt-6 space-y-6\">\n          <div className=\"space-y-2\">\n            <Label className=\"text-xs uppercase tracking-wide text-slate-400\">Routine name</Label>\n            <Input className=\"rounded-2xl border-slate-800 bg-slate-900/60 text-slate-200\" defaultValue=\"Ops reset\" />\n          </div>\n          <div className=\"space-y-2\">\n            <Label className=\"text-xs uppercase tracking-wide text-slate-400\">Cadence</Label>\n            <div className=\"flex flex-wrap gap-2\">\n              {[\n                \"Every weekday\",\n                \"Mon / Wed / Fri\",\n                \"Weekly\",\n                \"Custom RRULE\",\n              ].map((option) => (\n                <Button key={option} size=\"sm\" variant=\"outline\" className=\"h-9 rounded-2xl border-slate-700 px-4 text-[11px]\">\n                  {option}\n                </Button>\n              ))}\n            </div>\n          </div>\n          <div className=\"space-y-3\">\n            <Label className=\"text-xs uppercase tracking-wide text-slate-400\">Steps</Label>\n            <div className=\"space-y-2 rounded-2xl border border-slate-800/70 bg-slate-900/60 p-4 text-sm text-slate-200\">\n              <div className=\"flex items-center justify-between\">\n                <span>Audit automation queue</span>\n                <Button size=\"sm\" variant=\"ghost\" className=\"h-8 rounded-xl px-3 text-[11px] text-slate-400\">\n                  Edit\n                </Button>\n              </div>\n              <div className=\"flex items-center justify-between\">\n                <span>Send summary to Emma</span>\n                <Button size=\"sm\" variant=\"ghost\" className=\"h-8 rounded-xl px-3 text-[11px] text-slate-400\">\n                  Edit\n                </Button>\n              </div>\n              <Button size=\"sm\" variant=\"outline\" className=\"h-8 rounded-xl border-slate-700 px-3 text-[11px]\">\n                + Add step\n              </Button>\n            </div>\n          </div>\n          <div className=\"space-y-2\">\n            <Label className=\"text-xs uppercase tracking-wide text-slate-400\">Automations</Label>\n            <div className=\"rounded-2xl border border-slate-800/70 bg-slate-900/60 p-4 text-sm text-slate-200\">\n              <p className=\"text-xs text-slate-400\">Attach pre or post reminders:</p>\n              <div className=\"mt-3 flex flex-wrap gap-2\">\n                <Button size=\"sm\" variant=\"outline\" className=\"h-8 rounded-xl border-slate-700 px-3 text-[11px]\">\n                  Slack digest\n                </Button>\n                <Button size=\"sm\" variant=\"outline\" className=\"h-8 rounded-xl border-slate-700 px-3 text-[11px]\">\n                  Email recap\n                </Button>\n                <Button size=\"sm\" variant=\"outline\" className=\"h-8 rounded-xl border-slate-700 px-3 text-[11px]\">\n                  Add meds\n                </Button>\n              </div>\n            </div>\n          </div>\n        </div>\n        <SheetFooter className=\"mt-6 flex flex-col gap-3 sm:flex-row sm:justify-end\">\n          <Button\n            variant=\"ghost\"\n            className=\"h-9 rounded-2xl px-4 text-slate-300\"\n            onClick={() => onOpenChange(false)}\n          >\n            Close\n          </Button>\n          <Button\n            className=\"h-9 rounded-2xl bg-emerald-500 px-4 text-white\"\n            onClick={() => {\n              onSave();\n              onOpenChange(false);\n            }}\n          >\n            Save routine\n          </Button>\n        </SheetFooter>\n      </SheetContent>\n    </Sheet>\n  );\n}\nfunction FiltersSheet({\n  open,\n  onOpenChange,\n  categoryFilters,\n  onCategoryToggle,\n  sourceFilters,\n  onSourceToggle,\n  onSavePreset,\n}: {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  categoryFilters: Record<EventCategory, boolean>;\n  onCategoryToggle: (category: EventCategory) => void;\n  sourceFilters: Record<(typeof SOURCE_FILTERS)[number], boolean>;\n  onSourceToggle: (source: (typeof SOURCE_FILTERS)[number]) => void;\n  onSavePreset: () => void;\n}) {\n  return (\n    <Sheet open={open} onOpenChange={onOpenChange}>\n      <SheetContent className=\"w-full border-l border-slate-800 bg-slate-950/95 text-slate-100 sm:max-w-md\">\n        <SheetHeader>\n          <SheetTitle className=\"flex items-center gap-2 text-xl text-white\">\n            <Filter className=\"h-5 w-5 text-emerald-300\" /> Filters\n          </SheetTitle>\n          <SheetDescription className=\"text-sm text-slate-400\">\n            Toggle by category or source. Save presets for quick switching.\n          </SheetDescription>\n        </SheetHeader>\n        <div className=\"mt-6 space-y-6\">\n          <div className=\"space-y-3\">\n            <Label className=\"text-xs uppercase tracking-wide text-slate-400\">Categories</Label>\n            <ScrollArea className=\"h-48 rounded-2xl border border-slate-800/70 bg-slate-900/60 p-4\">\n              <div className=\"space-y-3\">\n                {CATEGORY_FILTERS.map((category) => (\n                  <label key={category} className=\"flex items-center justify-between text-sm\">\n                    <span className=\"flex items-center gap-2 text-slate-200\">\n                      <span\n                        className={cn(\n                          \"h-2.5 w-2.5 rounded-full\",\n                          CATEGORY_STYLES[category].legend\n                        )}\n                      />\n                      {category}\n                    </span>\n                    <Switch checked={categoryFilters[category]} onCheckedChange={() => onCategoryToggle(category)} />\n                  </label>\n                ))}\n              </div>\n            </ScrollArea>\n          </div>\n          <div className=\"space-y-3\">\n            <Label className=\"text-xs uppercase tracking-wide text-slate-400\">Sources</Label>\n            <div className=\"space-y-2 rounded-2xl border border-slate-800/70 bg-slate-900/60 p-4\">\n              {SOURCE_FILTERS.map((source) => (\n                <label key={source} className=\"flex items-center justify-between text-sm text-slate-200\">\n                  <span>{source}</span>\n                  <Switch checked={sourceFilters[source]} onCheckedChange={() => onSourceToggle(source)} />\n                </label>\n              ))}\n            </div>\n          </div>\n          <div className=\"space-y-3\">\n            <Label className=\"text-xs uppercase tracking-wide text-slate-400\">Presets</Label>\n            <div className=\"flex flex-wrap gap-2\">\n              <Button size=\"sm\" variant=\"outline\" className=\"h-8 rounded-xl border-slate-700 px-3 text-[11px]\">\n                Clear\n              </Button>\n              <Button size=\"sm\" variant=\"outline\" className=\"h-8 rounded-xl border-slate-700 px-3 text-[11px]\">\n                Essentials\n              </Button>\n              <Button size=\"sm\" variant=\"outline\" className=\"h-8 rounded-xl border-slate-700 px-3 text-[11px]\">\n                Family\n              </Button>\n            </div>\n          </div>\n        </div>\n        <SheetFooter className=\"mt-6 flex flex-col gap-3 sm:flex-row sm:justify-end\">\n          <Button\n            variant=\"ghost\"\n            className=\"h-9 rounded-2xl px-4 text-slate-300\"\n            onClick={() => onOpenChange(false)}\n          >\n            Close\n          </Button>\n          <Button\n            className=\"h-9 rounded-2xl bg-emerald-500 px-4 text-white\"\n            onClick={() => {\n              onSavePreset();\n              onOpenChange(false);\n            }}\n          >\n            Save preset\n          </Button>\n        </SheetFooter>\n      </SheetContent>\n    </Sheet>\n  );\n}\nfunction EventModal({\n  open,\n  onOpenChange,\n  event,\n  onSave,\n  onDelete,\n  onShare,\n}: {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  event: TimelineEvent | null;\n  onSave: (mode: \"default\" | \"nudge\") => void;\n  onDelete: () => void;\n  onShare: (channel: string) => void;\n}) {\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-3xl rounded-3xl border border-slate-800 bg-slate-950/95 text-slate-100\">\n        <DialogHeader className=\"space-y-1\">\n          <DialogTitle className=\"flex items-center gap-2 text-xl text-white\">\n            <CalendarDays className=\"h-5 w-5 text-indigo-300\" /> {event ? \"Edit event\" : \"New event\"}\n          </DialogTitle>\n          <DialogDescription className=\"text-sm text-slate-400\">\n            Title, links, reminders, and nudges all live here. No navigation required.\n          </DialogDescription>\n        </DialogHeader>\n        <div className=\"grid gap-6 md:grid-cols-[1.4fr_1fr]\">\n          <div className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Label className=\"text-xs uppercase tracking-wide text-slate-400\">Title</Label>\n              <Input\n                className=\"rounded-2xl border-slate-800 bg-slate-900/60 text-slate-200\"\n                defaultValue={event?.title ?? \"\"}\n                placeholder=\"What are we scheduling?\"\n              />\n            </div>\n            <div className=\"grid gap-3 sm:grid-cols-2\">\n              <div className=\"space-y-2\">\n                <Label className=\"text-xs uppercase tracking-wide text-slate-400\">Start</Label>\n                <Input\n                  type=\"datetime-local\"\n                  className=\"rounded-2xl border-slate-800 bg-slate-900/60 text-slate-200\"\n                  defaultValue={event?.start.slice(0, 16)}\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label className=\"text-xs uppercase tracking-wide text-slate-400\">End</Label>\n                <Input\n                  type=\"datetime-local\"\n                  className=\"rounded-2xl border-slate-800 bg-slate-900/60 text-slate-200\"\n                  defaultValue={event?.end.slice(0, 16)}\n                />\n              </div>\n            </div>\n            <div className=\"space-y-2\">\n              <Label className=\"text-xs uppercase tracking-wide text-slate-400\">Location</Label>\n              <Input\n                className=\"rounded-2xl border-slate-800 bg-slate-900/60 text-slate-200\"\n                defaultValue={event?.location ?? \"\"}\n                placeholder=\"Optional location\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label className=\"text-xs uppercase tracking-wide text-slate-400\">Description</Label>\n              <Textarea\n                className=\"min-h-[120px] rounded-2xl border-slate-800 bg-slate-900/60 text-sm text-slate-200\"\n                defaultValue={event?.description ?? \"Agenda, links, prep notes...\"}\n              />\n            </div>\n            <div className=\"grid gap-3 sm:grid-cols-2\">\n              <div className=\"space-y-2\">\n                <Label className=\"text-xs uppercase tracking-wide text-slate-400\">Recurrence</Label>\n                <Button size=\"sm\" variant=\"outline\" className=\"h-9 w-full rounded-2xl border-slate-700 px-4 text-[11px]\">\n                  {event?.category === \"Automations\" ? \"Weekly\" : \"None\"}\n                </Button>\n              </div>\n              <div className=\"space-y-2\">\n                <Label className=\"text-xs uppercase tracking-wide text-slate-400\">Reminders</Label>\n                <div className=\"flex flex-wrap gap-2\">\n                  <Button size=\"sm\" variant=\"outline\" className=\"h-8 rounded-xl border-slate-700 px-3 text-[11px]\">\n                    15m before\n                  </Button>\n                  <Button size=\"sm\" variant=\"outline\" className=\"h-8 rounded-xl border-slate-700 px-3 text-[11px]\">\n                    Day prior\n                  </Button>\n                  <Button size=\"sm\" variant=\"outline\" className=\"h-8 rounded-xl border-slate-700 px-3 text-[11px]\">\n                    + Add\n                  </Button>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Label className=\"text-xs uppercase tracking-wide text-slate-400\">Type</Label>\n              <div className=\"flex flex-wrap gap-2\">\n                {CATEGORY_FILTERS.map((category) => (\n                  <Button\n                    key={category}\n                    size=\"sm\"\n                    variant=\"outline\"\n                    className={cn(\n                      \"h-8 rounded-xl border-slate-700 px-3 text-[11px]\",\n                      event?.category === category && \"border-white/70 bg-white/10 text-white\"\n                    )}\n                  >\n                    {category}\n                  </Button>\n                ))}\n              </div>\n            </div>\n            <div className=\"space-y-3\">\n              <Label className=\"text-xs uppercase tracking-wide text-slate-400\">Links</Label>\n              <div className=\"space-y-3 rounded-2xl border border-slate-800/70 bg-slate-900/60 p-4 text-sm text-slate-200\">\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"flex items-center gap-2\">\n                    <FileText className=\"h-4 w-4\" /> Attach document\n                  </span>\n                  <Button size=\"sm\" variant=\"ghost\" className=\"h-8 rounded-xl px-3 text-[11px] text-slate-400\">\n                    Vault\n                  </Button>\n                </div>\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"flex items-center gap-2\">\n                    <Repeat className=\"h-4 w-4\" /> Link bill or automation\n                  </span>\n                  <Button size=\"sm\" variant=\"ghost\" className=\"h-8 rounded-xl px-3 text-[11px] text-slate-400\">\n                    Finance\n                  </Button>\n                </div>\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"flex items-center gap-2\">\n                    <Pill className=\"h-4 w-4\" /> Medication or care\n                  </span>\n                  <Button size=\"sm\" variant=\"ghost\" className=\"h-8 rounded-xl px-3 text-[11px] text-slate-400\">\n                    Care\n                  </Button>\n                </div>\n              </div>\n            </div>\n            <div className=\"space-y-3\">\n              <Label className=\"text-xs uppercase tracking-wide text-slate-400\">Share</Label>\n              <div className=\"flex flex-wrap gap-2\">\n                {[\n                  { label: \"WhatsApp\", channel: \"WhatsApp\" },\n                  { label: \"PDF\", channel: \"PDF\" },\n                  { label: \"ICS\", channel: \"ICS\" },\n                ].map((item) => (\n                  <Button\n                    key={item.label}\n                    size=\"sm\"\n                    variant=\"outline\"\n                    className=\"h-8 rounded-xl border-slate-700 px-3 text-[11px]\"\n                    onClick={() => onShare(item.channel)}\n                  >\n                    <Share2 className=\"mr-2 h-3.5 w-3.5\" /> {item.label}\n                  </Button>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n        <DialogFooter className=\"mt-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between\">\n          <div className=\"flex gap-2\">\n            <Button\n              variant=\"ghost\"\n              className=\"h-9 rounded-2xl px-4 text-rose-300\"\n              onClick={onDelete}\n            >\n              <Trash2 className=\"mr-2 h-4 w-4\" /> Delete\n            </Button>\n          </div>\n          <div className=\"flex flex-col gap-3 sm:flex-row sm:gap-2\">\n            <Button\n              className=\"h-9 rounded-2xl bg-indigo-500 px-4 text-white\"\n              onClick={() => onSave(\"default\")}\n            >\n              Save\n            </Button>\n            <Button\n              className=\"h-9 rounded-2xl bg-emerald-500 px-4 text-white\"\n              onClick={() => onSave(\"nudge\")}\n            >\n              Save & nudge\n            </Button>\n          </div>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\nfunction LinkedEntityDrawers({\n  entity,\n  onClose,\n  onOpenDestination,\n}: {\n  entity: LinkedEntity | null;\n  onClose: () => void;\n  onOpenDestination: (destination: string) => void;\n}) {\n  return (\n    <>\n      <Sheet open={entity?.type === \"bill\"} onOpenChange={(open) => !open && onClose()}>\n        <SheetContent className=\"w-full border-l border-slate-800 bg-slate-950/95 text-slate-100 sm:max-w-md\">\n          <SheetHeader>\n            <SheetTitle className=\"flex items-center gap-2 text-lg text-white\">\n              <CalendarDays className=\"h-5 w-5 text-cyan-300\" /> Bill details\n            </SheetTitle>\n            <SheetDescription className=\"text-sm text-slate-400\">\n              Stay on this page—mark it paid or jump to Finance when ready.\n            </SheetDescription>\n          </SheetHeader>\n          {entity?.type === \"bill\" ? (\n            <div className=\"mt-6 space-y-4\">\n              <div className=\"rounded-2xl border border-slate-800/70 bg-slate-900/60 p-4 text-sm text-slate-200\">\n                <p className=\"text-xs uppercase tracking-wide text-slate-400\">Bill</p>\n                <p className=\"mt-1 text-lg font-semibold text-white\">{entity.name}</p>\n                <p className=\"text-sm text-slate-300\">Amount · {entity.amount}</p>\n                <p className=\"mt-2 text-xs text-slate-400\">Due {entity.due}</p>\n              </div>\n              <div className=\"flex items-center justify-between rounded-2xl border border-slate-800/70 bg-slate-900/60 p-4 text-sm text-slate-200\">\n                <span>Mark paid</span>\n                <Switch defaultChecked />\n              </div>\n              <div className=\"flex gap-2\">\n                <Button\n                  size=\"sm\"\n                  className=\"h-9 flex-1 rounded-2xl bg-emerald-500 px-4 text-white\"\n                  onClick={() => onOpenDestination(\"Finance overview\")}\n                >\n                  Open in Finance\n                </Button>\n                <Button\n                  size=\"sm\"\n                  variant=\"outline\"\n                  className=\"h-9 flex-1 rounded-2xl border-slate-700 px-4 text-[11px] text-slate-200\"\n                  onClick={onClose}\n                >\n                  Close\n                </Button>\n              </div>\n            </div>\n          ) : null}\n        </SheetContent>\n      </Sheet>\n\n      <Dialog open={entity?.type === \"document\"} onOpenChange={(open) => !open && onClose()}>\n        <DialogContent className=\"max-w-3xl rounded-3xl border border-slate-800 bg-slate-950/95 text-slate-100\">\n          {entity?.type === \"document\" ? (\n            <div className=\"space-y-4\">\n              <DialogHeader className=\"space-y-1\">\n                <DialogTitle className=\"flex items-center gap-2 text-xl text-white\">\n                  <FileText className=\"h-5 w-5 text-indigo-300\" /> {entity.name}\n                </DialogTitle>\n                <DialogDescription className=\"text-sm text-slate-400\">\n                  Vault preview stays modal. Jump to Vault only if you need full context.\n                </DialogDescription>\n              </DialogHeader>\n              <div className=\"rounded-2xl border border-slate-800/70 bg-slate-900/60 p-6 text-sm text-slate-200\">\n                <p className=\"text-xs uppercase tracking-wide text-slate-400\">Last updated</p>\n                <p className=\"mt-1 text-sm text-slate-200\">{entity.updated}</p>\n                <div className=\"mt-4 h-48 rounded-xl border border-dashed border-slate-800/70 bg-slate-950/60 text-center text-xs text-slate-500\">\n                  Document preview placeholder\n                </div>\n              </div>\n              <div className=\"flex gap-2\">\n                <Button\n                  size=\"sm\"\n                  className=\"h-9 flex-1 rounded-2xl bg-indigo-500 px-4 text-white\"\n                  onClick={() => onOpenDestination(\"Vault\")}\n                >\n                  Open in Vault\n                </Button>\n                <Button\n                  size=\"sm\"\n                  variant=\"outline\"\n                  className=\"h-9 flex-1 rounded-2xl border-slate-700 px-4 text-[11px] text-slate-200\"\n                  onClick={onClose}\n                >\n                  Close\n                </Button>\n              </div>\n            </div>\n          ) : null}\n        </DialogContent>\n      </Dialog>\n\n      <Sheet open={entity?.type === \"medication\"} onOpenChange={(open) => !open && onClose()}>\n        <SheetContent className=\"w-full border-l border-slate-800 bg-slate-950/95 text-slate-100 sm:max-w-sm\">\n          <SheetHeader>\n            <SheetTitle className=\"flex items-center gap-2 text-lg text-white\">\n              <Pill className=\"h-5 w-5 text-emerald-300\" /> Medication\n            </SheetTitle>\n            <SheetDescription className=\"text-sm text-slate-400\">\n              Quick card stays here. Deeper details live in Care.\n            </SheetDescription>\n          </SheetHeader>\n          {entity?.type === \"medication\" ? (\n            <div className=\"mt-6 space-y-4\">\n              <div className=\"rounded-2xl border border-slate-800/70 bg-slate-900/60 p-4 text-sm text-slate-200\">\n                <p className=\"text-xs uppercase tracking-wide text-slate-400\">Medication</p>\n                <p className=\"mt-1 text-lg font-semibold text-white\">{entity.name}</p>\n                <p className=\"text-sm text-slate-300\">Dose · {entity.dose}</p>\n              </div>\n              <div className=\"flex gap-2\">\n                <Button\n                  size=\"sm\"\n                  className=\"h-9 flex-1 rounded-2xl bg-emerald-500 px-4 text-white\"\n                  onClick={() => onOpenDestination(\"Care\")}\n                >\n                  Open in Care\n                </Button>\n                <Button\n                  size=\"sm\"\n                  variant=\"outline\"\n                  className=\"h-9 flex-1 rounded-2xl border-slate-700 px-4 text-[11px] text-slate-200\"\n                  onClick={onClose}\n                >\n                  Close\n                </Button>\n              </div>\n            </div>\n          ) : null}\n        </SheetContent>\n      </Sheet>\n\n      <Sheet open={entity?.type === \"routine\"} onOpenChange={(open) => !open && onClose()}>\n        <SheetContent className=\"w-full border-l border-slate-800 bg-slate-950/95 text-slate-100 sm:max-w-sm\">\n          <SheetHeader>\n            <SheetTitle className=\"flex items-center gap-2 text-lg text-white\">\n              <Repeat className=\"h-5 w-5 text-rose-300\" /> Routine summary\n            </SheetTitle>\n            <SheetDescription className=\"text-sm text-slate-400\">\n              Keep the routine drawer here. Navigate only if you need edits.\n            </SheetDescription>\n          </SheetHeader>\n          {entity?.type === \"routine\" ? (\n            <div className=\"mt-6 space-y-4\">\n              <div className=\"rounded-2xl border border-slate-800/70 bg-slate-900/60 p-4 text-sm text-slate-200\">\n                <p className=\"text-xs uppercase tracking-wide text-slate-400\">Routine</p>\n                <p className=\"mt-1 text-lg font-semibold text-white\">{entity.name}</p>\n                <p className=\"text-sm text-slate-300\">Cadence · {entity.cadence}</p>\n              </div>\n              <div className=\"space-y-2 rounded-2xl border border-slate-800/70 bg-slate-900/60 p-4 text-sm text-slate-200\">\n                <p className=\"text-xs uppercase tracking-wide text-slate-400\">Next steps</p>\n                <ul className=\"list-disc space-y-1 pl-5 text-xs text-slate-300\">\n                  <li>Review automation queue</li>\n                  <li>Send digest to team</li>\n                  <li>Mark blockers</li>\n                </ul>\n              </div>\n              <div className=\"flex gap-2\">\n                <Button\n                  size=\"sm\"\n                  className=\"h-9 flex-1 rounded-2xl bg-indigo-500 px-4 text-white\"\n                  onClick={() => onOpenDestination(\"Schedule routines\")}\n                >\n                  Open routines\n                </Button>\n                <Button\n                  size=\"sm\"\n                  variant=\"outline\"\n                  className=\"h-9 flex-1 rounded-2xl border-slate-700 px-4 text-[11px] text-slate-200\"\n                  onClick={onClose}\n                >\n                  Close\n                </Button>\n              </div>\n            </div>\n          ) : null}\n        </SheetContent>\n      </Sheet>\n    </>\n  );\n}\nfunction ContextMenuCard({\n  x,\n  y,\n  event,\n  onOpen,\n  onClose,\n  onQuickAction,\n}: {\n  x: number;\n  y: number;\n  event: TimelineEvent;\n  onOpen: (event: TimelineEvent) => void;\n  onClose: () => void;\n  onQuickAction: (event: TimelineEvent, action: \"snooze\" | \"done\" | \"nudge\") => void;\n}) {\n  return (\n    <div\n      className=\"fixed z-50\"\n      style={{ top: y, left: x }}\n      onClick={(e) => e.stopPropagation()}\n    >\n      <Card className=\"w-56 rounded-2xl border border-slate-800/80 bg-slate-950/95 p-2 text-sm text-slate-200 shadow-xl\">\n        <p className=\"px-2 pb-2 text-xs uppercase tracking-wide text-slate-500\">{event.title}</p>\n        <div className=\"grid gap-1\">\n          <button\n            className=\"flex items-center justify-between rounded-xl px-2 py-2 text-left transition hover:bg-slate-900/60\"\n            onClick={() => {\n              onOpen(event);\n              onClose();\n            }}\n          >\n            <span className=\"flex items-center gap-2\"><Check className=\"h-4 w-4\" /> Edit</span>\n            <ArrowRight className=\"h-3 w-3\" />\n          </button>\n          <button\n            className=\"flex items-center justify-between rounded-xl px-2 py-2 text-left transition hover:bg-slate-900/60\"\n            onClick={() => {\n              onQuickAction(event, \"nudge\");\n              onClose();\n            }}\n          >\n            <span className=\"flex items-center gap-2\"><BellRing className=\"h-4 w-4\" /> Nudge</span>\n            <ArrowRight className=\"h-3 w-3\" />\n          </button>\n          <button\n            className=\"flex items-center justify-between rounded-xl px-2 py-2 text-left transition hover:bg-slate-900/60\"\n            onClick={() => {\n              onQuickAction(event, \"snooze\");\n              onClose();\n            }}\n          >\n            <span className=\"flex items-center gap-2\"><Clock className=\"h-4 w-4\" /> Snooze 15m</span>\n            <ArrowRight className=\"h-3 w-3\" />\n          </button>\n          <button className=\"flex items-center justify-between rounded-xl px-2 py-2 text-left transition hover:bg-slate-900/60\">\n            <span className=\"flex items-center gap-2\"><Copy className=\"h-4 w-4\" /> Duplicate</span>\n            <ArrowRight className=\"h-3 w-3\" />\n          </button>\n          <button className=\"flex items-center justify-between rounded-xl px-2 py-2 text-left transition hover:bg-slate-900/60\">\n            <span className=\"flex items-center gap-2\"><Share2 className=\"h-4 w-4\" /> Convert to task</span>\n            <ArrowRight className=\"h-3 w-3\" />\n          </button>\n          <button\n            className=\"flex items-center justify-between rounded-xl px-2 py-2 text-left text-rose-200 transition hover:bg-rose-500/10\"\n            onClick={() => {\n              onClose();\n            }}\n          >\n            <span className=\"flex items-center gap-2\"><Trash2 className=\"h-4 w-4\" /> Delete</span>\n            <ArrowRight className=\"h-3 w-3\" />\n          </button>\n        </div>\n      </Card>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AAQA;AAKA;AACA;AACA;AAQA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwBA;AACA;AAhEA;;;;;;;;;;;;;;;;;AAiGA,MAAM,kBAGF;IACF,UAAU;QACR,MACE;QACF,KAAK;QACL,QAAQ;IACV;IACA,SAAS;QACP,MACE;QACF,KAAK;QACL,QAAQ;IACV;IACA,MAAM;QACJ,MACE;QACF,KAAK;QACL,QAAQ;IACV;IACA,WAAW;QACT,MACE;QACF,KAAK;QACL,QAAQ;IACV;IACA,UAAU;QACR,MACE;QACF,KAAK;QACL,QAAQ;IACV;IACA,aAAa;QACX,MACE;QACF,KAAK;QACL,QAAQ;IACV;IACA,QAAQ;QACN,MACE;QACF,KAAK;QACL,QAAQ;IACV;AACF;AAEA,MAAM,aAA8B;IAClC;QACE,IAAI;QACJ,OAAO;QACP,UAAU;QACV,OAAO;QACP,KAAK;QACL,UAAU;QACV,aAAa;QACb,QAAQ;QACR,OAAO;YAAC;gBAAE,MAAM;gBAAY,MAAM;gBAAiB,SAAS;YAAc;SAAE;IAC9E;IACA;QACE,IAAI;QACJ,OAAO;QACP,UAAU;QACV,OAAO;QACP,KAAK;QACL,UAAU;QACV,QAAQ;QACR,aAAa;IACf;IACA;QACE,IAAI;QACJ,OAAO;QACP,UAAU;QACV,OAAO;QACP,KAAK;QACL,aAAa;QACb,QAAQ;QACR,OAAO;YACL;gBAAE,MAAM;gBAAQ,MAAM;gBAAiB,QAAQ;gBAAW,KAAK;YAAsB;YACrF;gBAAE,MAAM;gBAAY,MAAM;gBAAmB,SAAS;YAAkB;SACzE;IACH;IACA;QACE,IAAI;QACJ,OAAO;QACP,UAAU;QACV,OAAO;QACP,KAAK;QACL,QAAQ;QACR,aAAa;QACb,OAAO;YAAC;gBAAE,MAAM;gBAAc,MAAM;gBAAa,MAAM;YAAS;SAAE;IACpE;IACA;QACE,IAAI;QACJ,OAAO;QACP,UAAU;QACV,OAAO;QACP,KAAK;QACL,aAAa;QACb,QAAQ;QACR,OAAO;YAAC;gBAAE,MAAM;gBAAW,MAAM;gBAAa,SAAS;YAAmB;SAAE;IAC9E;IACA;QACE,IAAI;QACJ,OAAO;QACP,UAAU;QACV,OAAO;QACP,KAAK;QACL,QAAQ;QACR,sBAAsB;IACxB;IACA;QACE,IAAI;QACJ,OAAO;QACP,UAAU;QACV,OAAO;QACP,KAAK;QACL,QAAQ;IACV;IACA;QACE,IAAI;QACJ,OAAO;QACP,UAAU;QACV,OAAO;QACP,KAAK;QACL,QAAQ;QACR,OAAO;YAAC;gBAAE,MAAM;gBAAQ,MAAM;gBAAa,QAAQ;gBAAU,KAAK;YAAa;SAAE;IACnF;IACA;QACE,IAAI;QACJ,OAAO;QACP,UAAU;QACV,OAAO;QACP,KAAK;QACL,QAAQ;IACV;IACA;QACE,IAAI;QACJ,OAAO;QACP,UAAU;QACV,OAAO;QACP,KAAK;QACL,UAAU;QACV,QAAQ;IACV;CACD;AAED,MAAM,mBAAoC;IACxC;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAED,MAAM,iBAAiB;IAAC;IAAQ;IAAU;CAAa;AAEvD,MAAM,cAAc,IAAI;AACxB,MAAM,YAAY,KAAK;AAEvB,MAAM,QAAwB;IAAC;IAAO;IAAQ;CAAQ;AAEtD,SAAS,oBAAoB,GAAW;IACtC,MAAM,OAAO,IAAI,KAAK;IACtB,OAAO,KAAK,QAAQ,KAAK,KAAK,KAAK,UAAU;AAC/C;AAEA,SAAS,UAAU,CAAO,EAAE,CAAO;IACjC,OACE,EAAE,WAAW,OAAO,EAAE,WAAW,MACjC,EAAE,QAAQ,OAAO,EAAE,QAAQ,MAC3B,EAAE,OAAO,OAAO,EAAE,OAAO;AAE7B;AAEA,SAAS,gBAAgB,KAAa,EAAE,GAAW;IACjD,MAAM,YAAY,IAAI,KAAK,cAAc,CAAC,WAAW;QACnD,MAAM;QACN,QAAQ;IACV;IACA,OAAO,GAAG,UAAU,MAAM,CAAC,IAAI,KAAK,QAAQ,GAAG,EAAE,UAAU,MAAM,CAAC,IAAI,KAAK,OAAO;AACpF;AAEA,SAAS,eAAe,IAAU;IAChC,OAAO,IAAI,KAAK,cAAc,CAAC,WAAW;QACxC,SAAS;QACT,OAAO;QACP,KAAK;IACP,GAAG,MAAM,CAAC;AACZ;AACe,SAAS;IACtB,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,4HAAA,CAAA,WAAQ,AAAD;IACzB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAgB;IAC/C,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC/D,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzD,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAuB;IAClE,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAOvD;IACF,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IACpE,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAwB;IACzE,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3D,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAkC,IACrF,iBAAiB,MAAM,CACrB,CAAC,KAAK;YACJ,GAAG,CAAC,SAAS,GAAG;YAChB,OAAO;QACT,GACA,CAAC;IAGL,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAoD;QACnG,MAAM;QACN,QAAQ;QACR,YAAY;IACd;IACA,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EACnC;IAEF,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEnD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,WAAW,IAAM,qBAAqB;QAC5C,OAAO,gBAAgB,CAAC,SAAS;QACjC,OAAO,IAAM,OAAO,mBAAmB,CAAC,SAAS;IACnD,GAAG,EAAE;IAEL,MAAM,WAAW,CAAA,GAAA,qMAAA,CAAA,UAAO,AAAD,EACrB,IAAM,KAAK,cAAc,GAAG,eAAe,GAAG,QAAQ,EACtD,EAAE;IAGJ,MAAM,gBAAgB,CAAA,GAAA,qMAAA,CAAA,UAAO,AAAD,EAAE,IAAM,IAAI,KAAK,wBAAwB,EAAE;IAEvE,MAAM,eAAe,CAAA,GAAA,qMAAA,CAAA,UAAO,AAAD,EAAE;QAC3B,IAAI,SAAS,SAAS;YACpB,MAAM,cAAc,IAAI,KAAK;YAC7B,MAAM,MAAM,YAAY,MAAM;YAC9B,MAAM,OAAO,CAAC,MAAM,CAAC,IAAI;YACzB,YAAY,OAAO,CAAC,YAAY,OAAO,KAAK;YAC5C,OAAO,MAAM,IAAI,CAAC;gBAAE,QAAQ;YAAE,GAAG,CAAC,GAAG;gBACnC,MAAM,OAAO,IAAI,KAAK;gBACtB,KAAK,OAAO,CAAC,YAAY,OAAO,KAAK;gBACrC,OAAO;oBAAE;oBAAM,OAAO,eAAe;gBAAM;YAC7C;QACF;QAEA,MAAM,QAAQ,SAAS,QAAQ,IAAI;QACnC,MAAM,cAAc,IAAI,KAAK;QAC7B,MAAM,MAAM,YAAY,MAAM;QAC9B,MAAM,OAAO,CAAC,MAAM,CAAC,IAAI;QACzB,YAAY,OAAO,CAAC,YAAY,OAAO,KAAK;QAE5C,OAAO,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAM,GAAG,CAAC,GAAG;YACvC,MAAM,OAAO,IAAI,KAAK;YACtB,KAAK,OAAO,CAAC,YAAY,OAAO,KAAK;YACrC,OAAO;gBAAE;gBAAM,OAAO,eAAe;YAAM;QAC7C;IACF,GAAG;QAAC;QAAe;KAAK;IAExB,MAAM,iBAAiB,CAAA,GAAA,qMAAA,CAAA,UAAO,AAAD,EAAE;QAC7B,OAAO,WAAW,MAAM,CAAC,CAAC;YACxB,IAAI,CAAC,eAAe,CAAC,MAAM,QAAQ,CAAC,EAAE;gBACpC,OAAO;YACT;YACA,IAAI,CAAC,aAAa,CAAC,MAAM,MAAM,CAAC,EAAE;gBAChC,OAAO;YACT;YACA,IAAI,CAAC,qBAAqB,MAAM,MAAM,KAAK,UAAU;gBACnD,OAAO;YACT;YACA,IAAI,SAAS,OAAO;gBAClB,OAAO,UAAU,IAAI,KAAK,MAAM,KAAK,GAAG;YAC1C;YACA,IAAI,SAAS,QAAQ;gBACnB,MAAM,YAAY,aAAa,GAAG,CAAC,CAAC,IAAM,EAAE,IAAI;gBAChD,OAAO,UAAU,IAAI,CAAC,CAAC,OAAS,UAAU,IAAI,KAAK,MAAM,KAAK,GAAG;YACnE;YACA,OAAO;QACT;IACF,GAAG;QAAC;QAAiB;QAAmB;QAAe;QAAe;QAAc;KAAK;IAEzF,MAAM,cAAc,CAAA,GAAA,qMAAA,CAAA,UAAO,AAAD,EAAE;QAC1B,MAAM,MAAM,cAAc,OAAO;QACjC,OAAO,eACJ,MAAM,CAAC,CAAC,QAAU,IAAI,KAAK,MAAM,GAAG,EAAE,OAAO,MAAM,KACnD,IAAI,CAAC,CAAC,GAAG,IAAM,IAAI,KAAK,EAAE,KAAK,EAAE,OAAO,KAAK,IAAI,KAAK,EAAE,KAAK,EAAE,OAAO,IACtE,KAAK,CAAC,GAAG;IACd,GAAG;QAAC;QAAgB;KAAc;IAElC,MAAM,QAAQ,CAAA,GAAA,qMAAA,CAAA,UAAO,AAAD,EAAE;QACpB,MAAM,OAAiB,EAAE;QACzB,IAAK,IAAI,SAAS,aAAa,UAAU,WAAW,UAAU,GAAI;YAChE,KAAK,IAAI,CAAC;QACZ;QACA,OAAO;IACT,GAAG,EAAE;IAEL,MAAM,YAAY,CAAA,GAAA,qMAAA,CAAA,UAAO,AAAD,EAAE;QACxB,MAAM,UAAU,cAAc,QAAQ,KAAK,KAAK,cAAc,UAAU;QACxE,IAAI,UAAU,eAAe,UAAU,WAAW;YAChD,OAAO;QACT;QACA,MAAM,SAAS,AAAC,CAAC,UAAU,WAAW,IAAI,CAAC,YAAY,WAAW,IAAK;QACvE,OAAO;YAAE;YAAQ,MAAM;QAAc;IACvC,GAAG;QAAC;KAAc;IAElB,MAAM,kBAAkB,SAAS,WAAW,eAAe,MAAM,KAAK;IAEtE,MAAM,oBAAoB,CAAC,OAAsB;QAC/C,MAAM,cACJ,WAAW,WAAW,uBAAuB,WAAW,SAAS,gBAAgB;QACnF,MAAM;YACJ,OAAO;YACP,aAAa,MAAM,KAAK;QAC1B;IACF;IAEA,MAAM,oBAAoB,CAAC,KAAoB;QAC7C,EAAE,cAAc;QAChB,qBAAqB;YACnB,GAAG,EAAE,OAAO;YACZ,GAAG,EAAE,OAAO;YACZ,OAAO;QACT;IACF;IAEA,MAAM,uBAAuB,CAAC;QAC5B,IAAI,OAAO;YACT,iBAAiB;QACnB,OAAO;YACL,iBAAiB;QACnB;QACA,oBAAoB;IACtB;IAEA,MAAM,sBAAsB;QAC1B;YAAE,IAAI;YAAW,MAAM;YAAc,OAAO;QAAc;QAC1D;YAAE,IAAI;YAAU,MAAM;YAAU,OAAO;QAAiB;QACxD;YAAE,IAAI;YAAU,MAAM;YAAkB,OAAO;QAAe;KAC/D;IAED,MAAM,cAAc;QAClB;YACE,IAAI;YACJ,OAAO;YACP,QAAQ;QACV;QACA;YACE,IAAI;YACJ,OAAO;YACP,QAAQ;QACV;QACA;YACE,IAAI;YACJ,OAAO;YACP,QAAQ;QACV;KACD;IAED,MAAM,YAAY;QAChB;YACE,IAAI;YACJ,OAAO;YACP,QAAQ;QACV;QACA;YACE,IAAI;YACJ,OAAO;YACP,QAAQ;QACV;KACD;IAED,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,8IAAA,CAAA,aAAU;gBACT,OAAM;gBACN,aAAY;gBACZ,uBACE;;sCACE,8OAAC,8IAAA,CAAA,oBAAiB;4BAAC,SAAS,IAAM,cAAc;sCAAO;;;;;;sCAGvD,8OAAC,8IAAA,CAAA,sBAAmB;4BAAC,SAAS,IAAM,aAAa;sCAAO;;;;;;sCAGxD,8OAAC,kIAAA,CAAA,SAAM;4BACL,MAAK;4BACL,SAAQ;4BACR,WAAU;4BACV,SAAS,IAAM,uBAAuB;sCACvC;;;;;;sCAGD,8OAAC,kIAAA,CAAA,SAAM;4BACL,MAAK;4BACL,SAAQ;4BACR,WAAU;4BACV,SAAS,IAAM,iBAAiB;;8CAEhC,8OAAC,sMAAA,CAAA,SAAM;oCAAC,WAAU;;;;;;gCAAiB;;;;;;;;;;;;;;0BAK3C,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,gIAAA,CAAA,OAAI;wBAAC,WAAU;;0CACd,8OAAC,gIAAA,CAAA,aAAU;gCAAC,WAAU;;kDACpB,8OAAC;wCAAI,WAAU;kDACZ,MAAM,GAAG,CAAC,CAAC,uBACV,8OAAC,kIAAA,CAAA,SAAM;gDAEL,MAAK;gDACL,SAAS,SAAS,SAAS,YAAY;gDACvC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,oBACA,SAAS,SACL,mDACA;gDAEN,SAAS,IAAM,QAAQ;0DAEtB;+CAXI;;;;;;;;;;kDAeX,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAK,WAAU;;kEACd,8OAAC;wDAAa,OAAM;;;;;;oDAAM;;;;;;;0DAE5B,8OAAC;gDAAK,WAAU;;kEACd,8OAAC;wDAAa,OAAM;;;;;;oDAAM;;;;;;;0DAE5B,8OAAC;gDAAK,WAAU;;kEACd,8OAAC;wDAAa,OAAM;;;;;;oDAAM;;;;;;;0DAE5B,8OAAC;gDAAK,WAAU;;kEACd,8OAAC;wDAAa,OAAM;;;;;;oDAAQ;;;;;;;0DAE9B,8OAAC;gDAAK,WAAU;;kEACd,8OAAC;wDAAa,OAAM;;;;;;oDAAM;;;;;;;0DAE5B,8OAAC;gDAAK,WAAU;;kEACd,8OAAC;wDAAa,OAAM;;;;;;oDAAM;;;;;;;;;;;;;;;;;;;0CAIhC,8OAAC,gIAAA,CAAA,cAAW;gCAAC,WAAU;0CACpB,SAAS,wBACR,8OAAC;oCACC,QAAQ;oCACR,UAAU,IAAM;oCAChB,aAAa;;;;;yDAGf,8OAAC;oCACC,MAAM;oCACN,QAAQ;oCACR,OAAO;oCACP,WAAW;oCACX,MAAM;oCACN,iBAAiB;oCACjB,mBAAmB;oCACnB,UAAU,IAAM;oCAChB,eAAe;oCACf,gBAAgB;oCAChB,eAAe;oCACf,aAAa;oCACb,eAAe;oCACf,YAAY;oCACZ,WAAW,IAAM,cAAc;oCAC/B,YAAY,IAAM,aAAa;oCAC/B,eAAe,CAAC,QACd,MAAM;4CAAE,OAAO;4CAAe,aAAa;wCAAM;;;;;;;;;;;0CAKzD,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC,kIAAA,CAAA,SAAM;gDACL,MAAK;gDACL,WAAU;gDACV,SAAS;oDACP,MAAM;wDAAE,OAAO;oDAAgB;gDACjC;;kEAEA,8OAAC,oMAAA,CAAA,QAAK;wDAAC,WAAU;;;;;;oDAAiB;;;;;;;0DAEpC,8OAAC,kIAAA,CAAA,SAAM;gDACL,MAAK;gDACL,SAAQ;gDACR,WAAU;gDACV,SAAS,IAAM,QAAQ;0DACxB;;;;;;0DAGD,8OAAC;gDAAK,WAAU;;kEACd,8OAAC,kNAAA,CAAA,aAAU;wDAAC,WAAU;;;;;;oDACrB;;;;;;;;;;;;;kDAGL,8OAAC;wCAAI,WAAU;kDACZ,iBAAiB,GAAG,CAAC,CAAC,yBACrB,8OAAC;gDAAoB,WAAU;;kEAC7B,8OAAC;wDACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,4BACA,eAAe,CAAC,SAAS,CAAC,MAAM;;;;;;oDAGnC;;+CAPQ;;;;;;;;;;;;;;;;;;;;;;kCAcnB,8OAAC;wBAAM,WAAU;;0CACf,8OAAC;gCACC,OAAM;gCACN,oBAAM,8OAAC,sNAAA,CAAA,eAAY;oCAAC,WAAU;;;;;;gCAC9B,aAAY;0CAEX,YAAY,MAAM,KAAK,kBACtB,8OAAC;oCAAE,WAAU;8CAAyB;;;;;yDAItC,8OAAC;oCAAG,WAAU;8CACX,YAAY,GAAG,CAAC,CAAC,sBAChB,8OAAC;4CAEC,WAAU;;8DAEV,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;;8EACC,8OAAC;oEAAE,WAAU;8EAA8B,MAAM,KAAK;;;;;;8EACtD,8OAAC;oEAAE,WAAU;;wEACV,gBAAgB,MAAM,KAAK,EAAE,MAAM,GAAG;wEAAE;wEAAI,MAAM,MAAM;;;;;;;;;;;;;sEAG7D,8OAAC,iIAAA,CAAA,QAAK;4DACJ,SAAQ;4DACR,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,wFACA,eAAe,CAAC,MAAM,QAAQ,CAAC,CAAC,IAAI;sEAGrC,MAAM,QAAQ;;;;;;;;;;;;8DAGnB,8OAAC;oDAAI,WAAU;;sEACb,8OAAC,kIAAA,CAAA,SAAM;4DACL,MAAK;4DACL,SAAQ;4DACR,WAAU;4DACV,SAAS,IAAM,qBAAqB;sEACrC;;;;;;sEAGD,8OAAC,kIAAA,CAAA,SAAM;4DACL,MAAK;4DACL,SAAQ;4DACR,WAAU;4DACV,SAAS,IAAM,kBAAkB,OAAO;sEACzC;;;;;;wDAGA,MAAM,WAAW,iBAChB,8OAAC,kIAAA,CAAA,SAAM;4DACL,MAAK;4DACL,SAAQ;4DACR,WAAU;4DACV,SAAS,IAAM,kBAAkB,OAAO;sEACzC;;;;;mEAGC;sEACJ,8OAAC,kIAAA,CAAA,SAAM;4DACL,MAAK;4DACL,SAAQ;4DACR,WAAU;4DACV,SAAS,IAAM,kBAAkB,OAAO;sEACzC;;;;;;;;;;;;;2CApDE,MAAM,EAAE;;;;;;;;;;;;;;;0CA8DvB,8OAAC;gCACC,OAAM;gCACN,oBAAM,8OAAC,0MAAA,CAAA,WAAQ;oCAAC,WAAU;;;;;;gCAC1B,aAAY;0CAEZ,cAAA,8OAAC;oCAAG,WAAU;8CACX,YAAY,GAAG,CAAC,CAAC,qBAChB,8OAAC;4CAEC,WAAU;;8DAEV,8OAAC;oDAAE,WAAU;8DAA8B,KAAK,KAAK;;;;;;8DACrD,8OAAC;oDAAE,WAAU;8DAAmC,KAAK,MAAM;;;;;;8DAC3D,8OAAC;oDAAI,WAAU;;sEACb,8OAAC,kIAAA,CAAA,SAAM;4DACL,MAAK;4DACL,WAAU;4DACV,SAAS,IAAM,MAAM;oEAAE,OAAO;oEAAuB,aAAa,KAAK,KAAK;gEAAC;sEAC9E;;;;;;sEAGD,8OAAC,kIAAA,CAAA,SAAM;4DACL,MAAK;4DACL,SAAQ;4DACR,WAAU;4DACV,SAAS,IAAM,MAAM;oEAAE,OAAO;oEAAY,aAAa,GAAG,KAAK,KAAK,CAAC,mBAAmB,CAAC;gEAAC;sEAC3F;;;;;;sEAGD,8OAAC,kIAAA,CAAA,SAAM;4DACL,MAAK;4DACL,SAAQ;4DACR,WAAU;4DACV,SAAS,IAAM,MAAM;oEAAE,OAAO;oEAAwB,aAAa,KAAK,KAAK;gEAAC;sEAC/E;;;;;;;;;;;;;2CA1BE,KAAK,EAAE;;;;;;;;;;;;;;;0CAmCpB,8OAAC;gCACC,OAAM;gCACN,oBAAM,8OAAC,kMAAA,CAAA,OAAI;oCAAC,WAAU;;;;;;gCACtB,aAAY;0CAEZ,cAAA,8OAAC;oCAAG,WAAU;8CACX,UAAU,GAAG,CAAC,CAAC,yBACd,8OAAC;4CAEC,WAAU;;8DAEV,8OAAC;oDAAE,WAAU;8DAAiB,SAAS,KAAK;;;;;;8DAC5C,8OAAC;oDAAE,WAAU;8DAAqC,SAAS,MAAM;;;;;;8DACjE,8OAAC;oDAAI,WAAU;;sEACb,8OAAC,kIAAA,CAAA,SAAM;4DACL,MAAK;4DACL,WAAU;4DACV,SAAS,IAAM,MAAM;oEAAE,OAAO;oEAAwB,aAAa,SAAS,KAAK;gEAAC;sEACnF;;;;;;sEAGD,8OAAC,kIAAA,CAAA,SAAM;4DACL,MAAK;4DACL,SAAQ;4DACR,WAAU;4DACV,SAAS,IAAM,MAAM;oEAAE,OAAO;oEAAoB,aAAa,SAAS,MAAM;gEAAC;sEAChF;;;;;;;;;;;;;2CAlBE,SAAS,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;0BA4B5B,8OAAC,kIAAA,CAAA,SAAM;gBACL,MAAK;gBACL,WAAU;gBACV,SAAS,IAAM;;kCAEf,8OAAC,kMAAA,CAAA,OAAI;wBAAC,WAAU;;;;;;oBAAiB;;;;;;;0BAGnC,8OAAC;gBACC,MAAM;gBACN,cAAc;gBACd,WAAW;gBACX,mBAAmB;gBACnB,oBAAoB;gBACpB,WAAW;gBACX,WAAW;oBACT,iBAAiB;oBACjB,WAAW;wBACT,iBAAiB;wBACjB,cAAc;wBACd,MAAM;4BAAE,OAAO;wBAAqB;oBACtC,GAAG;gBACL;;;;;;0BAGF,8OAAC;gBACC,MAAM;gBACN,cAAc;gBACd,MAAM;gBACN,cAAc;gBACd,WAAW;oBACT,MAAM;wBAAE,OAAO;wBAAiB,aAAa;oBAA6B;oBAC1E,aAAa;gBACf;gBACA,QAAQ;oBACN;oBACA,aAAa;gBACf;;;;;;0BAGF,8OAAC;gBACC,MAAM;gBACN,cAAc;gBACd,QAAQ;oBACN,MAAM;wBAAE,OAAO;wBAAqB,aAAa;oBAA2B;gBAC9E;;;;;;0BAGF,8OAAC;gBACC,MAAM;gBACN,cAAc;gBACd,iBAAiB;gBACjB,kBAAkB,CAAC,WACjB,mBAAmB,CAAC,OAAS,CAAC;4BAC5B,GAAG,IAAI;4BACP,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,SAAS;wBAC7B,CAAC;gBAEH,eAAe;gBACf,gBAAgB,CAAC,SACf,iBAAiB,CAAC,OAAS,CAAC;4BAC1B,GAAG,IAAI;4BACP,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,OAAO;wBACzB,CAAC;gBAEH,cAAc,IAAM,MAAM;wBAAE,OAAO;wBAAgB,aAAa;oBAAiB;;;;;;0BAGnF,8OAAC;gBACC,MAAM;gBACN,cAAc;gBACd,OAAO;gBACP,QAAQ,CAAC;oBACP,MAAM;wBAAE,OAAO,SAAS,UAAU,mBAAmB;oBAAc;oBACnE,oBAAoB;gBACtB;gBACA,UAAU;oBACR,MAAM;wBAAE,OAAO;oBAAgB;oBAC/B,oBAAoB;gBACtB;gBACA,SAAS,CAAC,UAAY,MAAM;wBAAE,OAAO,CAAC,WAAW,EAAE,SAAS;oBAAC;;;;;;0BAG/D,8OAAC;gBACC,QAAQ;gBACR,SAAS,IAAM,cAAc;gBAC7B,mBAAmB,CAAC,cAClB,MAAM;wBACJ,OAAO,CAAC,QAAQ,EAAE,aAAa;wBAC/B,aAAa;oBACf;;;;;;YAIH,kCACC,8OAAC;gBACC,GAAG,kBAAkB,CAAC;gBACtB,GAAG,kBAAkB,CAAC;gBACtB,OAAO,kBAAkB,KAAK;gBAC9B,QAAQ;gBACR,SAAS,IAAM,qBAAqB;gBACpC,eAAe;;;;;uBAEf;;;;;;;AAGV;AAEA,SAAS,aAAa,EAAE,KAAK,EAAqB;IAChD,qBACE,8OAAC;QAAK,WAAU;kBACb;;;;;;AAGP;AAEA,SAAS,cAAc,EACrB,KAAK,EACL,WAAW,EACX,IAAI,EACJ,QAAQ,EAMT;IACC,qBACE,8OAAC,gIAAA,CAAA,OAAI;QAAC,WAAU;;0BACd,8OAAC,gIAAA,CAAA,aAAU;gBAAC,WAAU;;kCACpB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAK,WAAU;0CACb;;;;;;4BAEF;;;;;;;kCAEH,8OAAC;wBAAE,WAAU;kCAA0B;;;;;;;;;;;;0BAEzC,8OAAC,gIAAA,CAAA,cAAW;gBAAC,WAAU;0BACpB;;;;;;;;;;;;AAIT;AACA,SAAS,SAAS,EAChB,IAAI,EACJ,MAAM,EACN,KAAK,EACL,SAAS,EACT,IAAI,EACJ,eAAe,EACf,iBAAiB,EACjB,QAAQ,EACR,aAAa,EACb,cAAc,EACd,aAAa,EACb,WAAW,EACX,aAAa,EACb,UAAU,EACV,SAAS,EACT,UAAU,EACV,aAAa,EAmBd;IACC,MAAM,eAAe,YAAY;IACjC,MAAM,UAAU,KAAK,GAAG,CAAC,CAAC,EAAE,IAAI,EAAE,GAChC,OAAO,MAAM,CAAC,CAAC,QAAU,UAAU,IAAI,KAAK,MAAM,KAAK,GAAG;IAG5D,MAAM,YAA2B;QAC/B,qBAAqB,CAAC,YAAY,EAAE,KAAK,MAAM,CAAC,iBAAiB,CAAC;IACpE;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;YAAiB,OAAO;;8BACrC,8OAAC;oBAAI,WAAU;8BACZ,MAAM,GAAG,CAAC,CAAC;wBACV,MAAM,OAAO,KAAK,KAAK,CAAC,SAAS;wBACjC,MAAM,QAAQ,GAAG,AAAC,OAAO,MAAO,KAAK,QAAQ,KAAK,MAAM,KAAK;wBAC7D,qBACE,8OAAC;4BAEC,WAAU;sCAEV,cAAA,8OAAC;gCAAI,WAAU;0CAAmC;;;;;;2BAH7C;;;;;oBAMX;;;;;;gBAGD,KAAK,GAAG,CAAC,CAAC,KAAK,sBACd,8OAAC;wBAEC,WAAU;wBACV,eAAe;;0CAEf,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAK,WAAU;kDAA8B,IAAI,KAAK;;;;;;kDACvD,8OAAC;kDAAM,IAAI,KAAK,cAAc,CAAC,WAAW;4CAAE,SAAS;wCAAQ,GAAG,MAAM,CAAC,IAAI,IAAI;;;;;;;;;;;;0CAEjF,8OAAC;gCAAI,WAAU;0CACZ,MAAM,GAAG,CAAC,CAAC,uBACV,8OAAC;wCAEC,WAAU;uCADL,GAAG,IAAI,KAAK,CAAC,CAAC,EAAE,QAAQ;;;;;;;;;;4BAMlC,aAAa,UAAU,UAAU,IAAI,EAAE,IAAI,IAAI,kBAC9C,8OAAC;gCACC,WAAU;gCACV,OAAO;oCAAE,KAAK,GAAG,UAAU,MAAM,CAAC,CAAC,CAAC;gCAAC;;kDAErC,8OAAC;wCAAK,WAAU;;;;;;kDAChB,8OAAC;wCAAK,WAAU;kDAAiG;;;;;;;;;;;uCAIjH;0CAEJ,8OAAC;gCAAI,WAAU;;oCACZ,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;wCACnB,MAAM,eAAe,oBAAoB,MAAM,KAAK;wCACpD,MAAM,aAAa,oBAAoB,MAAM,GAAG;wCAChD,MAAM,MAAM,AAAC,CAAC,eAAe,WAAW,IAAI,eAAgB;wCAC5D,MAAM,SAAS,KAAK,GAAG,CAAC,AAAC,CAAC,aAAa,YAAY,IAAI,eAAgB,KAAK;wCAE5E,qBACE,8OAAC;4CAEC,WAAU;4CACV,OAAO;gDAAE,KAAK,GAAG,IAAI,CAAC,CAAC;gDAAE,QAAQ,GAAG,OAAO,CAAC,CAAC;4CAAC;;8DAE9C,8OAAC;oDACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,iHACA,eAAe,CAAC,MAAM,QAAQ,CAAC,CAAC,IAAI,EACpC,mBAAmB,MAAM,EAAE,IAAI;oDAEjC,cAAc,IAAM,cAAc,MAAM,EAAE;oDAC1C,cAAc,IAAM,cAAc;oDAClC,SAAS,IAAM,cAAc,MAAM,EAAE;oDACrC,QAAQ,IAAM,cAAc;oDAC5B,SAAS,IAAM,YAAY;oDAC3B,eAAe,CAAC,IAAM,cAAc,OAAO;oDAC3C,SAAS;oDACT,WAAW,IAAM,cAAc,MAAM,KAAK;;sEAE1C,8OAAC;4DAAI,WAAU;;8EACb,8OAAC;8EAAM,gBAAgB,MAAM,KAAK,EAAE,MAAM,GAAG;;;;;;8EAC7C,8OAAC;oEAAK,WAAU;;sFACd,8OAAC;4EAAK,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,4BAA4B,eAAe,CAAC,MAAM,QAAQ,CAAC,CAAC,GAAG;;;;;;wEAClF,MAAM,MAAM;;;;;;;;;;;;;sEAGjB,8OAAC;;8EACC,8OAAC;oEAAE,WAAU;8EAAkD,MAAM,KAAK;;;;;;gEACzE,MAAM,QAAQ,iBACb,8OAAC;oEAAE,WAAU;;sFACX,8OAAC,0MAAA,CAAA,SAAM;4EAAC,WAAU;;;;;;wEAAY;wEAAE,MAAM,QAAQ;;;;;;2EAE9C;;;;;;;sEAEN,8OAAC;4DAAI,WAAU;;8EACb,8OAAC,kIAAA,CAAA,SAAM;oEACL,MAAK;oEACL,SAAQ;oEACR,WAAU;oEACV,SAAS,CAAC;wEACR,EAAE,eAAe;wEACjB,cAAc,OAAO;oEACvB;8EACD;;;;;;gEAGA,MAAM,WAAW,iBAChB,8OAAC,kIAAA,CAAA,SAAM;oEACL,MAAK;oEACL,SAAQ;oEACR,WAAU;oEACV,SAAS,CAAC;wEACR,EAAE,eAAe;wEACjB,cAAc,OAAO;oEACvB;8EACD;;;;;2EAGC;8EACJ,8OAAC,kIAAA,CAAA,SAAM;oEACL,MAAK;oEACL,SAAQ;oEACR,WAAU;oEACV,SAAS,CAAC;wEACR,EAAE,eAAe;wEACjB,cAAc,OAAO;oEACvB;8EACD;;;;;;;;;;;;;;;;;;gDAKJ,mBAAmB,MAAM,EAAE,iBAC1B,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DAAI,WAAU;;8EACb,8OAAC;8EAAM,gBAAgB,MAAM,KAAK,EAAE,MAAM,GAAG;;;;;;gEAC5C,MAAM,QAAQ,iBACb,8OAAC;oEAAK,WAAU;;sFACd,8OAAC,0MAAA,CAAA,SAAM;4EAAC,WAAU;;;;;;wEAAY;wEAAE,MAAM,QAAQ;;;;;;2EAE9C;;;;;;;sEAEN,8OAAC;4DAAE,WAAU;sEAAyC,MAAM,KAAK;;;;;;wDAChE,MAAM,WAAW,iBAChB,8OAAC;4DAAE,WAAU;sEAAmC,MAAM,WAAW;;;;;mEAC/D;wDACH,MAAM,KAAK,IAAI,MAAM,KAAK,CAAC,MAAM,GAAG,kBACnC,8OAAC;4DAAI,WAAU;sEACZ,MAAM,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,0BACtB,8OAAC;oEAEC,WAAU;oEACV,SAAS,CAAC;wEACR,EAAE,eAAe;wEACjB,WAAW;oEACb;;sFAEA,8OAAC;4EAAK,WAAU;;8FACd,8OAAC,kMAAA,CAAA,OAAQ;oFAAC,WAAU;;;;;;gFACnB,KAAK,IAAI,KAAK,uBACb,8OAAC;;wFACE,KAAK,IAAI;wFAAC;wFAAI,KAAK,MAAM;;;;;;2FAE1B,KAAK,IAAI,KAAK,2BAChB,8OAAC;8FAAM,KAAK,IAAI;;;;;2FACd,KAAK,IAAI,KAAK,6BAChB,8OAAC;8FAAM,KAAK,IAAI;;;;;yGAEhB,8OAAC;8FAAM,KAAK,IAAI;;;;;;;;;;;;sFAGpB,8OAAC,sNAAA,CAAA,eAAY;4EAAC,WAAU;;;;;;;mEArBnB,GAAG,MAAM,EAAE,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,CAAC,EAAE,WAAW;;;;;;;;;mEAyBhD;sEACJ,8OAAC;4DAAI,WAAU;;8EACb,8OAAC,kIAAA,CAAA,SAAM;oEACL,MAAK;oEACL,SAAQ;oEACR,WAAU;oEACV,SAAS,CAAC;wEACR,EAAE,eAAe;wEACjB,cAAc,OAAO;oEACvB;8EACD;;;;;;gEAGA,MAAM,WAAW,iBAChB,8OAAC,kIAAA,CAAA,SAAM;oEACL,MAAK;oEACL,SAAQ;oEACR,WAAU;oEACV,SAAS,CAAC;wEACR,EAAE,eAAe;wEACjB,cAAc,OAAO;oEACvB;8EACD;;;;;2EAGC;8EACJ,8OAAC,kIAAA,CAAA,SAAM;oEACL,MAAK;oEACL,SAAQ;oEACR,WAAU;oEACV,SAAS,CAAC;wEACR,EAAE,eAAe;wEACjB,cAAc,OAAO;oEACvB;8EACD;;;;;;;;;;;;;;;;;2DAKH;;2CA1JC,MAAM,EAAE;;;;;oCA6JnB;oCAEC,gCACC,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC;4CAAI,WAAU;sDACZ,kCACC;;kEACE,8OAAC;wDAAE,WAAU;kEAA+B;;;;;;kEAC5C,8OAAC;wDAAE,WAAU;kEAA8B;;;;;;kEAG3C,8OAAC;wDAAI,WAAU;;0EACb,8OAAC,kIAAA,CAAA,SAAM;gEAAC,MAAK;gEAAK,WAAU;gEAAgD,SAAS;;kFACnF,8OAAC,kMAAA,CAAA,OAAI;wEAAC,WAAU;;;;;;oEAAiB;;;;;;;0EAEnC,8OAAC,kIAAA,CAAA,SAAM;gEACL,MAAK;gEACL,SAAQ;gEACR,WAAU;gEACV,SAAS;0EACV;;;;;;;;;;;;;6EAML;;kEACE,8OAAC;wDAAE,WAAU;kEAA+B;;;;;;kEAC5C,8OAAC;wDAAE,WAAU;kEAA8B;;;;;;kEAG3C,8OAAC;wDAAI,WAAU;;0EACb,8OAAC,kIAAA,CAAA,SAAM;gEAAC,MAAK;gEAAK,WAAU;gEAAiD,SAAS;0EAAW;;;;;;0EAGjG,8OAAC,kIAAA,CAAA,SAAM;gEACL,MAAK;gEACL,SAAQ;gEACR,WAAU;gEACV,SAAS;0EACV;;;;;;;;;;;;;;;;;;;;;;;+CAQT;;;;;;;;uBAnPD,IAAI,KAAK;;;;;;;;;;;;;;;;AA0P1B;AACA,SAAS,UAAU,EACjB,MAAM,EACN,QAAQ,EACR,WAAW,EAKZ;IACC,MAAM,UAAU,OAAO,MAAM,CAAkC,CAAC,KAAK;QACnE,MAAM,MAAM,IAAI,KAAK,MAAM,KAAK,EAAE,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;QAC7D,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE;YACb,GAAG,CAAC,IAAI,GAAG,EAAE;QACf;QACA,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC;QACd,OAAO;IACT,GAAG,CAAC;IAEJ,MAAM,QAAQ;IACd,MAAM,OAAO;IAEb,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BACZ,MAAM,IAAI,CAAC;oBAAE,QAAQ;gBAAK,GAAG,GAAG,CAAC,CAAC,GAAG,sBACpC,8OAAC;wBAAgB,WAAU;kCACxB,IAAI,KAAK,cAAc,CAAC,WAAW;4BAAE,SAAS;wBAAQ,GAAG,MAAM,CAC9D,IAAI,KAAK,KAAK,GAAG,CAAC,MAAM,GAAG,KAAK;uBAF1B;;;;;;;;;;0BAOd,8OAAC;gBAAI,WAAU;0BACZ,MAAM,IAAI,CAAC;oBAAE,QAAQ,QAAQ;gBAAK,GAAG,GAAG,CAAC,CAAC,GAAG;oBAC5C,MAAM,OAAO,IAAI,KAAK,KAAK,GAAG,CAAC,MAAM,GAAG,KAAK;oBAC7C,MAAM,MAAM,KAAK,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;oBAC5C,MAAM,YAAY,OAAO,CAAC,IAAI,IAAI,EAAE;oBACpC,qBACE,8OAAC;wBAEC,WAAU;wBACV,eAAe;;0CAEf,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;kDAAM,KAAK,UAAU;;;;;;kDACtB,8OAAC;wCACC,WAAU;wCACV,SAAS;kDACV;;;;;;;;;;;;0CAIH,8OAAC;gCAAI,WAAU;;oCACZ,UAAU,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,sBAC1B,8OAAC;4CAEC,SAAS,IAAM,YAAY;4CAC3B,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,8FACA,eAAe,CAAC,MAAM,QAAQ,CAAC,CAAC,IAAI;;8DAGtC,8OAAC;oDAAK,WAAU;8DAAuB,MAAM,KAAK;;;;;;8DAClD,8OAAC;oDAAK,WAAU;8DACb,IAAI,KAAK,cAAc,CAAC,WAAW;wDAAE,MAAM;oDAAU,GAAG,MAAM,CAC7D,IAAI,KAAK,MAAM,KAAK;;;;;;;2CAVnB,MAAM,EAAE;;;;;oCAehB,UAAU,MAAM,GAAG,kBAClB,8OAAC;wCAAO,WAAU;wCAA8B,SAAS,IAAM,YAAY,SAAS,CAAC,EAAE;;4CAAG;4CACtF,UAAU,MAAM,GAAG;4CAAE;;;;;;+CAEvB;;;;;;;;uBAnCD;;;;;gBAuCX;;;;;;;;;;;;AAIR;AACA,SAAS,iBAAiB,EACxB,IAAI,EACJ,YAAY,EACZ,SAAS,EACT,iBAAiB,EACjB,kBAAkB,EAClB,SAAS,EACT,SAAS,EASV;IACC,qBACE,8OAAC,kIAAA,CAAA,SAAM;QAAC,MAAM;QAAM,cAAc;kBAChC,cAAA,8OAAC,kIAAA,CAAA,gBAAa;YAAC,WAAU;;8BACvB,8OAAC,kIAAA,CAAA,eAAY;oBAAC,WAAU;;sCACtB,8OAAC,kIAAA,CAAA,cAAW;4BAAC,WAAU;;8CACrB,8OAAC,wNAAA,CAAA,gBAAa;oCAAC,WAAU;;;;;;gCAA6B;;;;;;;sCAExD,8OAAC,kIAAA,CAAA,oBAAiB;4BAAC,WAAU;sCAAyB;;;;;;;;;;;;8BAIxD,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;;sDACC,8OAAC;4CAAE,WAAU;sDAAqC;;;;;;sDAClD,8OAAC;4CAAE,WAAU;sDACV,oBAAoB,gCAAgC;;;;;;;;;;;;8CAGzD,8OAAC,kIAAA,CAAA,SAAM;oCACL,MAAK;oCACL,WAAU;oCACV,SAAS,IAAM,mBAAmB,CAAC;8CAElC,oBAAoB,eAAe;;;;;;;;;;;;sCAIxC,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;sDAAK;;;;;;sDACN,8OAAC,kIAAA,CAAA,SAAM;4CAAC,MAAK;4CAAK,SAAQ;4CAAQ,WAAU;sDAAiD;;;;;;;;;;;;8CAI/F,8OAAC;oCAAI,WAAU;8CACZ,UAAU,GAAG,CAAC,CAAC,yBACd,8OAAC;4CAEC,WAAU;;8DAEV,8OAAC;oDAAK,WAAU;;sEACd,8OAAC;4DAAK,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,wBAAwB,SAAS,KAAK;;;;;;wDACzD,SAAS,IAAI;;;;;;;8DAEhB,8OAAC,kIAAA,CAAA,SAAM;oDAAC,gBAAgB,SAAS,EAAE,KAAK;;;;;;;2CAPnC,SAAS,EAAE;;;;;;;;;;;;;;;;sCAaxB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;;sDACC,8OAAC,iIAAA,CAAA,QAAK;4CAAC,WAAU;sDAAiD;;;;;;sDAClE,8OAAC;4CAAI,WAAU;;8DACb,8OAAC,kIAAA,CAAA,SAAM;oDAAC,MAAK;oDAAK,SAAQ;oDAAU,WAAU;8DAAmD;;;;;;8DAGjG,8OAAC,kIAAA,CAAA,SAAM;oDAAC,MAAK;oDAAK,SAAQ;oDAAU,WAAU;8DAAmD;;;;;;;;;;;;;;;;;;8CAKrG,8OAAC;;sDACC,8OAAC,iIAAA,CAAA,QAAK;4CAAC,WAAU;sDAAiD;;;;;;sDAClE,8OAAC;4CAAE,WAAU;;gDAA8B;8DAC3B,8OAAC;8DAAO;;;;;;gDAAmB;;;;;;;;;;;;;;;;;;;;;;;;;8BAKjD,8OAAC,kIAAA,CAAA,eAAY;oBAAC,WAAU;;sCACtB,8OAAC;4BAAE,WAAU;;gCACV,0BAAY,8OAAC,iNAAA,CAAA,UAAO;oCAAC,WAAU;;;;;2CAA4B;gCAAK;;;;;;;sCAGnE,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,kIAAA,CAAA,SAAM;oCACL,SAAQ;oCACR,WAAU;oCACV,SAAS,IAAM,aAAa;8CAC7B;;;;;;8CAGD,8OAAC,kIAAA,CAAA,SAAM;oCACL,WAAU;oCACV,SAAS;oCACT,UAAU;8CAET,0BAAY,8OAAC,iNAAA,CAAA,UAAO;wCAAC,WAAU;;;;;+CAA4B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO1E;AACA,SAAS,UAAU,EACjB,IAAI,EACJ,YAAY,EACZ,IAAI,EACJ,YAAY,EACZ,SAAS,EACT,MAAM,EAQP;IACC,qBACE,8OAAC,kIAAA,CAAA,SAAM;QAAC,MAAM;QAAM,cAAc;kBAChC,cAAA,8OAAC,kIAAA,CAAA,gBAAa;YAAC,WAAU;;8BACvB,8OAAC,kIAAA,CAAA,eAAY;oBAAC,WAAU;;sCACtB,8OAAC,kIAAA,CAAA,cAAW;4BAAC,WAAU;;8CACrB,8OAAC,0MAAA,CAAA,WAAQ;oCAAC,WAAU;;;;;;gCAAyB;;;;;;;sCAE/C,8OAAC,kIAAA,CAAA,oBAAiB;4BAAC,WAAU;sCAAyB;;;;;;;;;;;;8BAIxD,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;;8CACC,8OAAC,iIAAA,CAAA,QAAK;oCAAC,WAAU;8CAAiD;;;;;;8CAClE,8OAAC,oIAAA,CAAA,WAAQ;oCACP,OAAO;oCACP,UAAU,CAAC,QAAU,aAAa,MAAM,MAAM,CAAC,KAAK;oCACpD,WAAU;oCACV,aAAY;;;;;;;;;;;;sCAGhB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAE,WAAU;8CAAiD;;;;;;8CAC9D,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAE,WAAU;sDAA2B;;;;;;sDACxC,8OAAC;4CAAE,WAAU;sDAAyB;;;;;;sDACtC,8OAAC;4CAAE,WAAU;sDAAyB;;;;;;;;;;;;;;;;;;;;;;;;8BAI5C,8OAAC,kIAAA,CAAA,eAAY;oBAAC,WAAU;;sCACtB,8OAAC,kIAAA,CAAA,SAAM;4BACL,SAAQ;4BACR,WAAU;4BACV,SAAS;sCACV;;;;;;sCAGD,8OAAC,kIAAA,CAAA,SAAM;4BACL,WAAU;4BACV,SAAS;sCACV;;;;;;;;;;;;;;;;;;;;;;;AAOX;AACA,SAAS,oBAAoB,EAC3B,IAAI,EACJ,YAAY,EACZ,MAAM,EAKP;IACC,qBACE,8OAAC,iIAAA,CAAA,QAAK;QAAC,MAAM;QAAM,cAAc;kBAC/B,cAAA,8OAAC,iIAAA,CAAA,eAAY;YAAC,WAAU;;8BACtB,8OAAC,iIAAA,CAAA,cAAW;;sCACV,8OAAC,iIAAA,CAAA,aAAU;4BAAC,WAAU;;8CACpB,8OAAC,sNAAA,CAAA,eAAY;oCAAC,WAAU;;;;;;gCAA4B;;;;;;;sCAEtD,8OAAC,iIAAA,CAAA,mBAAgB;4BAAC,WAAU;sCAAyB;;;;;;;;;;;;8BAIvD,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,iIAAA,CAAA,QAAK;oCAAC,WAAU;8CAAiD;;;;;;8CAClE,8OAAC,iIAAA,CAAA,QAAK;oCAAC,WAAU;oCAA8D,cAAa;;;;;;;;;;;;sCAE9F,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,iIAAA,CAAA,QAAK;oCAAC,WAAU;8CAAiD;;;;;;8CAClE,8OAAC;oCAAI,WAAU;8CACZ;wCACC;wCACA;wCACA;wCACA;qCACD,CAAC,GAAG,CAAC,CAAC,uBACL,8OAAC,kIAAA,CAAA,SAAM;4CAAc,MAAK;4CAAK,SAAQ;4CAAU,WAAU;sDACxD;2CADU;;;;;;;;;;;;;;;;sCAMnB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,iIAAA,CAAA,QAAK;oCAAC,WAAU;8CAAiD;;;;;;8CAClE,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;8DAAK;;;;;;8DACN,8OAAC,kIAAA,CAAA,SAAM;oDAAC,MAAK;oDAAK,SAAQ;oDAAQ,WAAU;8DAAiD;;;;;;;;;;;;sDAI/F,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;8DAAK;;;;;;8DACN,8OAAC,kIAAA,CAAA,SAAM;oDAAC,MAAK;oDAAK,SAAQ;oDAAQ,WAAU;8DAAiD;;;;;;;;;;;;sDAI/F,8OAAC,kIAAA,CAAA,SAAM;4CAAC,MAAK;4CAAK,SAAQ;4CAAU,WAAU;sDAAmD;;;;;;;;;;;;;;;;;;sCAKrG,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,iIAAA,CAAA,QAAK;oCAAC,WAAU;8CAAiD;;;;;;8CAClE,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAE,WAAU;sDAAyB;;;;;;sDACtC,8OAAC;4CAAI,WAAU;;8DACb,8OAAC,kIAAA,CAAA,SAAM;oDAAC,MAAK;oDAAK,SAAQ;oDAAU,WAAU;8DAAmD;;;;;;8DAGjG,8OAAC,kIAAA,CAAA,SAAM;oDAAC,MAAK;oDAAK,SAAQ;oDAAU,WAAU;8DAAmD;;;;;;8DAGjG,8OAAC,kIAAA,CAAA,SAAM;oDAAC,MAAK;oDAAK,SAAQ;oDAAU,WAAU;8DAAmD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAOzG,8OAAC,iIAAA,CAAA,cAAW;oBAAC,WAAU;;sCACrB,8OAAC,kIAAA,CAAA,SAAM;4BACL,SAAQ;4BACR,WAAU;4BACV,SAAS,IAAM,aAAa;sCAC7B;;;;;;sCAGD,8OAAC,kIAAA,CAAA,SAAM;4BACL,WAAU;4BACV,SAAS;gCACP;gCACA,aAAa;4BACf;sCACD;;;;;;;;;;;;;;;;;;;;;;;AAOX;AACA,SAAS,aAAa,EACpB,IAAI,EACJ,YAAY,EACZ,eAAe,EACf,gBAAgB,EAChB,aAAa,EACb,cAAc,EACd,YAAY,EASb;IACC,qBACE,8OAAC,iIAAA,CAAA,QAAK;QAAC,MAAM;QAAM,cAAc;kBAC/B,cAAA,8OAAC,iIAAA,CAAA,eAAY;YAAC,WAAU;;8BACtB,8OAAC,iIAAA,CAAA,cAAW;;sCACV,8OAAC,iIAAA,CAAA,aAAU;4BAAC,WAAU;;8CACpB,8OAAC,sMAAA,CAAA,SAAM;oCAAC,WAAU;;;;;;gCAA6B;;;;;;;sCAEjD,8OAAC,iIAAA,CAAA,mBAAgB;4BAAC,WAAU;sCAAyB;;;;;;;;;;;;8BAIvD,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,iIAAA,CAAA,QAAK;oCAAC,WAAU;8CAAiD;;;;;;8CAClE,8OAAC,0IAAA,CAAA,aAAU;oCAAC,WAAU;8CACpB,cAAA,8OAAC;wCAAI,WAAU;kDACZ,iBAAiB,GAAG,CAAC,CAAC,yBACrB,8OAAC;gDAAqB,WAAU;;kEAC9B,8OAAC;wDAAK,WAAU;;0EACd,8OAAC;gEACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,4BACA,eAAe,CAAC,SAAS,CAAC,MAAM;;;;;;4DAGnC;;;;;;;kEAEH,8OAAC,kIAAA,CAAA,SAAM;wDAAC,SAAS,eAAe,CAAC,SAAS;wDAAE,iBAAiB,IAAM,iBAAiB;;;;;;;+CAV1E;;;;;;;;;;;;;;;;;;;;;sCAgBpB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,iIAAA,CAAA,QAAK;oCAAC,WAAU;8CAAiD;;;;;;8CAClE,8OAAC;oCAAI,WAAU;8CACZ,eAAe,GAAG,CAAC,CAAC,uBACnB,8OAAC;4CAAmB,WAAU;;8DAC5B,8OAAC;8DAAM;;;;;;8DACP,8OAAC,kIAAA,CAAA,SAAM;oDAAC,SAAS,aAAa,CAAC,OAAO;oDAAE,iBAAiB,IAAM,eAAe;;;;;;;2CAFpE;;;;;;;;;;;;;;;;sCAOlB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,iIAAA,CAAA,QAAK;oCAAC,WAAU;8CAAiD;;;;;;8CAClE,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,kIAAA,CAAA,SAAM;4CAAC,MAAK;4CAAK,SAAQ;4CAAU,WAAU;sDAAmD;;;;;;sDAGjG,8OAAC,kIAAA,CAAA,SAAM;4CAAC,MAAK;4CAAK,SAAQ;4CAAU,WAAU;sDAAmD;;;;;;sDAGjG,8OAAC,kIAAA,CAAA,SAAM;4CAAC,MAAK;4CAAK,SAAQ;4CAAU,WAAU;sDAAmD;;;;;;;;;;;;;;;;;;;;;;;;8BAMvG,8OAAC,iIAAA,CAAA,cAAW;oBAAC,WAAU;;sCACrB,8OAAC,kIAAA,CAAA,SAAM;4BACL,SAAQ;4BACR,WAAU;4BACV,SAAS,IAAM,aAAa;sCAC7B;;;;;;sCAGD,8OAAC,kIAAA,CAAA,SAAM;4BACL,WAAU;4BACV,SAAS;gCACP;gCACA,aAAa;4BACf;sCACD;;;;;;;;;;;;;;;;;;;;;;;AAOX;AACA,SAAS,WAAW,EAClB,IAAI,EACJ,YAAY,EACZ,KAAK,EACL,MAAM,EACN,QAAQ,EACR,OAAO,EAQR;IACC,qBACE,8OAAC,kIAAA,CAAA,SAAM;QAAC,MAAM;QAAM,cAAc;kBAChC,cAAA,8OAAC,kIAAA,CAAA,gBAAa;YAAC,WAAU;;8BACvB,8OAAC,kIAAA,CAAA,eAAY;oBAAC,WAAU;;sCACtB,8OAAC,kIAAA,CAAA,cAAW;4BAAC,WAAU;;8CACrB,8OAAC,sNAAA,CAAA,eAAY;oCAAC,WAAU;;;;;;gCAA4B;gCAAE,QAAQ,eAAe;;;;;;;sCAE/E,8OAAC,kIAAA,CAAA,oBAAiB;4BAAC,WAAU;sCAAyB;;;;;;;;;;;;8BAIxD,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,iIAAA,CAAA,QAAK;4CAAC,WAAU;sDAAiD;;;;;;sDAClE,8OAAC,iIAAA,CAAA,QAAK;4CACJ,WAAU;4CACV,cAAc,OAAO,SAAS;4CAC9B,aAAY;;;;;;;;;;;;8CAGhB,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;;8DACb,8OAAC,iIAAA,CAAA,QAAK;oDAAC,WAAU;8DAAiD;;;;;;8DAClE,8OAAC,iIAAA,CAAA,QAAK;oDACJ,MAAK;oDACL,WAAU;oDACV,cAAc,OAAO,MAAM,MAAM,GAAG;;;;;;;;;;;;sDAGxC,8OAAC;4CAAI,WAAU;;8DACb,8OAAC,iIAAA,CAAA,QAAK;oDAAC,WAAU;8DAAiD;;;;;;8DAClE,8OAAC,iIAAA,CAAA,QAAK;oDACJ,MAAK;oDACL,WAAU;oDACV,cAAc,OAAO,IAAI,MAAM,GAAG;;;;;;;;;;;;;;;;;;8CAIxC,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,iIAAA,CAAA,QAAK;4CAAC,WAAU;sDAAiD;;;;;;sDAClE,8OAAC,iIAAA,CAAA,QAAK;4CACJ,WAAU;4CACV,cAAc,OAAO,YAAY;4CACjC,aAAY;;;;;;;;;;;;8CAGhB,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,iIAAA,CAAA,QAAK;4CAAC,WAAU;sDAAiD;;;;;;sDAClE,8OAAC,oIAAA,CAAA,WAAQ;4CACP,WAAU;4CACV,cAAc,OAAO,eAAe;;;;;;;;;;;;8CAGxC,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;;8DACb,8OAAC,iIAAA,CAAA,QAAK;oDAAC,WAAU;8DAAiD;;;;;;8DAClE,8OAAC,kIAAA,CAAA,SAAM;oDAAC,MAAK;oDAAK,SAAQ;oDAAU,WAAU;8DAC3C,OAAO,aAAa,gBAAgB,WAAW;;;;;;;;;;;;sDAGpD,8OAAC;4CAAI,WAAU;;8DACb,8OAAC,iIAAA,CAAA,QAAK;oDAAC,WAAU;8DAAiD;;;;;;8DAClE,8OAAC;oDAAI,WAAU;;sEACb,8OAAC,kIAAA,CAAA,SAAM;4DAAC,MAAK;4DAAK,SAAQ;4DAAU,WAAU;sEAAmD;;;;;;sEAGjG,8OAAC,kIAAA,CAAA,SAAM;4DAAC,MAAK;4DAAK,SAAQ;4DAAU,WAAU;sEAAmD;;;;;;sEAGjG,8OAAC,kIAAA,CAAA,SAAM;4DAAC,MAAK;4DAAK,SAAQ;4DAAU,WAAU;sEAAmD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sCAOzG,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,iIAAA,CAAA,QAAK;4CAAC,WAAU;sDAAiD;;;;;;sDAClE,8OAAC;4CAAI,WAAU;sDACZ,iBAAiB,GAAG,CAAC,CAAC,yBACrB,8OAAC,kIAAA,CAAA,SAAM;oDAEL,MAAK;oDACL,SAAQ;oDACR,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,oDACA,OAAO,aAAa,YAAY;8DAGjC;mDARI;;;;;;;;;;;;;;;;8CAab,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,iIAAA,CAAA,QAAK;4CAAC,WAAU;sDAAiD;;;;;;sDAClE,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DAAK,WAAU;;8EACd,8OAAC,8MAAA,CAAA,WAAQ;oEAAC,WAAU;;;;;;gEAAY;;;;;;;sEAElC,8OAAC,kIAAA,CAAA,SAAM;4DAAC,MAAK;4DAAK,SAAQ;4DAAQ,WAAU;sEAAiD;;;;;;;;;;;;8DAI/F,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DAAK,WAAU;;8EACd,8OAAC,sMAAA,CAAA,SAAM;oEAAC,WAAU;;;;;;gEAAY;;;;;;;sEAEhC,8OAAC,kIAAA,CAAA,SAAM;4DAAC,MAAK;4DAAK,SAAQ;4DAAQ,WAAU;sEAAiD;;;;;;;;;;;;8DAI/F,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DAAK,WAAU;;8EACd,8OAAC,kMAAA,CAAA,OAAI;oEAAC,WAAU;;;;;;gEAAY;;;;;;;sEAE9B,8OAAC,kIAAA,CAAA,SAAM;4DAAC,MAAK;4DAAK,SAAQ;4DAAQ,WAAU;sEAAiD;;;;;;;;;;;;;;;;;;;;;;;;8CAMnG,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,iIAAA,CAAA,QAAK;4CAAC,WAAU;sDAAiD;;;;;;sDAClE,8OAAC;4CAAI,WAAU;sDACZ;gDACC;oDAAE,OAAO;oDAAY,SAAS;gDAAW;gDACzC;oDAAE,OAAO;oDAAO,SAAS;gDAAM;gDAC/B;oDAAE,OAAO;oDAAO,SAAS;gDAAM;6CAChC,CAAC,GAAG,CAAC,CAAC,qBACL,8OAAC,kIAAA,CAAA,SAAM;oDAEL,MAAK;oDACL,SAAQ;oDACR,WAAU;oDACV,SAAS,IAAM,QAAQ,KAAK,OAAO;;sEAEnC,8OAAC,0MAAA,CAAA,SAAM;4DAAC,WAAU;;;;;;wDAAqB;wDAAE,KAAK,KAAK;;mDAN9C,KAAK,KAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAa3B,8OAAC,kIAAA,CAAA,eAAY;oBAAC,WAAU;;sCACtB,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,kIAAA,CAAA,SAAM;gCACL,SAAQ;gCACR,WAAU;gCACV,SAAS;;kDAET,8OAAC,0MAAA,CAAA,SAAM;wCAAC,WAAU;;;;;;oCAAiB;;;;;;;;;;;;sCAGvC,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,kIAAA,CAAA,SAAM;oCACL,WAAU;oCACV,SAAS,IAAM,OAAO;8CACvB;;;;;;8CAGD,8OAAC,kIAAA,CAAA,SAAM;oCACL,WAAU;oCACV,SAAS,IAAM,OAAO;8CACvB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQb;AACA,SAAS,oBAAoB,EAC3B,MAAM,EACN,OAAO,EACP,iBAAiB,EAKlB;IACC,qBACE;;0BACE,8OAAC,iIAAA,CAAA,QAAK;gBAAC,MAAM,QAAQ,SAAS;gBAAQ,cAAc,CAAC,OAAS,CAAC,QAAQ;0BACrE,cAAA,8OAAC,iIAAA,CAAA,eAAY;oBAAC,WAAU;;sCACtB,8OAAC,iIAAA,CAAA,cAAW;;8CACV,8OAAC,iIAAA,CAAA,aAAU;oCAAC,WAAU;;sDACpB,8OAAC,sNAAA,CAAA,eAAY;4CAAC,WAAU;;;;;;wCAA0B;;;;;;;8CAEpD,8OAAC,iIAAA,CAAA,mBAAgB;oCAAC,WAAU;8CAAyB;;;;;;;;;;;;wBAItD,QAAQ,SAAS,uBAChB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAE,WAAU;sDAAiD;;;;;;sDAC9D,8OAAC;4CAAE,WAAU;sDAAyC,OAAO,IAAI;;;;;;sDACjE,8OAAC;4CAAE,WAAU;;gDAAyB;gDAAU,OAAO,MAAM;;;;;;;sDAC7D,8OAAC;4CAAE,WAAU;;gDAA8B;gDAAK,OAAO,GAAG;;;;;;;;;;;;;8CAE5D,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;sDAAK;;;;;;sDACN,8OAAC,kIAAA,CAAA,SAAM;4CAAC,cAAc;;;;;;;;;;;;8CAExB,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,kIAAA,CAAA,SAAM;4CACL,MAAK;4CACL,WAAU;4CACV,SAAS,IAAM,kBAAkB;sDAClC;;;;;;sDAGD,8OAAC,kIAAA,CAAA,SAAM;4CACL,MAAK;4CACL,SAAQ;4CACR,WAAU;4CACV,SAAS;sDACV;;;;;;;;;;;;;;;;;mCAKH;;;;;;;;;;;;0BAIR,8OAAC,kIAAA,CAAA,SAAM;gBAAC,MAAM,QAAQ,SAAS;gBAAY,cAAc,CAAC,OAAS,CAAC,QAAQ;0BAC1E,cAAA,8OAAC,kIAAA,CAAA,gBAAa;oBAAC,WAAU;8BACtB,QAAQ,SAAS,2BAChB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,kIAAA,CAAA,eAAY;gCAAC,WAAU;;kDACtB,8OAAC,kIAAA,CAAA,cAAW;wCAAC,WAAU;;0DACrB,8OAAC,8MAAA,CAAA,WAAQ;gDAAC,WAAU;;;;;;4CAA4B;4CAAE,OAAO,IAAI;;;;;;;kDAE/D,8OAAC,kIAAA,CAAA,oBAAiB;wCAAC,WAAU;kDAAyB;;;;;;;;;;;;0CAIxD,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAE,WAAU;kDAAiD;;;;;;kDAC9D,8OAAC;wCAAE,WAAU;kDAA+B,OAAO,OAAO;;;;;;kDAC1D,8OAAC;wCAAI,WAAU;kDAAmH;;;;;;;;;;;;0CAIpI,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,kIAAA,CAAA,SAAM;wCACL,MAAK;wCACL,WAAU;wCACV,SAAS,IAAM,kBAAkB;kDAClC;;;;;;kDAGD,8OAAC,kIAAA,CAAA,SAAM;wCACL,MAAK;wCACL,SAAQ;wCACR,WAAU;wCACV,SAAS;kDACV;;;;;;;;;;;;;;;;;+BAKH;;;;;;;;;;;0BAIR,8OAAC,iIAAA,CAAA,QAAK;gBAAC,MAAM,QAAQ,SAAS;gBAAc,cAAc,CAAC,OAAS,CAAC,QAAQ;0BAC3E,cAAA,8OAAC,iIAAA,CAAA,eAAY;oBAAC,WAAU;;sCACtB,8OAAC,iIAAA,CAAA,cAAW;;8CACV,8OAAC,iIAAA,CAAA,aAAU;oCAAC,WAAU;;sDACpB,8OAAC,kMAAA,CAAA,OAAI;4CAAC,WAAU;;;;;;wCAA6B;;;;;;;8CAE/C,8OAAC,iIAAA,CAAA,mBAAgB;oCAAC,WAAU;8CAAyB;;;;;;;;;;;;wBAItD,QAAQ,SAAS,6BAChB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAE,WAAU;sDAAiD;;;;;;sDAC9D,8OAAC;4CAAE,WAAU;sDAAyC,OAAO,IAAI;;;;;;sDACjE,8OAAC;4CAAE,WAAU;;gDAAyB;gDAAQ,OAAO,IAAI;;;;;;;;;;;;;8CAE3D,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,kIAAA,CAAA,SAAM;4CACL,MAAK;4CACL,WAAU;4CACV,SAAS,IAAM,kBAAkB;sDAClC;;;;;;sDAGD,8OAAC,kIAAA,CAAA,SAAM;4CACL,MAAK;4CACL,SAAQ;4CACR,WAAU;4CACV,SAAS;sDACV;;;;;;;;;;;;;;;;;mCAKH;;;;;;;;;;;;0BAIR,8OAAC,iIAAA,CAAA,QAAK;gBAAC,MAAM,QAAQ,SAAS;gBAAW,cAAc,CAAC,OAAS,CAAC,QAAQ;0BACxE,cAAA,8OAAC,iIAAA,CAAA,eAAY;oBAAC,WAAU;;sCACtB,8OAAC,iIAAA,CAAA,cAAW;;8CACV,8OAAC,iIAAA,CAAA,aAAU;oCAAC,WAAU;;sDACpB,8OAAC,sMAAA,CAAA,SAAM;4CAAC,WAAU;;;;;;wCAA0B;;;;;;;8CAE9C,8OAAC,iIAAA,CAAA,mBAAgB;oCAAC,WAAU;8CAAyB;;;;;;;;;;;;wBAItD,QAAQ,SAAS,0BAChB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAE,WAAU;sDAAiD;;;;;;sDAC9D,8OAAC;4CAAE,WAAU;sDAAyC,OAAO,IAAI;;;;;;sDACjE,8OAAC;4CAAE,WAAU;;gDAAyB;gDAAW,OAAO,OAAO;;;;;;;;;;;;;8CAEjE,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAE,WAAU;sDAAiD;;;;;;sDAC9D,8OAAC;4CAAG,WAAU;;8DACZ,8OAAC;8DAAG;;;;;;8DACJ,8OAAC;8DAAG;;;;;;8DACJ,8OAAC;8DAAG;;;;;;;;;;;;;;;;;;8CAGR,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,kIAAA,CAAA,SAAM;4CACL,MAAK;4CACL,WAAU;4CACV,SAAS,IAAM,kBAAkB;sDAClC;;;;;;sDAGD,8OAAC,kIAAA,CAAA,SAAM;4CACL,MAAK;4CACL,SAAQ;4CACR,WAAU;4CACV,SAAS;sDACV;;;;;;;;;;;;;;;;;mCAKH;;;;;;;;;;;;;;AAKd;AACA,SAAS,gBAAgB,EACvB,CAAC,EACD,CAAC,EACD,KAAK,EACL,MAAM,EACN,OAAO,EACP,aAAa,EAQd;IACC,qBACE,8OAAC;QACC,WAAU;QACV,OAAO;YAAE,KAAK;YAAG,MAAM;QAAE;QACzB,SAAS,CAAC,IAAM,EAAE,eAAe;kBAEjC,cAAA,8OAAC,gIAAA,CAAA,OAAI;YAAC,WAAU;;8BACd,8OAAC;oBAAE,WAAU;8BAA4D,MAAM,KAAK;;;;;;8BACpF,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BACC,WAAU;4BACV,SAAS;gCACP,OAAO;gCACP;4BACF;;8CAEA,8OAAC;oCAAK,WAAU;;sDAA0B,8OAAC,oMAAA,CAAA,QAAK;4CAAC,WAAU;;;;;;wCAAY;;;;;;;8CACvE,8OAAC,kNAAA,CAAA,aAAU;oCAAC,WAAU;;;;;;;;;;;;sCAExB,8OAAC;4BACC,WAAU;4BACV,SAAS;gCACP,cAAc,OAAO;gCACrB;4BACF;;8CAEA,8OAAC;oCAAK,WAAU;;sDAA0B,8OAAC,8MAAA,CAAA,WAAQ;4CAAC,WAAU;;;;;;wCAAY;;;;;;;8CAC1E,8OAAC,kNAAA,CAAA,aAAU;oCAAC,WAAU;;;;;;;;;;;;sCAExB,8OAAC;4BACC,WAAU;4BACV,SAAS;gCACP,cAAc,OAAO;gCACrB;4BACF;;8CAEA,8OAAC;oCAAK,WAAU;;sDAA0B,8OAAC,oMAAA,CAAA,QAAK;4CAAC,WAAU;;;;;;wCAAY;;;;;;;8CACvE,8OAAC,kNAAA,CAAA,aAAU;oCAAC,WAAU;;;;;;;;;;;;sCAExB,8OAAC;4BAAO,WAAU;;8CAChB,8OAAC;oCAAK,WAAU;;sDAA0B,8OAAC,kMAAA,CAAA,OAAI;4CAAC,WAAU;;;;;;wCAAY;;;;;;;8CACtE,8OAAC,kNAAA,CAAA,aAAU;oCAAC,WAAU;;;;;;;;;;;;sCAExB,8OAAC;4BAAO,WAAU;;8CAChB,8OAAC;oCAAK,WAAU;;sDAA0B,8OAAC,0MAAA,CAAA,SAAM;4CAAC,WAAU;;;;;;wCAAY;;;;;;;8CACxE,8OAAC,kNAAA,CAAA,aAAU;oCAAC,WAAU;;;;;;;;;;;;sCAExB,8OAAC;4BACC,WAAU;4BACV,SAAS;gCACP;4BACF;;8CAEA,8OAAC;oCAAK,WAAU;;sDAA0B,8OAAC,0MAAA,CAAA,SAAM;4CAAC,WAAU;;;;;;wCAAY;;;;;;;8CACxE,8OAAC,kNAAA,CAAA,aAAU;oCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMlC","debugId":null}}]
}