{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/layout/page-header.tsx"],"sourcesContent":["\"use client\";\n\nimport { motion } from \"framer-motion\";\nimport { ReactNode } from \"react\";\nimport { Button } from \"@/components/ui/button\";\n\ninterface PageHeaderProps {\n  title: string;\n  description?: string;\n  actions?: ReactNode;\n}\n\nexport function PageHeader({ title, description, actions }: PageHeaderProps) {\n  return (\n    <div className=\"flex flex-col gap-4 pb-8 lg:flex-row lg:items-center lg:justify-between\">\n      <div className=\"space-y-1\">\n        <motion.h1\n          className=\"text-3xl font-headline font-semibold tracking-tight text-primary\"\n          initial={{ opacity: 0, y: 12 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ type: \"spring\", stiffness: 120, damping: 16 }}\n        >\n          {title}\n        </motion.h1>\n        {description ? (\n          <motion.p\n            className=\"text-sm text-muted-foreground max-w-2xl\"\n            initial={{ opacity: 0, y: 8 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: 0.05, duration: 0.3 }}\n          >\n            {description}\n          </motion.p>\n        ) : null}\n      </div>\n      {actions ? (\n        <motion.div\n          className=\"flex flex-wrap items-center gap-2\"\n          initial={{ opacity: 0, y: -6 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: 0.1, duration: 0.2 }}\n        >\n          {actions}\n        </motion.div>\n      ) : null}\n    </div>\n  );\n}\n\nexport function PagePrimaryAction({ children }: { children: ReactNode }) {\n  return (\n    <Button\n      size=\"lg\"\n      className=\"relative overflow-hidden rounded-2xl bg-gradient-to-r from-cyan-500 via-sky-500 to-indigo-500 px-6 font-medium text-white shadow-xl shadow-cyan-900/40 transition hover:shadow-2xl focus-visible:ring-cyan-400\"\n    >\n      <span className=\"relative z-10\">{children}</span>\n      <span className=\"absolute inset-0 rounded-2xl bg-white/10 mix-blend-overlay\" />\n    </Button>\n  );\n}\n\nexport function PageSecondaryAction({ children }: { children: ReactNode }) {\n  return (\n    <Button\n      variant=\"outline\"\n      size=\"lg\"\n      className=\"rounded-2xl border-slate-700 bg-slate-900/40 text-slate-200 backdrop-blur transition hover:bg-slate-800\"\n    >\n      {children}\n    </Button>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAEA;AAEA;AAJA;;;;AAYO,SAAS,WAAW,EAAE,KAAK,EAAE,WAAW,EAAE,OAAO,EAAmB;IACzE,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,0LAAA,CAAA,SAAM,CAAC,EAAE;wBACR,WAAU;wBACV,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAG;wBAC7B,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAE;wBAC5B,YAAY;4BAAE,MAAM;4BAAU,WAAW;4BAAK,SAAS;wBAAG;kCAEzD;;;;;;oBAEF,4BACC,8OAAC,0LAAA,CAAA,SAAM,CAAC,CAAC;wBACP,WAAU;wBACV,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAE;wBAC5B,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAE;wBAC5B,YAAY;4BAAE,OAAO;4BAAM,UAAU;wBAAI;kCAExC;;;;;+BAED;;;;;;;YAEL,wBACC,8OAAC,0LAAA,CAAA,SAAM,CAAC,GAAG;gBACT,WAAU;gBACV,SAAS;oBAAE,SAAS;oBAAG,GAAG,CAAC;gBAAE;gBAC7B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,YAAY;oBAAE,OAAO;oBAAK,UAAU;gBAAI;0BAEvC;;;;;uBAED;;;;;;;AAGV;AAEO,SAAS,kBAAkB,EAAE,QAAQ,EAA2B;IACrE,qBACE,8OAAC,kIAAA,CAAA,SAAM;QACL,MAAK;QACL,WAAU;;0BAEV,8OAAC;gBAAK,WAAU;0BAAiB;;;;;;0BACjC,8OAAC;gBAAK,WAAU;;;;;;;;;;;;AAGtB;AAEO,SAAS,oBAAoB,EAAE,QAAQ,EAA2B;IACvE,qBACE,8OAAC,kIAAA,CAAA,SAAM;QACL,SAAQ;QACR,MAAK;QACL,WAAU;kBAET;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 145, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACtB;AAGF,MAAM,sBAAQ,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAI3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,iKAAA,CAAA,OAAmB;QAClB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iBAAiB;QAC9B,GAAG,KAAK;;;;;;AAGb,MAAM,WAAW,GAAG,iKAAA,CAAA,OAAmB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 177, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/select.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 369, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 450, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/household/MemberCard.tsx"],"sourcesContent":["\"use client\";\n\nimport { memo } from \"react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport type { CareProfile, Member } from \"@/lib/household/types\";\n\ninterface MemberCardProps {\n  member: Member;\n  careProfiles: CareProfile[];\n  onNudge: (member: Member) => void;\n  onEdit?: (member: Member) => void;\n}\n\nexport const MemberCard = memo(function MemberCard({ member, careProfiles, onNudge, onEdit }: MemberCardProps) {\n  const profileCount = careProfiles.filter((profile) => profile.memberId === member.id).length;\n  return (\n    <Card className=\"group relative h-full rounded-3xl border border-slate-900/60 bg-slate-950/80 shadow-2xl transition hover:border-slate-700/80\">\n      <CardHeader className=\"flex flex-row items-start justify-between space-y-0\">\n        <div>\n          <CardTitle className=\"text-lg text-slate-50\">{member.name}</CardTitle>\n          <p className=\"text-xs uppercase tracking-wider text-slate-500\">{member.roleLabel ?? member.relation}</p>\n        </div>\n        <Button variant=\"ghost\" size=\"icon\" onClick={() => onEdit?.(member)} className=\"rounded-full text-slate-500 hover:text-slate-100\">\n          <span className=\"sr-only\">Edit member</span>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={1.5}>\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-3.243.865.865-3.243a4.5 4.5 0 011.13-1.897L16.862 4.487z\" />\n          </svg>\n        </Button>\n      </CardHeader>\n      <CardContent className=\"space-y-4 text-sm text-slate-300\">\n        <div className=\"grid gap-2\">\n          <div>\n            <p className=\"text-xs uppercase tracking-wide text-slate-500\">Contact</p>\n            <p className=\"font-medium text-slate-200\">{member.phone ?? \"No phone on file\"}</p>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <Badge variant=\"secondary\" className=\"rounded-xl bg-slate-800/70 text-xs text-slate-200\">\n              Nudges ready\n            </Badge>\n            <Badge variant=\"secondary\" className=\"rounded-xl bg-cyan-900/40 text-xs text-cyan-200\">\n              Care profiles â€¢ {profileCount}\n            </Badge>\n          </div>\n          {member.notes ? (\n            <p className=\"rounded-2xl bg-slate-900/60 p-3 text-xs text-slate-400\">{member.notes}</p>\n          ) : null}\n        </div>\n        <Button onClick={() => onNudge(member)} className=\"w-full rounded-2xl bg-cyan-500/80 text-slate-900 hover:bg-cyan-400\">\n          Nudge\n        </Button>\n      </CardContent>\n    </Card>\n  );\n});\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAeO,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,OAAI,AAAD,EAAE,SAAS,WAAW,EAAE,MAAM,EAAE,YAAY,EAAE,OAAO,EAAE,MAAM,EAAmB;IAC3G,MAAM,eAAe,aAAa,MAAM,CAAC,CAAC,UAAY,QAAQ,QAAQ,KAAK,OAAO,EAAE,EAAE,MAAM;IAC5F,qBACE,8OAAC,gIAAA,CAAA,OAAI;QAAC,WAAU;;0BACd,8OAAC,gIAAA,CAAA,aAAU;gBAAC,WAAU;;kCACpB,8OAAC;;0CACC,8OAAC,gIAAA,CAAA,YAAS;gCAAC,WAAU;0CAAyB,OAAO,IAAI;;;;;;0CACzD,8OAAC;gCAAE,WAAU;0CAAmD,OAAO,SAAS,IAAI,OAAO,QAAQ;;;;;;;;;;;;kCAErG,8OAAC,kIAAA,CAAA,SAAM;wBAAC,SAAQ;wBAAQ,MAAK;wBAAO,SAAS,IAAM,SAAS;wBAAS,WAAU;;0CAC7E,8OAAC;gCAAK,WAAU;0CAAU;;;;;;0CAC1B,8OAAC;gCAAI,OAAM;gCAA6B,WAAU;gCAAU,MAAK;gCAAO,SAAQ;gCAAY,QAAO;gCAAe,aAAa;0CAC7H,cAAA,8OAAC;oCAAK,eAAc;oCAAQ,gBAAe;oCAAQ,GAAE;;;;;;;;;;;;;;;;;;;;;;;0BAI3D,8OAAC,gIAAA,CAAA,cAAW;gBAAC,WAAU;;kCACrB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;;kDACC,8OAAC;wCAAE,WAAU;kDAAiD;;;;;;kDAC9D,8OAAC;wCAAE,WAAU;kDAA8B,OAAO,KAAK,IAAI;;;;;;;;;;;;0CAE7D,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,iIAAA,CAAA,QAAK;wCAAC,SAAQ;wCAAY,WAAU;kDAAoD;;;;;;kDAGzF,8OAAC,iIAAA,CAAA,QAAK;wCAAC,SAAQ;wCAAY,WAAU;;4CAAkD;4CACpE;;;;;;;;;;;;;4BAGpB,OAAO,KAAK,iBACX,8OAAC;gCAAE,WAAU;0CAA0D,OAAO,KAAK;;;;;uCACjF;;;;;;;kCAEN,8OAAC,kIAAA,CAAA,SAAM;wBAAC,SAAS,IAAM,QAAQ;wBAAS,WAAU;kCAAqE;;;;;;;;;;;;;;;;;;AAM/H","debugId":null}},
    {"offset": {"line": 645, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport {cn} from '@/lib/utils';\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, React.ComponentProps<'textarea'>>(\n  ({className, ...props}, ref) => {\n    return (\n      <textarea\n        className={cn(\n          'flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\nTextarea.displayName = 'Textarea';\n\nexport {Textarea};\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAC9B,CAAC,EAAC,SAAS,EAAE,GAAG,OAAM,EAAE;IACtB,qBACE,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,qTACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 673, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/radio-group.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,8OAAC,0KAAA,CAAA,OAAwB;QACvB,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;QAC3B,GAAG,KAAK;QACT,KAAK;;;;;;AAGX;AACA,WAAW,WAAW,GAAG,0KAAA,CAAA,OAAwB,CAAC,WAAW;AAE7D,MAAM,+BAAiB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,8OAAC,0KAAA,CAAA,OAAwB;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,4OACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,0KAAA,CAAA,YAA6B;YAAC,WAAU;sBACvC,cAAA,8OAAC,sMAAA,CAAA,SAAM;gBAAC,WAAU;;;;;;;;;;;;;;;;AAI1B;AACA,eAAe,WAAW,GAAG,0KAAA,CAAA,OAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 733, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/household/useHousehold.tsx"],"sourcesContent":["\"use client\";\n\nimport { createContext, useContext, useMemo, useState, type ReactNode } from \"react\";\nimport {\n  Appointment,\n  Asset,\n  CareProfile,\n  Dose,\n  HouseholdCareKPIs,\n  LedgerEntry,\n  Member,\n  MeterReading,\n  Medication,\n  ShoppingItem,\n  ShoppingList,\n  Settlement,\n  Ticket,\n} from \"./types\";\nimport { useMutation, useQuery, useQueryClient } from \"@tanstack/react-query\";\n\ninterface HouseholdContextValue {\n  members: Member[];\n  careProfiles: CareProfile[];\n  medications: Medication[];\n  appointments: Appointment[];\n  doses: Dose[];\n  assets: Asset[];\n  meterReadings: MeterReading[];\n  tickets: Ticket[];\n  shoppingLists: ShoppingList[];\n  ledger: LedgerEntry[];\n  settlements: Settlement[];\n  careKpis: HouseholdCareKPIs;\n  addMember: (payload: Partial<Member> & { name: string; relation: Member[\"relation\"] }) => Promise<void>;\n  updateMemberRole: (memberId: string, roleLabel: string) => Promise<void>;\n  sendNudge: (payload: { channel: \"whatsapp\" | \"sms\"; to: string; message: string }) => Promise<void>;\n  upsertCareProfile: (payload: Partial<CareProfile> & { name: string }) => Promise<CareProfile>;\n  upsertMedication: (payload: Partial<Medication> & { careProfileId: string; name: string }) => Promise<Medication>;\n  logDose: (payload: { medId: string; status: Dose[\"status\"]; notes?: string }) => Promise<void>;\n  snoozeDose: (payload: { medId: string; minutes: number }) => Promise<void>;\n  skipDose: (payload: { medId: string; reason?: string }) => Promise<void>;\n  refillMedication: (payload: { medId: string; qty: number; pharmacy?: string; pickupDate?: string }) => Promise<void>;\n  addAppointment: (payload: Partial<Appointment> & { careProfileId: string; title: string; start: string; end: string; location: string }) => Promise<Appointment>;\n  addAsset: (payload: Partial<Asset> & { name: string; category: Asset[\"category\"]; condition: Asset[\"condition\"] }) => Promise<Asset>;\n  setAssetWarranty: (assetId: string, warrantyEnd: string, reminderDays?: number[]) => Promise<void>;\n  scheduleAssetMaintenance: (payload: { assetId: string; next: string; cadenceDays?: number }) => Promise<void>;\n  markAssetServiced: (payload: { assetId: string; note?: string }) => Promise<void>;\n  attachAssetReceipt: (payload: { assetId: string; receiptDocId: string }) => Promise<void>;\n  addMeterReading: (payload: Omit<MeterReading, \"id\">) => Promise<MeterReading>;\n  upsertTicket: (payload: Partial<Ticket> & { apartmentId: string; title: string; type: Ticket[\"type\"]; severity: Ticket[\"severity\"]; status?: Ticket[\"status\"] }) => Promise<Ticket>;\n  mutateTicketStatus: (payload: { ticketId: string; status: Ticket[\"status\"]; assignee?: string }) => Promise<void>;\n  addShoppingItem: (payload: { listId: string; label: string; qty?: string; priority: ShoppingItem[\"priority\"]; recurring?: boolean; priceTarget?: number }) => Promise<void>;\n  toggleShoppingItem: (payload: { listId: string; itemId: string; checked: boolean }) => Promise<void>;\n  setShoppingPriceTarget: (payload: { listId: string; itemId: string; priceTarget?: number }) => Promise<void>;\n  sendShoppingList: (payload: { listId: string; channel: \"whatsapp\" | \"sms\"; to: string }) => Promise<void>;\n  recordPayment: (payload: { payer: string; amount: number; method: Settlement[\"method\"]; reference?: string; attachments?: string[]; currency: string }) => Promise<void>;\n  settleNow: (payload: { settlements: { payer: string; amount: number }[]; currency: string }) => Promise<void>;\n  exportLedger: () => Promise<string>;\n  setActiveTab: (tab: string) => void;\n  activeTab: string;\n}\n\nconst HouseholdContext = createContext<HouseholdContextValue | null>(null);\n\nasync function api<T>(input: RequestInfo, init?: RequestInit): Promise<T> {\n  const res = await fetch(input, {\n    ...init,\n    headers: {\n      \"Content-Type\": \"application/json\",\n      ...(init?.headers || {}),\n    },\n  });\n  if (!res.ok) {\n    const message = await res.text();\n    throw new Error(message || \"Request failed\");\n  }\n  return res.json() as Promise<T>;\n}\n\nfunction computeCareKpis(medications: Medication[], doses: Dose[], appointments: Appointment[]): HouseholdCareKPIs {\n  const now = new Date();\n  const thirtyDaysAgo = new Date(now.getTime() - 30 * 24 * 60 * 60 * 1000);\n  const relevantDoses = doses.filter((dose) => new Date(dose.scheduledAt) >= thirtyDaysAgo);\n  const taken = relevantDoses.filter((dose) => dose.status === \"taken\").length;\n  const adherence30d = relevantDoses.length ? Math.round((taken / relevantDoses.length) * 100) : 100;\n\n  const medDays = medications.map((med) => {\n    if (med.schedule.type === \"fixed\" && med.schedule.times && med.schedule.times.length > 0) {\n      const dosesPerDay = med.schedule.times.length;\n      return med.pillsOnHand / (dosesPerDay * med.dosage.unitsPerDose);\n    }\n    if (med.schedule.type === \"interval\" && med.schedule.intervalHours) {\n      const dosesPerDay = 24 / med.schedule.intervalHours;\n      return med.pillsOnHand / (dosesPerDay * med.dosage.unitsPerDose);\n    }\n    return med.pillsOnHand;\n  });\n\n  const onHandDays = medDays.length ? Math.floor(Math.min(...medDays)) : 0;\n\n  const upcomingRefill = medications\n    .filter((med) => med.lowStockThreshold >= med.pillsOnHand)\n    .map((med) => new Date(now.getTime() + onHandDays * 24 * 60 * 60 * 1000))\n    .sort((a, b) => a.getTime() - b.getTime())[0];\n\n  const nextAppointment = appointments\n    .map((appt) => new Date(appt.start))\n    .filter((date) => date >= now)\n    .sort((a, b) => a.getTime() - b.getTime())[0];\n\n  return {\n    adherence30d,\n    onHandDays,\n    nextRefillDate: upcomingRefill ? upcomingRefill.toISOString() : undefined,\n    nextAppointmentDate: nextAppointment ? nextAppointment.toISOString() : undefined,\n  };\n}\n\nexport function HouseholdProvider({ children }: { children: ReactNode }) {\n  const [activeTab, setActiveTab] = useState<string>(\"members\");\n  const queryClient = useQueryClient();\n\n  const { data: members = [] } = useQuery<Member[]>({\n    queryKey: [\"household\", \"members\"],\n    queryFn: () => api<Member[]>(\"/api/household/members\"),\n  });\n\n  const { data: careProfiles = [] } = useQuery<CareProfile[]>({\n    queryKey: [\"household\", \"careProfiles\"],\n    queryFn: () => api<CareProfile[]>(\"/api/household/care/profiles\"),\n  });\n\n  const { data: medications = [] } = useQuery<Medication[]>({\n    queryKey: [\"household\", \"medications\"],\n    queryFn: () => api<Medication[]>(\"/api/household/care/medications\"),\n  });\n\n  const { data: doses = [] } = useQuery<Dose[]>({\n    queryKey: [\"household\", \"doses\"],\n    queryFn: () => api<Dose[]>(\"/api/household/care/doses\"),\n  });\n\n  const { data: appointments = [] } = useQuery<Appointment[]>({\n    queryKey: [\"household\", \"appointments\"],\n    queryFn: () => api<Appointment[]>(\"/api/household/care/appointments\"),\n  });\n\n  const { data: assets = [] } = useQuery<Asset[]>({\n    queryKey: [\"household\", \"assets\"],\n    queryFn: () => api<Asset[]>(\"/api/household/assets\"),\n  });\n\n  const { data: meterReadings = [] } = useQuery<MeterReading[]>({\n    queryKey: [\"household\", \"meters\"],\n    queryFn: () => api<MeterReading[]>(\"/api/household/apartment/meters\"),\n  });\n\n  const { data: tickets = [] } = useQuery<Ticket[]>({\n    queryKey: [\"household\", \"tickets\"],\n    queryFn: () => api<Ticket[]>(\"/api/household/apartment/tickets\"),\n  });\n\n  const { data: shoppingLists = [] } = useQuery<ShoppingList[]>({\n    queryKey: [\"household\", \"shopping\"],\n    queryFn: () => api<ShoppingList[]>(\"/api/household/shopping\"),\n  });\n\n  const { data: ledger = [] } = useQuery<LedgerEntry[]>({\n    queryKey: [\"household\", \"ledger\"],\n    queryFn: () => api<LedgerEntry[]>(\"/api/household/split/ledger\"),\n  });\n\n  const { data: settlements = [] } = useQuery<Settlement[]>({\n    queryKey: [\"household\", \"settlements\"],\n    queryFn: () => api<Settlement[]>(\"/api/household/split/settlements\").catch(() => []),\n  });\n\n  const careKpis = useMemo(\n    () => computeCareKpis(medications, doses, appointments),\n    [medications, doses, appointments],\n  );\n\n  const addMemberMutation = useMutation({\n    mutationFn: (payload: Partial<Member> & { name: string; relation: Member[\"relation\"] }) =>\n      api<Member[]>(\"/api/household/members\", { method: \"POST\", body: JSON.stringify({ action: \"create\", payload }) }),\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: [\"household\", \"members\"] }),\n  });\n\n  const updateMemberRoleMutation = useMutation({\n    mutationFn: ({ memberId, roleLabel }: { memberId: string; roleLabel: string }) =>\n      api<Member[]>(\"/api/household/members\", { method: \"POST\", body: JSON.stringify({ action: \"role\", memberId, roleLabel }) }),\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: [\"household\", \"members\"] }),\n  });\n\n  const sendNudgeMutation = useMutation({\n    mutationFn: (payload: { channel: \"whatsapp\" | \"sms\"; to: string; message: string }) =>\n      api<{ status: string }>(\"/api/nudge\", { method: \"POST\", body: JSON.stringify(payload) }),\n  });\n\n  const upsertCareProfileMutation = useMutation({\n    mutationFn: (payload: Partial<CareProfile> & { name: string }) =>\n      api<CareProfile>(\"/api/household/care/profiles\", { method: \"POST\", body: JSON.stringify({ action: \"upsert\", payload }) }),\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: [\"household\", \"careProfiles\"] }),\n  });\n\n  const upsertMedicationMutation = useMutation({\n    mutationFn: (payload: Partial<Medication> & { careProfileId: string; name: string }) =>\n      api<Medication>(\"/api/household/care/medications\", { method: \"POST\", body: JSON.stringify({ action: \"upsert\", payload }) }),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"household\", \"medications\"] });\n      queryClient.invalidateQueries({ queryKey: [\"household\", \"doses\"] });\n    },\n  });\n\n  const logDoseMutation = useMutation({\n    mutationFn: (payload: { medId: string; status: Dose[\"status\"]; notes?: string }) =>\n      api(\"/api/household/care/doses\", { method: \"POST\", body: JSON.stringify({ action: \"log\", payload }) }),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"household\", \"doses\"] });\n      queryClient.invalidateQueries({ queryKey: [\"household\", \"medications\"] });\n    },\n  });\n\n  const snoozeDoseMutation = useMutation({\n    mutationFn: (payload: { medId: string; minutes: number }) =>\n      api(\"/api/household/care/doses\", { method: \"POST\", body: JSON.stringify({ action: \"snooze\", payload }) }),\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: [\"household\", \"doses\"] }),\n  });\n\n  const skipDoseMutation = useMutation({\n    mutationFn: (payload: { medId: string; reason?: string }) =>\n      api(\"/api/household/care/doses\", { method: \"POST\", body: JSON.stringify({ action: \"skip\", payload }) }),\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: [\"household\", \"doses\"] }),\n  });\n\n  const refillMutation = useMutation({\n    mutationFn: (payload: { medId: string; qty: number; pharmacy?: string; pickupDate?: string }) =>\n      api(\"/api/household/care/refill\", { method: \"POST\", body: JSON.stringify(payload) }),\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: [\"household\", \"medications\"] }),\n  });\n\n  const appointmentMutation = useMutation({\n    mutationFn: (payload: Partial<Appointment> & { careProfileId: string; title: string; start: string; end: string; location: string }) =>\n      api<Appointment>(\"/api/household/care/appointments\", { method: \"POST\", body: JSON.stringify({ action: \"create\", payload }) }),\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: [\"household\", \"appointments\"] }),\n  });\n\n  const assetMutation = useMutation({\n    mutationFn: (payload: Partial<Asset> & { name: string; category: Asset[\"category\"]; condition: Asset[\"condition\"] }) =>\n      api<Asset>(\"/api/household/assets\", { method: \"POST\", body: JSON.stringify({ action: \"create\", payload }) }),\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: [\"household\", \"assets\"] }),\n  });\n\n  const warrantyMutation = useMutation({\n    mutationFn: ({ assetId, warrantyEnd, reminderDays }: { assetId: string; warrantyEnd: string; reminderDays?: number[] }) =>\n      api(\"/api/household/assets\", { method: \"POST\", body: JSON.stringify({ action: \"warranty\", assetId, warrantyEnd, reminderDays }) }),\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: [\"household\", \"assets\"] }),\n  });\n\n  const maintenanceMutation = useMutation({\n    mutationFn: (payload: { assetId: string; next: string; cadenceDays?: number }) =>\n      api(\"/api/household/assets/maintenance\", { method: \"POST\", body: JSON.stringify(payload) }),\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: [\"household\", \"assets\"] }),\n  });\n\n  const servicedMutation = useMutation({\n    mutationFn: (payload: { assetId: string; note?: string }) =>\n      api(\"/api/household/assets/maintenance\", { method: \"POST\", body: JSON.stringify({ ...payload, markServiced: true }) }),\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: [\"household\", \"assets\"] }),\n  });\n\n  const receiptMutation = useMutation({\n    mutationFn: (payload: { assetId: string; receiptDocId: string }) =>\n      api(\"/api/household/assets\", { method: \"POST\", body: JSON.stringify({ action: \"receipt\", ...payload }) }),\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: [\"household\", \"assets\"] }),\n  });\n\n  const meterMutation = useMutation({\n    mutationFn: (payload: Omit<MeterReading, \"id\">) =>\n      api<MeterReading>(\"/api/household/apartment/meters\", { method: \"POST\", body: JSON.stringify(payload) }),\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: [\"household\", \"meters\"] }),\n  });\n\n  const ticketMutation = useMutation({\n    mutationFn: (payload: Partial<Ticket> & { apartmentId: string; title: string; type: Ticket[\"type\"]; severity: Ticket[\"severity\"]; status?: Ticket[\"status\"] }) =>\n      api<Ticket>(\"/api/household/apartment/tickets\", { method: \"POST\", body: JSON.stringify({ action: \"upsert\", payload }) }),\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: [\"household\", \"tickets\"] }),\n  });\n\n  const ticketStatusMutation = useMutation({\n    mutationFn: (payload: { ticketId: string; status: Ticket[\"status\"]; assignee?: string }) =>\n      api(\"/api/household/apartment/tickets\", { method: \"POST\", body: JSON.stringify({ action: \"status\", ...payload }) }),\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: [\"household\", \"tickets\"] }),\n  });\n\n  const shoppingMutation = useMutation({\n    mutationFn: (payload: { listId: string; label: string; qty?: string; priority: ShoppingItem[\"priority\"]; recurring?: boolean; priceTarget?: number }) =>\n      api(\"/api/household/shopping\", { method: \"POST\", body: JSON.stringify({ action: \"addItem\", payload }) }),\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: [\"household\", \"shopping\"] }),\n  });\n\n  const toggleShoppingMutation = useMutation({\n    mutationFn: (payload: { listId: string; itemId: string; checked: boolean }) =>\n      api(\"/api/household/shopping\", { method: \"POST\", body: JSON.stringify({ action: \"toggle\", payload }) }),\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: [\"household\", \"shopping\"] }),\n  });\n\n  const priceTargetMutation = useMutation({\n    mutationFn: (payload: { listId: string; itemId: string; priceTarget?: number }) =>\n      api(\"/api/household/shopping\", { method: \"POST\", body: JSON.stringify({ action: \"priceTarget\", payload }) }),\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: [\"household\", \"shopping\"] }),\n  });\n\n  const sendShoppingMutation = useMutation({\n    mutationFn: (payload: { listId: string; channel: \"whatsapp\" | \"sms\"; to: string }) =>\n      api(\"/api/nudge\", { method: \"POST\", body: JSON.stringify({ ...payload, listId: payload.listId, template: \"shopping\" }) }),\n  });\n\n  const paymentMutation = useMutation({\n    mutationFn: (payload: { payer: string; amount: number; method: Settlement[\"method\"]; reference?: string; attachments?: string[]; currency: string }) =>\n      api(\"/api/household/split/settle\", { method: \"POST\", body: JSON.stringify({ action: \"record\", payload }) }),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"household\", \"settlements\"] });\n      queryClient.invalidateQueries({ queryKey: [\"household\", \"ledger\"] });\n    },\n  });\n\n  const settleNowMutation = useMutation({\n    mutationFn: (payload: { settlements: { payer: string; amount: number }[]; currency: string }) =>\n      api(\"/api/household/split/settle\", { method: \"POST\", body: JSON.stringify({ action: \"settleNow\", payload }) }),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"household\", \"settlements\"] });\n      queryClient.invalidateQueries({ queryKey: [\"household\", \"ledger\"] });\n    },\n  });\n\n  const exportLedgerMutation = useMutation({\n    mutationFn: () => api<{ export: string }>(\"/api/household/split/ledger\", { method: \"POST\", body: JSON.stringify({ action: \"export\" }) }),\n  });\n\n  const value = useMemo<HouseholdContextValue>(() => ({\n    members,\n    careProfiles,\n    medications,\n    appointments,\n    doses,\n    assets,\n    meterReadings,\n    tickets,\n    shoppingLists,\n    ledger,\n    settlements,\n    careKpis,\n    addMember: async (payload) => {\n      await addMemberMutation.mutateAsync(payload);\n    },\n    updateMemberRole: async (memberId, roleLabel) => {\n      await updateMemberRoleMutation.mutateAsync({ memberId, roleLabel });\n    },\n    sendNudge: async (payload) => {\n      await sendNudgeMutation.mutateAsync(payload);\n    },\n    upsertCareProfile: async (payload) => upsertCareProfileMutation.mutateAsync(payload),\n    upsertMedication: async (payload) => upsertMedicationMutation.mutateAsync(payload),\n    logDose: async (payload) => logDoseMutation.mutateAsync(payload),\n    snoozeDose: async (payload) => snoozeDoseMutation.mutateAsync(payload),\n    skipDose: async (payload) => skipDoseMutation.mutateAsync(payload),\n    refillMedication: async (payload) => refillMutation.mutateAsync(payload),\n    addAppointment: async (payload) => appointmentMutation.mutateAsync(payload),\n    addAsset: async (payload) => assetMutation.mutateAsync(payload),\n    setAssetWarranty: async (assetId, warrantyEnd, reminderDays) => warrantyMutation.mutateAsync({ assetId, warrantyEnd, reminderDays }),\n    scheduleAssetMaintenance: async (payload) => maintenanceMutation.mutateAsync(payload),\n    markAssetServiced: async (payload) => servicedMutation.mutateAsync(payload),\n    attachAssetReceipt: async (payload) => receiptMutation.mutateAsync(payload),\n    addMeterReading: async (payload) => meterMutation.mutateAsync(payload),\n    upsertTicket: async (payload) => ticketMutation.mutateAsync(payload),\n    mutateTicketStatus: async (payload) => ticketStatusMutation.mutateAsync(payload),\n    addShoppingItem: async (payload) => shoppingMutation.mutateAsync(payload),\n    toggleShoppingItem: async (payload) => toggleShoppingMutation.mutateAsync(payload),\n    setShoppingPriceTarget: async (payload) => priceTargetMutation.mutateAsync(payload),\n    sendShoppingList: async (payload) => sendShoppingMutation.mutateAsync(payload),\n    recordPayment: async (payload) => paymentMutation.mutateAsync(payload),\n    settleNow: async (payload) => settleNowMutation.mutateAsync(payload),\n    exportLedger: async () => {\n      const data = await exportLedgerMutation.mutateAsync();\n      return data.export;\n    },\n    activeTab,\n    setActiveTab,\n  }), [\n    members,\n    careProfiles,\n    medications,\n    appointments,\n    doses,\n    assets,\n    meterReadings,\n    tickets,\n    shoppingLists,\n    ledger,\n    settlements,\n    careKpis,\n    addMemberMutation,\n    updateMemberRoleMutation,\n    sendNudgeMutation,\n    upsertCareProfileMutation,\n    upsertMedicationMutation,\n    logDoseMutation,\n    snoozeDoseMutation,\n    skipDoseMutation,\n    refillMutation,\n    appointmentMutation,\n    assetMutation,\n    warrantyMutation,\n    maintenanceMutation,\n    servicedMutation,\n    receiptMutation,\n    meterMutation,\n    ticketMutation,\n    ticketStatusMutation,\n    shoppingMutation,\n    toggleShoppingMutation,\n    priceTargetMutation,\n    sendShoppingMutation,\n    paymentMutation,\n    settleNowMutation,\n    exportLedgerMutation,\n    activeTab,\n  ]);\n\n  return <HouseholdContext.Provider value={value}>{children}</HouseholdContext.Provider>;\n}\n\nexport function useHousehold() {\n  const context = useContext(HouseholdContext);\n  if (!context) {\n    throw new Error(\"useHousehold must be used within HouseholdProvider\");\n  }\n  return context;\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1371, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/household/NudgeDialog.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo, useState } from \"react\";\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Label } from \"@/components/ui/label\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport type { Member } from \"@/lib/household/types\";\nimport { useHousehold } from \"@/lib/household/useHousehold.tsx\";\n\nconst templates = [\n  { id: \"bill\", label: \"Bill reminder\", body: (member?: Member) => `Hey ${member?.name ?? \"there\"}, heads up the bill is due today.` },\n  { id: \"shopping\", label: \"Shopping list\", body: (member?: Member) => `Need anything else for the shared list? Check the app before 6pm.` },\n  { id: \"task\", label: \"Task\", body: (member?: Member) => `Quick task: can you handle the package drop-off before noon?` },\n  { id: \"med\", label: \"Medication dose\", body: (member?: Member) => `Time for medication. Log once taken so we stay on schedule.` },\n  { id: \"appt\", label: \"Appointment\", body: (member?: Member) => `Reminder: appointment tomorrow. Confirm travel + prep.` },\n];\n\ninterface NudgeDialogProps {\n  member: Member | null;\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n}\n\nexport function NudgeDialog({ member, open, onOpenChange }: NudgeDialogProps) {\n  const { sendNudge } = useHousehold();\n  const { toast } = useToast();\n  const [channel, setChannel] = useState<\"whatsapp\" | \"sms\">(\"whatsapp\");\n  const [templateId, setTemplateId] = useState(\"bill\");\n  const [message, setMessage] = useState(\"\");\n\n  const computedMessage = useMemo(() => {\n    const template = templates.find((tpl) => tpl.id === templateId);\n    return template ? template.body(member ?? undefined) : \"\";\n  }, [templateId, member]);\n\n  const finalMessage = message || computedMessage;\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-lg rounded-3xl border border-slate-800 bg-slate-950 text-slate-100\">\n        <DialogHeader>\n          <DialogTitle>Send a nudge</DialogTitle>\n          <DialogDescription>WhatsApp or SMS message. Stays on this page, logged instantly.</DialogDescription>\n        </DialogHeader>\n        <div className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <Label>Template</Label>\n            <RadioGroup\n              value={templateId}\n              onValueChange={(value) => {\n                setTemplateId(value);\n                setMessage(\"\");\n              }}\n              className=\"grid gap-2 md:grid-cols-2\"\n            >\n              {templates.map((tpl) => (\n                <label\n                  key={tpl.id}\n                  className=\"flex cursor-pointer items-center justify-between rounded-2xl border border-slate-800/80 bg-slate-900/40 px-4 py-3 text-sm text-slate-200 hover:border-cyan-600/80\"\n                >\n                  <div className=\"flex flex-col\">\n                    <span className=\"font-medium\">{tpl.label}</span>\n                    <span className=\"text-xs text-slate-400\">{tpl.body(member ?? undefined)}</span>\n                  </div>\n                  <RadioGroupItem value={tpl.id} />\n                </label>\n              ))}\n            </RadioGroup>\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"channel\">Channel</Label>\n            <RadioGroup value={channel} onValueChange={(value: \"whatsapp\" | \"sms\") => setChannel(value)} className=\"flex gap-4\">\n              <label className=\"flex items-center gap-2 text-sm\">\n                <RadioGroupItem value=\"whatsapp\" id=\"whatsapp\" /> WhatsApp\n              </label>\n              <label className=\"flex items-center gap-2 text-sm\">\n                <RadioGroupItem value=\"sms\" id=\"sms\" /> SMS\n              </label>\n            </RadioGroup>\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"to\">Send to</Label>\n            <Input id=\"to\" value={member?.phone ?? \"\"} disabled placeholder=\"No phone\" />\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"message\">Message</Label>\n            <Textarea\n              id=\"message\"\n              rows={4}\n              value={finalMessage}\n              onChange={(event) => setMessage(event.target.value)}\n              className=\"rounded-2xl border-slate-800 bg-slate-900/50\"\n            />\n          </div>\n          <Button\n            onClick={async () => {\n              if (!member?.phone) {\n                toast({ title: \"No phone on file\", description: \"Add a phone number before nudging.\" });\n                return;\n              }\n              await sendNudge({ channel, to: member.phone, message: finalMessage });\n              toast({ title: \"Nudge queued\", description: `Sent via ${channel.toUpperCase()}` });\n              onOpenChange(false);\n            }}\n            className=\"w-full rounded-2xl bg-cyan-500/90 text-slate-950 hover:bg-cyan-400\"\n          >\n            Send\n          </Button>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAXA;;;;;;;;;;;AAaA,MAAM,YAAY;IAChB;QAAE,IAAI;QAAQ,OAAO;QAAiB,MAAM,CAAC,SAAoB,CAAC,IAAI,EAAE,QAAQ,QAAQ,QAAQ,iCAAiC,CAAC;IAAC;IACnI;QAAE,IAAI;QAAY,OAAO;QAAiB,MAAM,CAAC,SAAoB,CAAC,iEAAiE,CAAC;IAAC;IACzI;QAAE,IAAI;QAAQ,OAAO;QAAQ,MAAM,CAAC,SAAoB,CAAC,4DAA4D,CAAC;IAAC;IACvH;QAAE,IAAI;QAAO,OAAO;QAAmB,MAAM,CAAC,SAAoB,CAAC,2DAA2D,CAAC;IAAC;IAChI;QAAE,IAAI;QAAQ,OAAO;QAAe,MAAM,CAAC,SAAoB,CAAC,sDAAsD,CAAC;IAAC;CACzH;AAQM,SAAS,YAAY,EAAE,MAAM,EAAE,IAAI,EAAE,YAAY,EAAoB;IAC1E,MAAM,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,wIAAA,CAAA,eAAY,AAAD;IACjC,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,4HAAA,CAAA,WAAQ,AAAD;IACzB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAsB;IAC3D,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,MAAM,kBAAkB,CAAA,GAAA,qMAAA,CAAA,UAAO,AAAD,EAAE;QAC9B,MAAM,WAAW,UAAU,IAAI,CAAC,CAAC,MAAQ,IAAI,EAAE,KAAK;QACpD,OAAO,WAAW,SAAS,IAAI,CAAC,UAAU,aAAa;IACzD,GAAG;QAAC;QAAY;KAAO;IAEvB,MAAM,eAAe,WAAW;IAEhC,qBACE,8OAAC,kIAAA,CAAA,SAAM;QAAC,MAAM;QAAM,cAAc;kBAChC,cAAA,8OAAC,kIAAA,CAAA,gBAAa;YAAC,WAAU;;8BACvB,8OAAC,kIAAA,CAAA,eAAY;;sCACX,8OAAC,kIAAA,CAAA,cAAW;sCAAC;;;;;;sCACb,8OAAC,kIAAA,CAAA,oBAAiB;sCAAC;;;;;;;;;;;;8BAErB,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,iIAAA,CAAA,QAAK;8CAAC;;;;;;8CACP,8OAAC,0IAAA,CAAA,aAAU;oCACT,OAAO;oCACP,eAAe,CAAC;wCACd,cAAc;wCACd,WAAW;oCACb;oCACA,WAAU;8CAET,UAAU,GAAG,CAAC,CAAC,oBACd,8OAAC;4CAEC,WAAU;;8DAEV,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DAAK,WAAU;sEAAe,IAAI,KAAK;;;;;;sEACxC,8OAAC;4DAAK,WAAU;sEAA0B,IAAI,IAAI,CAAC,UAAU;;;;;;;;;;;;8DAE/D,8OAAC,0IAAA,CAAA,iBAAc;oDAAC,OAAO,IAAI,EAAE;;;;;;;2CAPxB,IAAI,EAAE;;;;;;;;;;;;;;;;sCAYnB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,iIAAA,CAAA,QAAK;oCAAC,SAAQ;8CAAU;;;;;;8CACzB,8OAAC,0IAAA,CAAA,aAAU;oCAAC,OAAO;oCAAS,eAAe,CAAC,QAA8B,WAAW;oCAAQ,WAAU;;sDACrG,8OAAC;4CAAM,WAAU;;8DACf,8OAAC,0IAAA,CAAA,iBAAc;oDAAC,OAAM;oDAAW,IAAG;;;;;;gDAAa;;;;;;;sDAEnD,8OAAC;4CAAM,WAAU;;8DACf,8OAAC,0IAAA,CAAA,iBAAc;oDAAC,OAAM;oDAAM,IAAG;;;;;;gDAAQ;;;;;;;;;;;;;;;;;;;sCAI7C,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,iIAAA,CAAA,QAAK;oCAAC,SAAQ;8CAAK;;;;;;8CACpB,8OAAC,iIAAA,CAAA,QAAK;oCAAC,IAAG;oCAAK,OAAO,QAAQ,SAAS;oCAAI,QAAQ;oCAAC,aAAY;;;;;;;;;;;;sCAElE,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,iIAAA,CAAA,QAAK;oCAAC,SAAQ;8CAAU;;;;;;8CACzB,8OAAC,oIAAA,CAAA,WAAQ;oCACP,IAAG;oCACH,MAAM;oCACN,OAAO;oCACP,UAAU,CAAC,QAAU,WAAW,MAAM,MAAM,CAAC,KAAK;oCAClD,WAAU;;;;;;;;;;;;sCAGd,8OAAC,kIAAA,CAAA,SAAM;4BACL,SAAS;gCACP,IAAI,CAAC,QAAQ,OAAO;oCAClB,MAAM;wCAAE,OAAO;wCAAoB,aAAa;oCAAqC;oCACrF;gCACF;gCACA,MAAM,UAAU;oCAAE;oCAAS,IAAI,OAAO,KAAK;oCAAE,SAAS;gCAAa;gCACnE,MAAM;oCAAE,OAAO;oCAAgB,aAAa,CAAC,SAAS,EAAE,QAAQ,WAAW,IAAI;gCAAC;gCAChF,aAAa;4BACf;4BACA,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAOX","debugId":null}},
    {"offset": {"line": 1706, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/household/members/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\nimport { PageHeader, PagePrimaryAction, PageSecondaryAction } from \"@/components/layout/page-header\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Button } from \"@/components/ui/button\";\nimport { MemberCard } from \"@/components/household/MemberCard\";\nimport { NudgeDialog } from \"@/components/household/NudgeDialog\";\nimport { useHousehold } from \"@/lib/household/useHousehold\";\nimport type { Member } from \"@/lib/household/types\";\n\nexport default function MembersPage() {\n  const { members, careProfiles, addMember, updateMemberRole } = useHousehold();\n  const [nudgeTarget, setNudgeTarget] = useState<Member | null>(null);\n  const [open, setOpen] = useState(false);\n  const [assignTarget, setAssignTarget] = useState<Member | null>(null);\n\n  useEffect(() => {\n    const handleAdd = () => setOpen(true);\n    const handleAssign = () => setAssignTarget(members[0] ?? null);\n    const handleNudge = () => setNudgeTarget(members[0] ?? null);\n    window.addEventListener(\"household:add-member\", handleAdd);\n    window.addEventListener(\"household:assign-role\", handleAssign);\n    window.addEventListener(\"household:nudge-member\", handleNudge);\n    return () => {\n      window.removeEventListener(\"household:add-member\", handleAdd);\n      window.removeEventListener(\"household:assign-role\", handleAssign);\n      window.removeEventListener(\"household:nudge-member\", handleNudge);\n    };\n  }, [members]);\n\n  const sortedMembers = useMemo(() => [...members].sort((a, b) => a.name.localeCompare(b.name)), [members]);\n\n  return (\n    <div className=\"space-y-6\">\n      <PageHeader\n        title=\"Household members\"\n        description=\"Role-based summaries with quick nudges, care linkages, and relationship context.\"\n        actions={\n          <div className=\"flex gap-2\">\n            <Dialog open={open} onOpenChange={setOpen}>\n              <DialogTrigger asChild>\n                <PagePrimaryAction>Add member</PagePrimaryAction>\n              </DialogTrigger>\n              <MemberEditor onSubmit={async (payload) => { await addMember(payload); setOpen(false); }} />\n            </Dialog>\n            <Dialog open={!!assignTarget} onOpenChange={(value) => !value && setAssignTarget(null)}>\n              <DialogTrigger asChild>\n                <PageSecondaryAction>Assign role</PageSecondaryAction>\n              </DialogTrigger>\n              {assignTarget ? (\n                <RoleDialog member={assignTarget} onAssign={async (role) => { await updateMemberRole(assignTarget.id, role); setAssignTarget(null); }} />\n              ) : (\n                <RolePicker members={members} onSelect={setAssignTarget} />\n              )}\n            </Dialog>\n          </div>\n        }\n      />\n      <div className=\"grid gap-4 md:grid-cols-2 xl:grid-cols-3\">\n        {sortedMembers.map((member) => (\n          <MemberCard\n            key={member.id}\n            member={member}\n            careProfiles={careProfiles}\n            onNudge={setNudgeTarget}\n            onEdit={() => setAssignTarget(member)}\n          />\n        ))}\n      </div>\n      <NudgeDialog member={nudgeTarget} open={!!nudgeTarget} onOpenChange={(value) => !value && setNudgeTarget(null)} />\n    </div>\n  );\n}\n\nfunction MemberEditor({ onSubmit }: { onSubmit: (payload: { name: string; relation: Member[\"relation\"]; phone?: string }) => Promise<void> }) {\n  const [form, setForm] = useState<{ name: string; relation: Member[\"relation\"] | \"\"; phone?: string }>({ name: \"\", relation: \"\" });\n  return (\n    <DialogContent className=\"max-w-md rounded-3xl border border-slate-800 bg-slate-950\">\n      <DialogHeader>\n        <DialogTitle>Add household member</DialogTitle>\n      </DialogHeader>\n      <form\n        className=\"space-y-4\"\n        onSubmit={async (event) => {\n          event.preventDefault();\n          if (!form.name || !form.relation) return;\n          await onSubmit({ name: form.name, relation: form.relation, phone: form.phone });\n          setForm({ name: \"\", relation: \"\" });\n        }}\n      >\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"name\">Name</Label>\n          <Input id=\"name\" value={form.name} onChange={(event) => setForm((prev) => ({ ...prev, name: event.target.value }))} placeholder=\"E.g. Beno\" />\n        </div>\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"phone\">Phone</Label>\n          <Input id=\"phone\" value={form.phone ?? \"\"} onChange={(event) => setForm((prev) => ({ ...prev, phone: event.target.value }))} placeholder=\"+1 (555) 000-0000\" />\n        </div>\n        <div className=\"space-y-2\">\n          <Label>Relation</Label>\n          <Select value={form.relation} onValueChange={(value: Member[\"relation\"]) => setForm((prev) => ({ ...prev, relation: value }))}>\n            <SelectTrigger>\n              <SelectValue placeholder=\"Select relation\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"brother\">Brother</SelectItem>\n              <SelectItem value=\"parent\">Parent</SelectItem>\n              <SelectItem value=\"guest\">Guest</SelectItem>\n              <SelectItem value=\"other\">Other</SelectItem>\n            </SelectContent>\n          </Select>\n        </div>\n        <Button type=\"submit\" className=\"w-full rounded-2xl bg-cyan-500/80 text-slate-950 hover:bg-cyan-400\">\n          Save member\n        </Button>\n      </form>\n    </DialogContent>\n  );\n}\n\nfunction RolePicker({ members, onSelect }: { members: Member[]; onSelect: (member: Member) => void }) {\n  return (\n    <DialogContent className=\"max-w-md rounded-3xl border border-slate-800 bg-slate-950\">\n      <DialogHeader>\n        <DialogTitle>Select member</DialogTitle>\n      </DialogHeader>\n      <div className=\"space-y-2\">\n        {members.map((member) => (\n          <Button key={member.id} variant=\"ghost\" className=\"w-full justify-start rounded-2xl text-left text-slate-200 hover:bg-slate-900/80\" onClick={() => onSelect(member)}>\n            {member.name}\n          </Button>\n        ))}\n      </div>\n    </DialogContent>\n  );\n}\n\nfunction RoleDialog({ member, onAssign }: { member: Member; onAssign: (role: string) => Promise<void> }) {\n  return (\n    <DialogContent className=\"max-w-sm rounded-3xl border border-slate-800 bg-slate-950\">\n      <DialogHeader>\n        <DialogTitle>Assign role to {member.name}</DialogTitle>\n      </DialogHeader>\n      <div className=\"space-y-3\">\n        {[\"Admin\", \"Family\", \"Guest\"].map((role) => (\n          <Button key={role} variant=\"ghost\" className=\"w-full justify-between rounded-2xl text-left text-slate-200 hover:bg-slate-900/70\" onClick={async () => onAssign(role)}>\n            <span>{role}</span>\n            <span className=\"text-xs uppercase tracking-widest text-slate-500\">label</span>\n          </Button>\n        ))}\n      </div>\n    </DialogContent>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}