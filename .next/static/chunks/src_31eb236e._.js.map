{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC3B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,6LAAC;QACC,MAAM;QACN,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kYACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 43, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB;AAGF,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAI3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,OAAmB;QAClB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iBAAiB;QAC9B,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG,oKAAA,CAAA,OAAmB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/slider.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,OAAoB;QACnB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;0BAET,6LAAC,qKAAA,CAAA,QAAqB;gBAAC,WAAU;0BAC/B,cAAA,6LAAC,qKAAA,CAAA,QAAqB;oBAAC,WAAU;;;;;;;;;;;0BAEnC,6LAAC,qKAAA,CAAA,QAAqB;gBAAC,WAAU;;;;;;;;;;;;;AAGrC,OAAO,WAAW,GAAG,qKAAA,CAAA,OAAoB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 141, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/switch.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,OAAqB;QACpB,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sXACA;QAED,GAAG,KAAK;QACT,KAAK;kBAEL,cAAA,6LAAC,qKAAA,CAAA,QAAsB;YACrB,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV;;;;;;;;;;;;AAKR,OAAO,WAAW,GAAG,qKAAA,CAAA,OAAqB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 184, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 287, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/sim/ParametersPanel.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Slider } from \"@/components/ui/slider\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Card } from \"@/components/ui/card\";\nimport { ScenarioAssumptions, ScenarioParameters, ShockEvent } from \"@/lib/sim/types\";\nimport { Calculator, CloudLightning, SlidersHorizontal } from \"lucide-react\";\n\ninterface ParametersPanelProps {\n  params: ScenarioParameters;\n  assumptions: ScenarioAssumptions;\n  shocks: ShockEvent[];\n  onChange: (params: ScenarioParameters) => void;\n  onRun: () => void;\n  onOpenAssumptions: () => void;\n  onOpenShocks: () => void;\n  onOpenDebtPlanner: () => void;\n  isRunning?: boolean;\n}\n\nexport function ParametersPanel({\n  params,\n  assumptions,\n  shocks,\n  onChange,\n  onRun,\n  onOpenAssumptions,\n  onOpenShocks,\n  onOpenDebtPlanner,\n  isRunning,\n}: ParametersPanelProps) {\n  const travelIsMonthly = params.travelRecurring === \"monthly\";\n\n  const setField = <K extends keyof ScenarioParameters>(key: K, value: ScenarioParameters[K]) => {\n    onChange({ ...params, [key]: value });\n  };\n\n  const horizonMarks = useMemo(\n    () => ({\n      min: 6,\n      max: 36,\n    }),\n    [],\n  );\n\n  return (\n    <Card className=\"flex h-full flex-col gap-6 rounded-3xl border border-slate-900/60 bg-slate-950/70 p-6 text-slate-100\">\n      <div>\n        <h2 className=\"text-lg font-semibold text-white\">Parameters</h2>\n        <p className=\"text-xs text-slate-400\">Adjust to see projected balance curve.</p>\n      </div>\n      <div className=\"space-y-6\">\n        <div className=\"space-y-2\">\n          <Label className=\"text-xs uppercase tracking-wide text-slate-400\">Horizon (months)</Label>\n          <div className=\"flex items-center gap-3\">\n            <Slider\n              value={[params.horizonMonths ?? 12]}\n              min={horizonMarks.min}\n              max={horizonMarks.max}\n              step={1}\n              onValueChange={([value]) => setField(\"horizonMonths\", value)}\n            />\n            <span className=\"w-12 text-sm text-slate-300\">{params.horizonMonths}</span>\n          </div>\n        </div>\n        <div className=\"grid grid-cols-1 gap-4\">\n          <ParameterInput\n            label=\"Income delta (%)\"\n            value={params.incomeDeltaPct ?? 0}\n            onChange={(value) => setField(\"incomeDeltaPct\", value)}\n          />\n          <ParameterInput\n            label=\"Discretionary delta (%)\"\n            value={params.discretionaryDeltaPct ?? 0}\n            onChange={(value) => setField(\"discretionaryDeltaPct\", value)}\n          />\n          <ParameterInput\n            label=\"Rent / housing change (%)\"\n            value={params.rentDeltaPct ?? 0}\n            onChange={(value) => setField(\"rentDeltaPct\", value)}\n          />\n        </div>\n        <div className=\"space-y-2 rounded-2xl border border-slate-900/60 bg-slate-900/40 p-4\">\n          <div className=\"flex items-center justify-between text-sm\">\n            <Label className=\"text-xs uppercase tracking-wide text-slate-400\">Travel budget</Label>\n            <div className=\"flex items-center gap-2 text-xs text-slate-400\">\n              Monthly\n              <Switch checked={travelIsMonthly} onCheckedChange={(checked) => setField(\"travelRecurring\", checked ? \"monthly\" : \"one-off\")} />\n              One-off\n            </div>\n          </div>\n          <Input\n            type=\"number\"\n            min={0}\n            value={params.travelBudget ?? \"\"}\n            onChange={(event) => setField(\"travelBudget\", Number(event.target.value))}\n            className=\"rounded-2xl border-slate-800 bg-slate-950/60 text-slate-100\"\n            placeholder=\"0\"\n          />\n        </div>\n        <ParameterInput\n          label=\"Debt extra payment (per month)\"\n          value={params.debtPayExtra ?? 0}\n          onChange={(value) => setField(\"debtPayExtra\", value)}\n        />\n      </div>\n      <div className=\"mt-auto space-y-3\">\n        <Button\n          onClick={onRun}\n          disabled={isRunning}\n          className=\"w-full rounded-2xl bg-gradient-to-r from-cyan-500 via-sky-500 to-indigo-500 py-6 text-base font-semibold text-slate-950 shadow-xl shadow-cyan-900/40 hover:shadow-2xl\"\n        >\n          <Calculator className=\"mr-2 h-5 w-5\" /> {isRunning ? \"Running...\" : \"Run Beno simulation\"}\n        </Button>\n        <div className=\"grid grid-cols-2 gap-2\">\n          <Button\n            variant=\"secondary\"\n            onClick={onOpenAssumptions}\n            className=\"rounded-2xl border border-slate-800 bg-slate-900/80 text-slate-200 hover:bg-slate-800\"\n          >\n            <SlidersHorizontal className=\"mr-2 h-4 w-4\" /> Assumptions\n          </Button>\n          <Button\n            variant=\"secondary\"\n            onClick={onOpenShocks}\n            className=\"rounded-2xl border border-slate-800 bg-slate-900/80 text-slate-200 hover:bg-slate-800\"\n          >\n            <CloudLightning className=\"mr-2 h-4 w-4\" /> Shock events\n          </Button>\n          <Button\n            variant=\"secondary\"\n            onClick={onOpenDebtPlanner}\n            className=\"col-span-2 rounded-2xl border border-slate-800 bg-slate-900/80 text-slate-200 hover:bg-slate-800\"\n          >\n            Debt payoff planner\n          </Button>\n        </div>\n        <p className=\"text-[11px] leading-snug text-slate-500\">\n          Inflation {assumptions.inflationPct ?? 3}% · Returns {assumptions.returnPct ?? 2}% · Shocks {shocks.length}\n        </p>\n      </div>\n    </Card>\n  );\n}\n\ninterface ParameterInputProps {\n  label: string;\n  value: number;\n  onChange: (value: number) => void;\n}\n\nfunction ParameterInput({ label, value, onChange }: ParameterInputProps) {\n  return (\n    <div className=\"space-y-2\">\n      <Label className=\"text-xs uppercase tracking-wide text-slate-400\">{label}</Label>\n      <Input\n        type=\"number\"\n        value={Number.isNaN(value) ? \"\" : value}\n        onChange={(event) => onChange(Number(event.target.value))}\n        className=\"rounded-2xl border-slate-800 bg-slate-950/60 text-slate-100\"\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 664, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/sim/KpiBar.tsx"],"sourcesContent":["\"use client\";\n\nimport { SimResult, ScenarioParameters } from \"@/lib/sim/types\";\nimport { format } from \"date-fns\";\nimport { motion } from \"framer-motion\";\n\ninterface KpiBarProps {\n  result?: SimResult;\n  params: ScenarioParameters;\n}\n\nconst safeFormatDate = (value?: string) => {\n  if (!value) return \"—\";\n  try {\n    return format(new Date(value), \"MMM yyyy\");\n  } catch (error) {\n    return \"—\";\n  }\n};\n\nexport function KpiBar({ result, params }: KpiBarProps) {\n  const runway = result?.runwayMonths ?? 0;\n  const breakEvenDate = safeFormatDate(result?.breakEvenDate);\n  const finalBalance = result?.monthly.at(-1)?.balance ?? 0;\n  const risk = result?.riskScore ?? 0;\n  const riskColor = risk > 70 ? \"text-emerald-300\" : risk > 40 ? \"text-amber-300\" : \"text-red-300\";\n\n  return (\n    <div className=\"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-4\">\n      <KpiItem label=\"Runway\" value={runway ? `${runway} months` : \"—\"} accent=\"from-emerald-500/50 to-cyan-500/20\">\n        Projection horizon {params.horizonMonths} months\n      </KpiItem>\n      <KpiItem label=\"Break-even\" value={breakEvenDate} accent=\"from-sky-500/40 to-indigo-500/10\">\n        Monthly cashflow turns positive {breakEvenDate}\n      </KpiItem>\n      <KpiItem\n        label=\"Goal ETAs\"\n        value={\n          result?.goalEtas?.length\n            ? result.goalEtas\n                .slice(0, 3)\n                .map((goal) => `${goal.goalId}: ${safeFormatDate(goal.eta)}`)\n                .join(\" · \")\n            : \"No goals\"\n        }\n        accent=\"from-purple-500/40 to-fuchsia-500/10\"\n      >\n        Tracking the next {result?.goalEtas?.length ?? 0} goals\n      </KpiItem>\n      <KpiItem label=\"Risk score\" value={`${risk}`} accent=\"from-red-500/30 to-orange-500/20\" valueClassName={riskColor}>\n        Volatility-adjusted score out of 100\n      </KpiItem>\n    </div>\n  );\n}\n\ninterface KpiItemProps {\n  label: string;\n  value: string;\n  accent: string;\n  valueClassName?: string;\n  children?: React.ReactNode;\n}\n\nfunction KpiItem({ label, value, accent, valueClassName, children }: KpiItemProps) {\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 8 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.3 }}\n      className=\"relative overflow-hidden rounded-2xl border border-slate-900/70 bg-slate-900/50 p-4\"\n    >\n      <div className={`pointer-events-none absolute inset-0 bg-gradient-to-br ${accent} opacity-40`} />\n      <div className=\"relative space-y-1\">\n        <p className=\"text-xs font-semibold uppercase tracking-wider text-slate-400\">{label}</p>\n        <p className={`text-lg font-semibold text-white ${valueClassName ?? \"\"}`}>{value}</p>\n        {children ? <p className=\"text-xs text-slate-400\">{children}</p> : null}\n      </div>\n    </motion.div>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AAJA;;;;AAWA,MAAM,iBAAiB,CAAC;IACtB,IAAI,CAAC,OAAO,OAAO;IACnB,IAAI;QACF,OAAO,CAAA,GAAA,yJAAA,CAAA,SAAM,AAAD,EAAE,IAAI,KAAK,QAAQ;IACjC,EAAE,OAAO,OAAO;QACd,OAAO;IACT;AACF;AAEO,SAAS,OAAO,EAAE,MAAM,EAAE,MAAM,EAAe;IACpD,MAAM,SAAS,QAAQ,gBAAgB;IACvC,MAAM,gBAAgB,eAAe,QAAQ;IAC7C,MAAM,eAAe,QAAQ,QAAQ,GAAG,CAAC,IAAI,WAAW;IACxD,MAAM,OAAO,QAAQ,aAAa;IAClC,MAAM,YAAY,OAAO,KAAK,qBAAqB,OAAO,KAAK,mBAAmB;IAElF,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAQ,OAAM;gBAAS,OAAO,SAAS,GAAG,OAAO,OAAO,CAAC,GAAG;gBAAK,QAAO;;oBAAqC;oBACxF,OAAO,aAAa;oBAAC;;;;;;;0BAE3C,6LAAC;gBAAQ,OAAM;gBAAa,OAAO;gBAAe,QAAO;;oBAAmC;oBACzD;;;;;;;0BAEnC,6LAAC;gBACC,OAAM;gBACN,OACE,QAAQ,UAAU,SACd,OAAO,QAAQ,CACZ,KAAK,CAAC,GAAG,GACT,GAAG,CAAC,CAAC,OAAS,GAAG,KAAK,MAAM,CAAC,EAAE,EAAE,eAAe,KAAK,GAAG,GAAG,EAC3D,IAAI,CAAC,SACR;gBAEN,QAAO;;oBACR;oBACoB,QAAQ,UAAU,UAAU;oBAAE;;;;;;;0BAEnD,6LAAC;gBAAQ,OAAM;gBAAa,OAAO,GAAG,MAAM;gBAAE,QAAO;gBAAmC,gBAAgB;0BAAW;;;;;;;;;;;;AAKzH;KAlCgB;AA4ChB,SAAS,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,cAAc,EAAE,QAAQ,EAAgB;IAC/E,qBACE,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;QACT,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE;QAC5B,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE;QAC5B,YAAY;YAAE,UAAU;QAAI;QAC5B,WAAU;;0BAEV,6LAAC;gBAAI,WAAW,CAAC,uDAAuD,EAAE,OAAO,WAAW,CAAC;;;;;;0BAC7F,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAE,WAAU;kCAAiE;;;;;;kCAC9E,6LAAC;wBAAE,WAAW,CAAC,iCAAiC,EAAE,kBAAkB,IAAI;kCAAG;;;;;;oBAC1E,yBAAW,6LAAC;wBAAE,WAAU;kCAA0B;;;;;+BAAgB;;;;;;;;;;;;;AAI3E;MAhBS","debugId":null}},
    {"offset": {"line": 826, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/sim/TimelineChart.tsx"],"sourcesContent":["\"use client\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { SimResult } from \"@/lib/sim/types\";\nimport { format } from \"date-fns\";\nimport { useMemo } from \"react\";\nimport {\n  Area,\n  AreaChart,\n  Brush,\n  CartesianGrid,\n  Legend,\n  Line,\n  ResponsiveContainer,\n  Tooltip,\n  XAxis,\n  YAxis,\n} from \"recharts\";\n\nexport interface TimelineOverlay {\n  id: string;\n  name: string;\n  color: string;\n  result: SimResult;\n}\n\ninterface TimelineChartProps {\n  result?: SimResult;\n  overlays?: TimelineOverlay[];\n  onOpenApplyPlan: (date?: string) => void;\n  onOpenCompare: () => void;\n}\n\nexport function TimelineChart({ result, overlays = [], onOpenApplyPlan, onOpenCompare }: TimelineChartProps) {\n  const chartData = useMemo(() => {\n    const horizon = Math.max(\n      result?.monthly.length ?? 0,\n      ...overlays.map((overlay) => overlay.result.monthly.length),\n    );\n    if (!horizon) return [] as Array<Record<string, number | string | null>>;\n    const rows: Array<Record<string, number | string | null>> = [];\n    for (let index = 0; index < horizon; index++) {\n      const basePoint = result?.monthly[index] ?? result?.monthly.at(-1);\n      const row: Record<string, number | string | null> = {\n        date:\n          basePoint?.date ??\n          overlays[0]?.result.monthly[Math.min(index, overlays[0].result.monthly.length - 1)]?.date ??\n          new Date().toISOString(),\n        balance: basePoint?.balance ?? null,\n        income: basePoint?.income ?? null,\n        expenses: basePoint?.expenses ?? null,\n      };\n      overlays.forEach((overlay) => {\n        const overlayPoint = overlay.result.monthly[Math.min(index, overlay.result.monthly.length - 1)];\n        row[`overlay_${overlay.id}`] = overlayPoint?.balance ?? null;\n      });\n      rows.push(row);\n    }\n    return rows;\n  }, [result, overlays]);\n\n  const lastDate = result?.monthly.at(-1)?.date;\n\n  return (\n    <div className=\"space-y-3\">\n      <div className=\"flex flex-wrap items-center justify-between gap-2\">\n        <h3 className=\"text-sm font-semibold uppercase tracking-wide text-slate-300\">Timeline</h3>\n        <div className=\"flex items-center gap-2\">\n          <Button\n            size=\"sm\"\n            variant=\"secondary\"\n            onClick={() => onOpenCompare()}\n            className=\"rounded-2xl border border-slate-800 bg-slate-900/80 text-slate-200 hover:bg-slate-800\"\n          >\n            Compare\n          </Button>\n          <Button\n            size=\"sm\"\n            variant=\"secondary\"\n            onClick={() => onOpenApplyPlan(lastDate)}\n            className=\"rounded-2xl border border-emerald-500/40 bg-emerald-500/10 text-emerald-200 hover:bg-emerald-500/20\"\n          >\n            Apply as plan\n          </Button>\n        </div>\n      </div>\n      <div className=\"h-72 w-full overflow-hidden rounded-3xl border border-slate-900/60 bg-slate-950/50 p-2\">\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n          <AreaChart\n            data={chartData}\n            onClick={(event) => {\n              const date = event?.activeLabel as string | undefined;\n              if (date) {\n                onOpenApplyPlan(date);\n              }\n            }}\n          >\n            <defs>\n              <linearGradient id=\"balanceGradient\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"1\">\n                <stop offset=\"5%\" stopColor=\"#22d3ee\" stopOpacity={0.8} />\n                <stop offset=\"95%\" stopColor=\"#22d3ee\" stopOpacity={0.05} />\n              </linearGradient>\n            </defs>\n            <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#0f172a\" opacity={0.3} />\n            <XAxis\n              dataKey=\"date\"\n              tickFormatter={(value) => {\n                try {\n                  return format(new Date(String(value)), \"MMM\");\n                } catch (error) {\n                  return String(value);\n                }\n              }}\n              stroke=\"#475569\"\n            />\n            <YAxis\n              stroke=\"#475569\"\n              tickFormatter={(value) => `$${Math.round(Number(value) / 1000)}k`}\n            />\n            <Tooltip\n              contentStyle={{ background: \"#020617\", borderRadius: 16, borderColor: \"#1e293b\" }}\n              labelFormatter={(value) => format(new Date(String(value)), \"MMM yyyy\")}\n              formatter={(value: number | null, key) => {\n                if (value == null || Number.isNaN(value)) {\n                  return [\"—\", key.replace(\"_\", \" \")];\n                }\n                return [`$${Math.round(Number(value)).toLocaleString()}`, key.replace(\"_\", \" \")];\n              }}\n            />\n            <Legend wrapperStyle={{ color: \"#cbd5f5\" }} />\n            <Area type=\"monotone\" dataKey=\"balance\" name=\"Balance\" stroke=\"#22d3ee\" strokeWidth={2} fill=\"url(#balanceGradient)\" />\n            <Line type=\"monotone\" dataKey=\"income\" stroke=\"#38bdf8\" strokeWidth={2} dot={false} name=\"Income\" />\n            <Line type=\"monotone\" dataKey=\"expenses\" stroke=\"#f472b6\" strokeWidth={2} dot={false} name=\"Expenses\" />\n            {overlays.map((overlay) => (\n              <Line\n                key={overlay.id}\n                type=\"monotone\"\n                dataKey={`overlay_${overlay.id}`}\n                stroke={overlay.color}\n                strokeWidth={2}\n                dot={false}\n                name={overlay.name}\n              />\n            ))}\n            <Brush travellerWidth={12} height={24} stroke=\"#22d3ee\" />\n          </AreaChart>\n        </ResponsiveContainer>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1142, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/sim/SensitivityCard.tsx"],"sourcesContent":["\"use client\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { Card } from \"@/components/ui/card\";\nimport { ScenarioParameters } from \"@/lib/sim/types\";\nimport { motion } from \"framer-motion\";\n\nexport interface SensitivityRow {\n  key: keyof ScenarioParameters;\n  label: string;\n  decrease: {\n    delta: number;\n    runway: number;\n    finalBalance: number;\n  };\n  increase: {\n    delta: number;\n    runway: number;\n    finalBalance: number;\n  };\n  baselineValue?: number;\n}\n\ninterface SensitivityCardProps {\n  rows?: SensitivityRow[];\n  onApply: (key: keyof ScenarioParameters, delta: number) => void;\n}\n\nexport function SensitivityCard({ rows = [], onApply }: SensitivityCardProps) {\n  return (\n    <Card className=\"flex h-full flex-col gap-4 rounded-3xl border border-slate-900/60 bg-slate-950/70 p-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h3 className=\"text-sm font-semibold uppercase tracking-wide text-slate-300\">Sensitivity</h3>\n          <p className=\"text-xs text-slate-500\">Impact on runway and final balance for ± adjustments.</p>\n        </div>\n      </div>\n      <div className=\"space-y-4\">\n        {rows.length === 0 ? (\n          <p className=\"text-sm text-slate-400\">Run a simulation to unlock tornado analysis.</p>\n        ) : (\n          rows.map((row) => (\n            <div key={row.key as string} className=\"space-y-2\">\n              <div className=\"flex items-center justify-between text-xs text-slate-400\">\n                <span>{row.label}</span>\n                <span>{row.baselineValue ?? 0}% base</span>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <SensitivityBar value={-row.decrease.finalBalance} direction=\"negative\" />\n                <div className=\"flex w-24 flex-col text-[11px] text-slate-400\">\n                  <span>-{Math.abs(row.decrease.delta)}%</span>\n                  <span>{row.decrease.runway} mo</span>\n                </div>\n                <div className=\"flex w-24 flex-col text-[11px] text-slate-400\">\n                  <span>+{Math.abs(row.increase.delta)}%</span>\n                  <span>{row.increase.runway} mo</span>\n                </div>\n                <SensitivityBar value={row.increase.finalBalance} direction=\"positive\" />\n              </div>\n              <div className=\"flex gap-2\">\n                <Button\n                  size=\"sm\"\n                  variant=\"secondary\"\n                  onClick={() => onApply(row.key, row.decrease.delta)}\n                  className=\"rounded-2xl border border-slate-800 bg-slate-900/80 text-slate-200 hover:bg-slate-800\"\n                >\n                  Apply -{Math.abs(row.decrease.delta)}%\n                </Button>\n                <Button\n                  size=\"sm\"\n                  variant=\"secondary\"\n                  onClick={() => onApply(row.key, row.increase.delta)}\n                  className=\"rounded-2xl border border-slate-800 bg-slate-900/80 text-slate-200 hover:bg-slate-800\"\n                >\n                  Apply +{Math.abs(row.increase.delta)}%\n                </Button>\n              </div>\n            </div>\n          ))\n        )}\n      </div>\n    </Card>\n  );\n}\n\ninterface SensitivityBarProps {\n  value: number;\n  direction: \"positive\" | \"negative\";\n}\n\nfunction SensitivityBar({ value, direction }: SensitivityBarProps) {\n  const width = Math.min(Math.abs(value) / 5000, 1);\n  const background = direction === \"positive\" ? \"bg-emerald-500/40\" : \"bg-rose-500/40\";\n  const alignment = direction === \"positive\" ? \"justify-start\" : \"justify-end\";\n  return (\n    <div className={`flex h-10 w-full max-w-[140px] items-center rounded-2xl border border-slate-800 bg-slate-900/40 ${alignment}`}>\n      <motion.div\n        initial={{ width: 0 }}\n        animate={{ width: `${width * 100}%` }}\n        className={`h-6 rounded-2xl ${background}`}\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AA4BO,SAAS,gBAAgB,EAAE,OAAO,EAAE,EAAE,OAAO,EAAwB;IAC1E,qBACE,6LAAC,mIAAA,CAAA,OAAI;QAAC,WAAU;;0BACd,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;;sCACC,6LAAC;4BAAG,WAAU;sCAA+D;;;;;;sCAC7E,6LAAC;4BAAE,WAAU;sCAAyB;;;;;;;;;;;;;;;;;0BAG1C,6LAAC;gBAAI,WAAU;0BACZ,KAAK,MAAM,KAAK,kBACf,6LAAC;oBAAE,WAAU;8BAAyB;;;;;2BAEtC,KAAK,GAAG,CAAC,CAAC,oBACR,6LAAC;wBAA4B,WAAU;;0CACrC,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;kDAAM,IAAI,KAAK;;;;;;kDAChB,6LAAC;;4CAAM,IAAI,aAAa,IAAI;4CAAE;;;;;;;;;;;;;0CAEhC,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAe,OAAO,CAAC,IAAI,QAAQ,CAAC,YAAY;wCAAE,WAAU;;;;;;kDAC7D,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;;oDAAK;oDAAE,KAAK,GAAG,CAAC,IAAI,QAAQ,CAAC,KAAK;oDAAE;;;;;;;0DACrC,6LAAC;;oDAAM,IAAI,QAAQ,CAAC,MAAM;oDAAC;;;;;;;;;;;;;kDAE7B,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;;oDAAK;oDAAE,KAAK,GAAG,CAAC,IAAI,QAAQ,CAAC,KAAK;oDAAE;;;;;;;0DACrC,6LAAC;;oDAAM,IAAI,QAAQ,CAAC,MAAM;oDAAC;;;;;;;;;;;;;kDAE7B,6LAAC;wCAAe,OAAO,IAAI,QAAQ,CAAC,YAAY;wCAAE,WAAU;;;;;;;;;;;;0CAE9D,6LAAC;gCAAI,WAAU;;kDACb,6LAAC,qIAAA,CAAA,SAAM;wCACL,MAAK;wCACL,SAAQ;wCACR,SAAS,IAAM,QAAQ,IAAI,GAAG,EAAE,IAAI,QAAQ,CAAC,KAAK;wCAClD,WAAU;;4CACX;4CACS,KAAK,GAAG,CAAC,IAAI,QAAQ,CAAC,KAAK;4CAAE;;;;;;;kDAEvC,6LAAC,qIAAA,CAAA,SAAM;wCACL,MAAK;wCACL,SAAQ;wCACR,SAAS,IAAM,QAAQ,IAAI,GAAG,EAAE,IAAI,QAAQ,CAAC,KAAK;wCAClD,WAAU;;4CACX;4CACS,KAAK,GAAG,CAAC,IAAI,QAAQ,CAAC,KAAK;4CAAE;;;;;;;;;;;;;;uBAhCjC,IAAI,GAAG;;;;;;;;;;;;;;;;AAyC7B;KAvDgB;AA8DhB,SAAS,eAAe,EAAE,KAAK,EAAE,SAAS,EAAuB;IAC/D,MAAM,QAAQ,KAAK,GAAG,CAAC,KAAK,GAAG,CAAC,SAAS,MAAM;IAC/C,MAAM,aAAa,cAAc,aAAa,sBAAsB;IACpE,MAAM,YAAY,cAAc,aAAa,kBAAkB;IAC/D,qBACE,6LAAC;QAAI,WAAW,CAAC,gGAAgG,EAAE,WAAW;kBAC5H,cAAA,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;YACT,SAAS;gBAAE,OAAO;YAAE;YACpB,SAAS;gBAAE,OAAO,GAAG,QAAQ,IAAI,CAAC,CAAC;YAAC;YACpC,WAAW,CAAC,gBAAgB,EAAE,YAAY;;;;;;;;;;;AAIlD;MAbS","debugId":null}},
    {"offset": {"line": 1408, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/sim/MonteCarloCard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card } from \"@/components/ui/card\";\nimport { Label } from \"@/components/ui/label\";\nimport { Slider } from \"@/components/ui/slider\";\nimport { MonteCarloResult } from \"@/lib/sim/types\";\nimport { ResponsiveContainer, AreaChart, Area, XAxis, YAxis, Tooltip, CartesianGrid, BarChart, Bar } from \"recharts\";\nimport { format } from \"date-fns\";\n\ninterface MonteCarloCardProps {\n  result?: MonteCarloResult;\n  onRun: (options: { trials: number; volatility: { incomePct: number; expensePct: number } }) => void;\n  onUseMedianPath: () => void;\n}\n\nconst trialOptions = [100, 500, 1000];\n\nexport function MonteCarloCard({ result, onRun, onUseMedianPath }: MonteCarloCardProps) {\n  const [trials, setTrials] = useState(500);\n  const [incomeVol, setIncomeVol] = useState(8);\n  const [expenseVol, setExpenseVol] = useState(6);\n\n  return (\n    <Card className=\"flex h-full flex-col gap-5 rounded-3xl border border-slate-900/60 bg-slate-950/70 p-6\">\n      <div className=\"space-y-1\">\n        <h3 className=\"text-sm font-semibold uppercase tracking-wide text-slate-300\">Monte Carlo</h3>\n        <p className=\"text-xs text-slate-500\">Fan chart of percentiles and distribution of ending balances.</p>\n      </div>\n      <div className=\"flex flex-wrap items-center gap-3 text-xs text-slate-400\">\n        <div className=\"flex items-center gap-2\">\n          Trials:\n          {trialOptions.map((option) => (\n            <Button\n              key={option}\n              size=\"sm\"\n              variant={option === trials ? \"default\" : \"secondary\"}\n              onClick={() => setTrials(option)}\n              className=\"rounded-2xl border border-slate-800 bg-slate-900/80 text-slate-200 hover:bg-slate-800\"\n            >\n              {option}\n            </Button>\n          ))}\n        </div>\n      </div>\n      <div className=\"grid grid-cols-1 gap-4 text-xs text-slate-400\">\n        <div>\n          <Label className=\"text-xs uppercase tracking-wide text-slate-400\">Income volatility</Label>\n          <Slider value={[incomeVol]} min={0} max={20} step={1} onValueChange={([value]) => setIncomeVol(value)} />\n        </div>\n        <div>\n          <Label className=\"text-xs uppercase tracking-wide text-slate-400\">Expense volatility</Label>\n          <Slider value={[expenseVol]} min={0} max={20} step={1} onValueChange={([value]) => setExpenseVol(value)} />\n        </div>\n      </div>\n      <div className=\"flex items-center gap-3\">\n        <Button\n          onClick={() => onRun({ trials, volatility: { incomePct: incomeVol, expensePct: expenseVol } })}\n          className=\"rounded-2xl bg-gradient-to-r from-purple-500/80 to-sky-500/60 text-slate-950 shadow-lg shadow-purple-900/40 hover:shadow-2xl\"\n        >\n          Run Monte Carlo\n        </Button>\n        <Button\n          variant=\"secondary\"\n          onClick={onUseMedianPath}\n          className=\"rounded-2xl border border-emerald-500/40 bg-emerald-500/10 text-emerald-200 hover:bg-emerald-500/20\"\n        >\n          Use median path\n        </Button>\n      </div>\n      {result ? (\n        <div className=\"space-y-6\">\n          <div className=\"h-48 w-full overflow-hidden rounded-2xl border border-slate-900/60 bg-slate-900/40\">\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\n              <AreaChart data={result.percentiles}>\n                <defs>\n                  <linearGradient id=\"mcFan\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"1\">\n                    <stop offset=\"0%\" stopColor=\"#a855f7\" stopOpacity={0.55} />\n                    <stop offset=\"100%\" stopColor=\"#0ea5e9\" stopOpacity={0.1} />\n                  </linearGradient>\n                </defs>\n                <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#0f172a\" opacity={0.3} />\n                <XAxis\n                  dataKey=\"date\"\n                  tickFormatter={(value) => format(new Date(value), \"MMM\")}\n                  stroke=\"#475569\"\n                />\n                <YAxis stroke=\"#475569\" tickFormatter={(value) => `$${Math.round(value / 1000)}k`} />\n                <Tooltip\n                  contentStyle={{ background: \"#020617\", borderRadius: 16, borderColor: \"#1e293b\" }}\n                  labelFormatter={(value) => format(new Date(value), \"MMM yyyy\")}\n                />\n                <Area type=\"monotone\" dataKey=\"p90\" stroke=\"transparent\" fill=\"url(#mcFan)\" name=\"90th\" />\n                <Area type=\"monotone\" dataKey=\"p75\" stroke=\"transparent\" fill=\"url(#mcFan)\" name=\"75th\" />\n                <Area type=\"monotone\" dataKey=\"p50\" stroke=\"#22d3ee\" fill=\"transparent\" name=\"Median\" />\n                <Area type=\"monotone\" dataKey=\"p25\" stroke=\"transparent\" fill=\"url(#mcFan)\" name=\"25th\" />\n                <Area type=\"monotone\" dataKey=\"p10\" stroke=\"transparent\" fill=\"url(#mcFan)\" name=\"10th\" />\n              </AreaChart>\n            </ResponsiveContainer>\n          </div>\n          <div className=\"h-40 w-full overflow-hidden rounded-2xl border border-slate-900/60 bg-slate-900/40\">\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\n              <BarChart data={result.histogram}>\n                <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#0f172a\" opacity={0.3} />\n                <XAxis dataKey=\"bucket\" tickFormatter={(value) => `$${Math.round(value / 1000)}k`} stroke=\"#475569\" />\n                <YAxis stroke=\"#475569\" />\n                <Tooltip\n                  contentStyle={{ background: \"#020617\", borderRadius: 16, borderColor: \"#1e293b\" }}\n                  formatter={(value: number) => [`${value} trials`, \"Count\"]}\n                />\n                <Bar dataKey=\"count\" fill=\"#22d3ee\" radius={[8, 8, 0, 0]} />\n              </BarChart>\n            </ResponsiveContainer>\n          </div>\n          <p className=\"text-xs text-slate-400\">\n            Probability of deficit within horizon: <span className=\"text-sky-300\">{(result.deficitProbability * 100).toFixed(1)}%</span>\n          </p>\n        </div>\n      ) : (\n        <p className=\"text-sm text-slate-400\">Run a Monte Carlo simulation to see percentile projections.</p>\n      )}\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1893, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/sim/ScenarioEditor.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo } from \"react\";\nimport { Scenario, ScenarioParameters, ScenarioAssumptions, ShockEvent, SimResult } from \"@/lib/sim/types\";\nimport { ParametersPanel } from \"./ParametersPanel\";\nimport { KpiBar } from \"./KpiBar\";\nimport { TimelineChart, TimelineOverlay } from \"./TimelineChart\";\nimport { SensitivityCard, SensitivityRow } from \"./SensitivityCard\";\nimport { MonteCarloCard } from \"./MonteCarloCard\";\nimport { Card } from \"@/components/ui/card\";\nimport { cn } from \"@/lib/utils\";\nimport { MonteCarloResult } from \"@/lib/sim/types\";\n\ninterface ScenarioEditorProps {\n  scenario: Scenario | null;\n  params: ScenarioParameters;\n  assumptions: ScenarioAssumptions;\n  shocks: ShockEvent[];\n  result?: SimResult;\n  monteCarlo?: MonteCarloResult;\n  sensitivity?: SensitivityRow[];\n  overlays?: TimelineOverlay[];\n  onParamsChange: (params: ScenarioParameters) => void;\n  onRun: () => void;\n  onOpenAssumptions: () => void;\n  onOpenShocks: () => void;\n  onOpenDebtPlanner: () => void;\n  onOpenCompare: () => void;\n  onOpenApplyPlan: () => void;\n  onRunMonteCarlo: (options: { trials: number; volatility: { incomePct: number; expensePct: number } }) => void;\n  onUseMedianPath: () => void;\n  onApplySensitivity: (key: keyof ScenarioParameters, delta: number) => void;\n  isRunning?: boolean;\n}\n\nexport function ScenarioEditor({\n  scenario,\n  params,\n  assumptions,\n  shocks,\n  result,\n  monteCarlo,\n  sensitivity,\n  overlays,\n  onParamsChange,\n  onRun,\n  onOpenAssumptions,\n  onOpenShocks,\n  onOpenDebtPlanner,\n  onOpenCompare,\n  onOpenApplyPlan,\n  onRunMonteCarlo,\n  onUseMedianPath,\n  onApplySensitivity,\n  isRunning,\n}: ScenarioEditorProps) {\n  const emptyState = useMemo(() => !result, [result]);\n\n  return (\n    <div className=\"grid grid-cols-1 gap-6 xl:grid-cols-[360px,minmax(0,1fr)]\">\n      <ParametersPanel\n        params={params}\n        assumptions={assumptions}\n        shocks={shocks}\n        onChange={onParamsChange}\n        onRun={onRun}\n        onOpenAssumptions={onOpenAssumptions}\n        onOpenShocks={onOpenShocks}\n        onOpenDebtPlanner={onOpenDebtPlanner}\n        isRunning={isRunning}\n      />\n      <div className=\"space-y-6\">\n        <Card className={cn(\"rounded-3xl border border-slate-900/60 bg-slate-950/70 p-6\", emptyState && \"opacity-70\")}\n        >\n          <KpiBar result={result} params={params} />\n          <div className=\"mt-6\">\n            <TimelineChart\n              result={result}\n              overlays={overlays}\n              onOpenApplyPlan={onOpenApplyPlan}\n              onOpenCompare={onOpenCompare}\n            />\n          </div>\n        </Card>\n        <div className=\"grid grid-cols-1 gap-6 2xl:grid-cols-2\">\n          <SensitivityCard rows={sensitivity} onApply={onApplySensitivity} />\n          <MonteCarloCard\n            result={monteCarlo}\n            params={params}\n            onRun={onRunMonteCarlo}\n            onUseMedianPath={onUseMedianPath}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAVA;;;;;;;;;AAmCO,SAAS,eAAe,EAC7B,QAAQ,EACR,MAAM,EACN,WAAW,EACX,MAAM,EACN,MAAM,EACN,UAAU,EACV,WAAW,EACX,QAAQ,EACR,cAAc,EACd,KAAK,EACL,iBAAiB,EACjB,YAAY,EACZ,iBAAiB,EACjB,aAAa,EACb,eAAe,EACf,eAAe,EACf,eAAe,EACf,kBAAkB,EAClB,SAAS,EACW;;IACpB,MAAM,aAAa,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;8CAAE,IAAM,CAAC;6CAAQ;QAAC;KAAO;IAElD,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,+IAAA,CAAA,kBAAe;gBACd,QAAQ;gBACR,aAAa;gBACb,QAAQ;gBACR,UAAU;gBACV,OAAO;gBACP,mBAAmB;gBACnB,cAAc;gBACd,mBAAmB;gBACnB,WAAW;;;;;;0BAEb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,mIAAA,CAAA,OAAI;wBAAC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8DAA8D,cAAc;;0CAE9F,6LAAC,sIAAA,CAAA,SAAM;gCAAC,QAAQ;gCAAQ,QAAQ;;;;;;0CAChC,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC,6IAAA,CAAA,gBAAa;oCACZ,QAAQ;oCACR,UAAU;oCACV,iBAAiB;oCACjB,eAAe;;;;;;;;;;;;;;;;;kCAIrB,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,+IAAA,CAAA,kBAAe;gCAAC,MAAM;gCAAa,SAAS;;;;;;0CAC7C,6LAAC,8IAAA,CAAA,iBAAc;gCACb,QAAQ;gCACR,QAAQ;gCACR,OAAO;gCACP,iBAAiB;;;;;;;;;;;;;;;;;;;;;;;;AAM7B;GA7DgB;KAAA","debugId":null}},
    {"offset": {"line": 2031, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/sim/ScenarioToolbar.tsx"],"sourcesContent":["\"use client\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { cn } from \"@/lib/utils\";\nimport { Loader2, Plus, Rocket, Share2, Sparkles, Upload } from \"lucide-react\";\nimport { ReactNode } from \"react\";\n\ninterface ScenarioToolbarProps {\n  title?: string;\n  description?: string;\n  onNew: () => void;\n  onPreset: () => void;\n  onImport: () => void;\n  onShare: () => void;\n  onSave: () => void;\n  isSaving?: boolean;\n  canSave?: boolean;\n  canShare?: boolean;\n  extraActions?: ReactNode;\n}\n\nexport function ScenarioToolbar({\n  title = \"Scenario simulations\",\n  description = \"Explore what-if cases such as income changes, travel or debt payoff.\",\n  onNew,\n  onPreset,\n  onImport,\n  onShare,\n  onSave,\n  isSaving,\n  canSave,\n  canShare = true,\n  extraActions,\n}: ScenarioToolbarProps) {\n  return (\n    <header className=\"flex flex-col gap-6 rounded-3xl border border-slate-900/60 bg-slate-950/60 px-6 py-6 shadow-lg shadow-slate-950/40 lg:flex-row lg:items-center lg:justify-between\">\n      <div className=\"space-y-2\">\n        <h1 className=\"text-2xl font-semibold text-white lg:text-3xl\">{title}</h1>\n        <p className=\"max-w-2xl text-sm text-slate-300 lg:text-base\">{description}</p>\n      </div>\n      <div className=\"flex flex-wrap items-center justify-end gap-2\">\n        {extraActions}\n        <Button\n          onClick={onNew}\n          className=\"rounded-2xl bg-gradient-to-r from-cyan-500 via-sky-500 to-indigo-500 px-4 text-slate-950 shadow-lg shadow-cyan-900/40 hover:shadow-2xl\"\n        >\n          <Plus className=\"mr-2 h-4 w-4\" /> New scenario\n        </Button>\n        <Button\n          variant=\"secondary\"\n          onClick={onPreset}\n          className=\"rounded-2xl border border-slate-800 bg-slate-900/70 text-slate-100 hover:bg-slate-800\"\n        >\n          <Sparkles className=\"mr-2 h-4 w-4\" /> Preset\n        </Button>\n        <Button\n          variant=\"secondary\"\n          onClick={onImport}\n          className=\"rounded-2xl border border-slate-800 bg-slate-900/70 text-slate-100 hover:bg-slate-800\"\n        >\n          <Upload className=\"mr-2 h-4 w-4\" /> Import from Forecast\n        </Button>\n        <Button\n          variant=\"secondary\"\n          onClick={onSave}\n          disabled={!canSave || isSaving}\n          className={cn(\n            \"rounded-2xl border border-emerald-500/60 bg-emerald-500/10 text-emerald-200 hover:bg-emerald-500/20\",\n            !canSave && \"opacity-50\",\n          )}\n        >\n          {isSaving ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> : <Rocket className=\"mr-2 h-4 w-4\" />} Save scenario\n        </Button>\n        <Button\n          variant=\"secondary\"\n          onClick={onShare}\n          disabled={!canShare}\n          className=\"rounded-2xl border border-slate-800 bg-slate-900/70 text-slate-100 hover:bg-slate-800\"\n        >\n          <Share2 className=\"mr-2 h-4 w-4\" /> Share / Export\n        </Button>\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;;;;;AAqBO,SAAS,gBAAgB,EAC9B,QAAQ,sBAAsB,EAC9B,cAAc,sEAAsE,EACpF,KAAK,EACL,QAAQ,EACR,QAAQ,EACR,OAAO,EACP,MAAM,EACN,QAAQ,EACR,OAAO,EACP,WAAW,IAAI,EACf,YAAY,EACS;IACrB,qBACE,6LAAC;QAAO,WAAU;;0BAChB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAiD;;;;;;kCAC/D,6LAAC;wBAAE,WAAU;kCAAiD;;;;;;;;;;;;0BAEhE,6LAAC;gBAAI,WAAU;;oBACZ;kCACD,6LAAC,qIAAA,CAAA,SAAM;wBACL,SAAS;wBACT,WAAU;;0CAEV,6LAAC,qMAAA,CAAA,OAAI;gCAAC,WAAU;;;;;;4BAAiB;;;;;;;kCAEnC,6LAAC,qIAAA,CAAA,SAAM;wBACL,SAAQ;wBACR,SAAS;wBACT,WAAU;;0CAEV,6LAAC,6MAAA,CAAA,WAAQ;gCAAC,WAAU;;;;;;4BAAiB;;;;;;;kCAEvC,6LAAC,qIAAA,CAAA,SAAM;wBACL,SAAQ;wBACR,SAAS;wBACT,WAAU;;0CAEV,6LAAC,yMAAA,CAAA,SAAM;gCAAC,WAAU;;;;;;4BAAiB;;;;;;;kCAErC,6LAAC,qIAAA,CAAA,SAAM;wBACL,SAAQ;wBACR,SAAS;wBACT,UAAU,CAAC,WAAW;wBACtB,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,uGACA,CAAC,WAAW;;4BAGb,yBAAW,6LAAC,oNAAA,CAAA,UAAO;gCAAC,WAAU;;;;;qDAAiC,6LAAC,yMAAA,CAAA,SAAM;gCAAC,WAAU;;;;;;4BAAkB;;;;;;;kCAEtG,6LAAC,qIAAA,CAAA,SAAM;wBACL,SAAQ;wBACR,SAAS;wBACT,UAAU,CAAC;wBACX,WAAU;;0CAEV,6LAAC,6MAAA,CAAA,SAAM;gCAAC,WAAU;;;;;;4BAAiB;;;;;;;;;;;;;;;;;;;AAK7C;KA/DgB","debugId":null}},
    {"offset": {"line": 2208, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/sim/ScenarioGrid.tsx"],"sourcesContent":["\"use client\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Scenario } from \"@/lib/sim/types\";\nimport { format } from \"date-fns\";\nimport { ArrowRightLeft, Copy, Trash2 } from \"lucide-react\";\nimport { ResponsiveContainer, AreaChart, Area } from \"recharts\";\n\ninterface ScenarioGridProps {\n  scenarios: Scenario[];\n  activeScenarioId?: string;\n  compareSelection: string[];\n  onOpen: (scenario: Scenario) => void;\n  onDuplicate: (scenario: Scenario) => void;\n  onDelete: (scenario: Scenario) => void;\n  onToggleCompare: (scenario: Scenario) => void;\n}\n\nexport function ScenarioGrid({\n  scenarios,\n  activeScenarioId,\n  compareSelection,\n  onOpen,\n  onDuplicate,\n  onDelete,\n  onToggleCompare,\n}: ScenarioGridProps) {\n  if (!scenarios.length) {\n    return (\n      <div className=\"flex h-full min-h-[220px] flex-col items-center justify-center rounded-3xl border border-dashed border-slate-800 bg-slate-950/40 text-center\">\n        <p className=\"text-sm text-slate-300\">No saved scenarios yet. Run a simulation and save it to build your Beno playbook.</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"grid grid-cols-1 gap-3 xl:grid-cols-2\">\n      {scenarios.map((scenario) => {\n        const isActive = scenario.id === activeScenarioId;\n        const isCompared = compareSelection.includes(scenario.id);\n        const finalBalance = scenario.results?.monthly.at(-1)?.balance;\n        const runway = scenario.results?.runwayMonths;\n        return (\n          <Card\n            key={scenario.id}\n            className=\"group relative overflow-hidden rounded-3xl border border-slate-900/50 bg-slate-950/70 backdrop-blur\"\n          >\n            <CardHeader className=\"space-y-2\">\n              <div className=\"flex items-center justify-between gap-2\">\n                <CardTitle className=\"text-base font-semibold text-white\">\n                  {scenario.name}\n                  {scenario.preset ? (\n                    <span className=\"ml-2 rounded-full bg-cyan-500/15 px-2 py-0.5 text-xs font-medium uppercase tracking-wide text-cyan-200\">\n                      {scenario.preset.replace(\"-\", \" \")}\n                    </span>\n                  ) : null}\n                </CardTitle>\n                <span className=\"text-xs text-slate-400\">\n                  {scenario.updatedAt ? format(new Date(scenario.updatedAt), \"MMM d, yyyy\") : \"\"}\n                </span>\n              </div>\n              <div className=\"grid grid-cols-2 gap-3 text-xs text-slate-300\">\n                <div>\n                  <p className=\"text-slate-400\">Runway</p>\n                  <p className=\"text-base font-semibold text-emerald-300\">{runway ? `${runway} mo` : \"–\"}</p>\n                </div>\n                <div>\n                  <p className=\"text-slate-400\">Final balance</p>\n                  <p className=\"text-base font-semibold text-sky-300\">\n                    {typeof finalBalance === \"number\" ? finalBalance.toLocaleString(\"en-US\", { maximumFractionDigits: 0, minimumFractionDigits: 0 }) : \"–\"}\n                  </p>\n                </div>\n              </div>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"h-20 overflow-hidden rounded-2xl border border-slate-900/60 bg-slate-900/40\">\n                <ResponsiveContainer width=\"100%\" height=\"100%\">\n                  <AreaChart data={scenario.results?.monthly ?? []}>\n                    <defs>\n                      <linearGradient id={`spark-${scenario.id}`} x1=\"0\" x2=\"0\" y1=\"0\" y2=\"1\">\n                        <stop offset=\"5%\" stopColor=\"#22d3ee\" stopOpacity={0.8} />\n                        <stop offset=\"95%\" stopColor=\"#22d3ee\" stopOpacity={0.1} />\n                      </linearGradient>\n                    </defs>\n                    <Area\n                      type=\"monotone\"\n                      dataKey=\"balance\"\n                      stroke=\"#22d3ee\"\n                      fill={`url(#spark-${scenario.id})`}\n                      strokeWidth={2}\n                      isAnimationActive={false}\n                    />\n                  </AreaChart>\n                </ResponsiveContainer>\n              </div>\n              <div className=\"flex flex-wrap items-center gap-2\">\n                <Button\n                  size=\"sm\"\n                  onClick={() => onOpen(scenario)}\n                  className=\"rounded-2xl bg-slate-800/80 text-slate-100 hover:bg-slate-700\"\n                >\n                  Open\n                </Button>\n                <Button\n                  size=\"sm\"\n                  variant=\"secondary\"\n                  onClick={() => onDuplicate(scenario)}\n                  className=\"rounded-2xl border border-slate-800 bg-slate-900/80 text-slate-100 hover:bg-slate-800\"\n                >\n                  <Copy className=\"mr-1 h-3.5 w-3.5\" /> Duplicate\n                </Button>\n                <Button\n                  size=\"sm\"\n                  variant=\"destructive\"\n                  onClick={() => onDelete(scenario)}\n                  className=\"rounded-2xl border border-red-500/30 bg-red-500/10 text-red-200 hover:bg-red-500/20\"\n                >\n                  <Trash2 className=\"mr-1 h-3.5 w-3.5\" /> Delete\n                </Button>\n                <Button\n                  size=\"sm\"\n                  variant={isCompared ? \"default\" : \"secondary\"}\n                  onClick={() => onToggleCompare(scenario)}\n                  className=\"ml-auto rounded-2xl border border-slate-800 bg-slate-900/80 text-slate-100 hover:bg-slate-800\"\n                >\n                  <ArrowRightLeft className=\"mr-1 h-3.5 w-3.5\" /> {isCompared ? \"Compared\" : \"Compare\"}\n                </Button>\n              </div>\n              {isActive ? (\n                <p className=\"text-xs text-cyan-200\">Currently editing</p>\n              ) : null}\n            </CardContent>\n          </Card>\n        );\n      })}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2555, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/sheet.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AAEA;AAPA;;;;;;;AASA,MAAM,QAAQ,qKAAA,CAAA,OAAmB;AAEjC,MAAM,eAAe,qKAAA,CAAA,UAAsB;AAE3C,MAAM,aAAa,qKAAA,CAAA,QAAoB;AAEvC,MAAM,cAAc,qKAAA,CAAA,SAAqB;AAEzC,MAAM,6BAAe,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,UAAsB;QACrB,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,2JACA;QAED,GAAG,KAAK;QACT,KAAK;;;;;;KAVH;AAaN,aAAa,WAAW,GAAG,qKAAA,CAAA,UAAsB,CAAC,WAAW;AAE7D,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,oMACA;IACE,UAAU;QACR,MAAM;YACJ,KAAK;YACL,QACE;YACF,MAAM;YACN,OACE;QACJ;IACF;IACA,iBAAiB;QACf,MAAM;IACR;AACF;AAOF,MAAM,6BAAe,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGlC,CAAC,EAAE,OAAO,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpD,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,qKAAA,CAAA,UAAsB;gBACrB,KAAK;gBACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;oBAAE;gBAAK,IAAI;gBACtC,GAAG,KAAK;;oBAER;kCACD,6LAAC,qKAAA,CAAA,QAAoB;wBAAC,WAAU;;0CAC9B,6LAAC,+LAAA,CAAA,IAAC;gCAAC,WAAU;;;;;;0CACb,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,aAAa,WAAW,GAAG,qKAAA,CAAA,UAAsB,CAAC,WAAW;AAE7D,MAAM,cAAc,CAAC,EACnB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,oDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,YAAY,WAAW,GAAG;AAE1B,MAAM,cAAc,CAAC,EACnB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,QAAoB;QACnB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,yCAAyC;QACtD,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG,qKAAA,CAAA,QAAoB,CAAC,WAAW;AAEzD,MAAM,iCAAmB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,cAA0B;QACzB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,iBAAiB,WAAW,GAAG,qKAAA,CAAA,cAA0B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 2723, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/sim/AssumptionsDrawer.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetFooter,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\";\nimport { Button } from \"@/components/ui/button\";\nimport { Slider } from \"@/components/ui/slider\";\nimport { Label } from \"@/components/ui/label\";\nimport { ScenarioAssumptions } from \"@/lib/sim/types\";\nimport { Switch } from \"@/components/ui/switch\";\n\ninterface AssumptionsDrawerProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  assumptions: ScenarioAssumptions;\n  onSave: (assumptions: ScenarioAssumptions, rerun: boolean) => void;\n}\n\nexport function AssumptionsDrawer({ open, onOpenChange, assumptions, onSave }: AssumptionsDrawerProps) {\n  const [local, setLocal] = useState<ScenarioAssumptions>(assumptions);\n  const [rerun, setRerun] = useState(true);\n\n  useEffect(() => {\n    if (open) {\n      setLocal(assumptions);\n      setRerun(true);\n    }\n  }, [open, assumptions]);\n\n  const setField = <K extends keyof ScenarioAssumptions>(key: K, value: number) => {\n    setLocal((prev) => ({ ...prev, [key]: value }));\n  };\n\n  const save = () => {\n    onSave(local, rerun);\n    onOpenChange(false);\n  };\n\n  return (\n    <Sheet open={open} onOpenChange={onOpenChange}>\n      <SheetContent side=\"right\" className=\"flex w-full max-w-md flex-col gap-6 bg-slate-950/95 text-slate-100\">\n        <SheetHeader>\n          <SheetTitle>Assumptions</SheetTitle>\n          <SheetDescription>Fine tune inflation, market returns, and savings behavior.</SheetDescription>\n        </SheetHeader>\n        <div className=\"space-y-6\">\n          <AssumptionSlider\n            label=\"Inflation\"\n            value={local.inflationPct ?? 3}\n            onChange={(value) => setField(\"inflationPct\", value)}\n            unit=\"%\"\n            max={12}\n          />\n          <AssumptionSlider\n            label=\"Investment returns\"\n            value={local.returnPct ?? 4}\n            onChange={(value) => setField(\"returnPct\", value)}\n            unit=\"%\"\n            max={15}\n          />\n          <AssumptionSlider\n            label=\"Interest rates\"\n            value={local.interestRatesPct ?? 6}\n            onChange={(value) => setField(\"interestRatesPct\", value)}\n            unit=\"%\"\n            max={15}\n          />\n          <AssumptionSlider\n            label=\"Savings rate\"\n            value={local.savingsRatePct ?? 12}\n            onChange={(value) => setField(\"savingsRatePct\", value)}\n            unit=\"%\"\n            max={50}\n          />\n        </div>\n        <div className=\"flex items-center justify-between rounded-2xl border border-slate-900/60 bg-slate-900/40 px-4 py-3 text-xs text-slate-400\">\n          <span>Save &amp; re-run</span>\n          <Switch checked={rerun} onCheckedChange={setRerun} />\n        </div>\n        <SheetFooter className=\"flex flex-col gap-3\">\n          <Button onClick={save} className=\"rounded-2xl bg-gradient-to-r from-cyan-500 via-sky-500 to-indigo-500 text-slate-950 shadow-lg shadow-cyan-900/40 hover:shadow-2xl\">\n            Save assumptions\n          </Button>\n          <Button variant=\"ghost\" onClick={() => onOpenChange(false)} className=\"rounded-2xl text-slate-300\">\n            Cancel\n          </Button>\n        </SheetFooter>\n      </SheetContent>\n    </Sheet>\n  );\n}\n\ninterface AssumptionSliderProps {\n  label: string;\n  value: number;\n  onChange: (value: number) => void;\n  unit: string;\n  max: number;\n}\n\nfunction AssumptionSlider({ label, value, onChange, unit, max }: AssumptionSliderProps) {\n  return (\n    <div className=\"space-y-2\">\n      <Label className=\"text-xs uppercase tracking-wide text-slate-400\">{label}</Label>\n      <Slider value={[value]} min={0} max={max} step={0.5} onValueChange={([val]) => onChange(val)} />\n      <p className=\"text-xs text-slate-400\">{value.toFixed(1)}{unit} assumed</p>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAQA;AACA;AACA;AAEA;;;AAfA;;;;;;;AAwBO,SAAS,kBAAkB,EAAE,IAAI,EAAE,YAAY,EAAE,WAAW,EAAE,MAAM,EAA0B;;IACnG,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAuB;IACxD,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;uCAAE;YACR,IAAI,MAAM;gBACR,SAAS;gBACT,SAAS;YACX;QACF;sCAAG;QAAC;QAAM;KAAY;IAEtB,MAAM,WAAW,CAAsC,KAAQ;QAC7D,SAAS,CAAC,OAAS,CAAC;gBAAE,GAAG,IAAI;gBAAE,CAAC,IAAI,EAAE;YAAM,CAAC;IAC/C;IAEA,MAAM,OAAO;QACX,OAAO,OAAO;QACd,aAAa;IACf;IAEA,qBACE,6LAAC,oIAAA,CAAA,QAAK;QAAC,MAAM;QAAM,cAAc;kBAC/B,cAAA,6LAAC,oIAAA,CAAA,eAAY;YAAC,MAAK;YAAQ,WAAU;;8BACnC,6LAAC,oIAAA,CAAA,cAAW;;sCACV,6LAAC,oIAAA,CAAA,aAAU;sCAAC;;;;;;sCACZ,6LAAC,oIAAA,CAAA,mBAAgB;sCAAC;;;;;;;;;;;;8BAEpB,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BACC,OAAM;4BACN,OAAO,MAAM,YAAY,IAAI;4BAC7B,UAAU,CAAC,QAAU,SAAS,gBAAgB;4BAC9C,MAAK;4BACL,KAAK;;;;;;sCAEP,6LAAC;4BACC,OAAM;4BACN,OAAO,MAAM,SAAS,IAAI;4BAC1B,UAAU,CAAC,QAAU,SAAS,aAAa;4BAC3C,MAAK;4BACL,KAAK;;;;;;sCAEP,6LAAC;4BACC,OAAM;4BACN,OAAO,MAAM,gBAAgB,IAAI;4BACjC,UAAU,CAAC,QAAU,SAAS,oBAAoB;4BAClD,MAAK;4BACL,KAAK;;;;;;sCAEP,6LAAC;4BACC,OAAM;4BACN,OAAO,MAAM,cAAc,IAAI;4BAC/B,UAAU,CAAC,QAAU,SAAS,kBAAkB;4BAChD,MAAK;4BACL,KAAK;;;;;;;;;;;;8BAGT,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;sCAAK;;;;;;sCACN,6LAAC,qIAAA,CAAA,SAAM;4BAAC,SAAS;4BAAO,iBAAiB;;;;;;;;;;;;8BAE3C,6LAAC,oIAAA,CAAA,cAAW;oBAAC,WAAU;;sCACrB,6LAAC,qIAAA,CAAA,SAAM;4BAAC,SAAS;4BAAM,WAAU;sCAAoI;;;;;;sCAGrK,6LAAC,qIAAA,CAAA,SAAM;4BAAC,SAAQ;4BAAQ,SAAS,IAAM,aAAa;4BAAQ,WAAU;sCAA6B;;;;;;;;;;;;;;;;;;;;;;;AAO7G;GAxEgB;KAAA;AAkFhB,SAAS,iBAAiB,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,GAAG,EAAyB;IACpF,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,oIAAA,CAAA,QAAK;gBAAC,WAAU;0BAAkD;;;;;;0BACnE,6LAAC,qIAAA,CAAA,SAAM;gBAAC,OAAO;oBAAC;iBAAM;gBAAE,KAAK;gBAAG,KAAK;gBAAK,MAAM;gBAAK,eAAe,CAAC,CAAC,IAAI,GAAK,SAAS;;;;;;0BACxF,6LAAC;gBAAE,WAAU;;oBAA0B,MAAM,OAAO,CAAC;oBAAI;oBAAK;;;;;;;;;;;;;AAGpE;MARS","debugId":null}},
    {"offset": {"line": 2972, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/select.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3187, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/sim/ShockEventsEditor.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { ShockEvent, ShockEventType } from \"@/lib/sim/types\";\n\ninterface ShockEventsEditorProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  events: ShockEvent[];\n  onSave: (events: ShockEvent[]) => void;\n}\n\nconst eventTypes: { label: string; value: ShockEventType }[] = [\n  { label: \"Unexpected expense\", value: \"unexpected-expense\" },\n  { label: \"Job loss\", value: \"job-loss\" },\n  { label: \"Bonus\", value: \"bonus\" },\n];\n\nexport function ShockEventsEditor({ open, onOpenChange, events, onSave }: ShockEventsEditorProps) {\n  const [local, setLocal] = useState<ShockEvent[]>([]);\n\n  useEffect(() => {\n    if (open) {\n      setLocal(events.length ? events : []);\n    }\n  }, [open, events]);\n\n  const updateEvent = (index: number, patch: Partial<ShockEvent>) => {\n    setLocal((prev) => prev.map((event, idx) => (idx === index ? { ...event, ...patch } : event)));\n  };\n\n  const removeEvent = (index: number) => {\n    setLocal((prev) => prev.filter((_, idx) => idx !== index));\n  };\n\n  const addEvent = () => {\n    setLocal((prev) => [...prev, { monthOffset: 0, type: \"unexpected-expense\", amount: 0 }]);\n  };\n\n  const handleSave = () => {\n    onSave(local);\n    onOpenChange(false);\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-3xl rounded-3xl border border-slate-900/80 bg-slate-950/95 text-slate-100\">\n        <DialogHeader>\n          <DialogTitle>Shock events</DialogTitle>\n          <DialogDescription>Model windfalls or setbacks that hit specific months.</DialogDescription>\n        </DialogHeader>\n        <div className=\"space-y-3\">\n          {local.length === 0 ? (\n            <p className=\"text-sm text-slate-400\">No events yet. Add an unexpected expense, job loss, or bonus.</p>\n          ) : (\n            <div className=\"space-y-2\">\n              {local.map((event, index) => (\n                <div\n                  key={index}\n                  className=\"grid grid-cols-[1fr,1fr,1fr,auto] items-center gap-3 rounded-2xl border border-slate-900/70 bg-slate-900/40 px-4 py-3\"\n                >\n                  <div className=\"space-y-1 text-xs text-slate-400\">\n                    <span>Month offset</span>\n                    <Input\n                      type=\"number\"\n                      value={event.monthOffset}\n                      min={0}\n                      onChange={(e) => updateEvent(index, { monthOffset: Number(e.target.value) })}\n                      className=\"rounded-2xl border-slate-800 bg-slate-950/60 text-slate-100\"\n                    />\n                  </div>\n                  <div className=\"space-y-1 text-xs text-slate-400\">\n                    <span>Type</span>\n                    <Select\n                      value={event.type}\n                      onValueChange={(value: ShockEventType) => updateEvent(index, { type: value })}\n                    >\n                      <SelectTrigger className=\"rounded-2xl border-slate-800 bg-slate-950/60 text-slate-100\">\n                        <SelectValue placeholder=\"Select\" />\n                      </SelectTrigger>\n                      <SelectContent className=\"rounded-2xl border border-slate-800 bg-slate-950/90 text-slate-100\">\n                        {eventTypes.map((option) => (\n                          <SelectItem key={option.value} value={option.value}>\n                            {option.label}\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                  </div>\n                  <div className=\"space-y-1 text-xs text-slate-400\">\n                    <span>Amount</span>\n                    <Input\n                      type=\"number\"\n                      value={event.amount}\n                      onChange={(e) => updateEvent(index, { amount: Number(e.target.value) })}\n                      className=\"rounded-2xl border-slate-800 bg-slate-950/60 text-slate-100\"\n                    />\n                  </div>\n                  <Button\n                    variant=\"ghost\"\n                    onClick={() => removeEvent(index)}\n                    className=\"rounded-2xl text-slate-300 hover:text-red-300\"\n                  >\n                    Remove\n                  </Button>\n                </div>\n              ))}\n            </div>\n          )}\n          <Button onClick={addEvent} variant=\"secondary\" className=\"rounded-2xl border border-slate-800 bg-slate-900/80 text-slate-200 hover:bg-slate-800\">\n            Add event\n          </Button>\n        </div>\n        <DialogFooter className=\"flex flex-col gap-3\">\n          <Button onClick={handleSave} className=\"rounded-2xl bg-gradient-to-r from-cyan-500 via-sky-500 to-indigo-500 text-slate-950 shadow-lg shadow-cyan-900/40 hover:shadow-2xl\">\n            Save events\n          </Button>\n          <Button variant=\"ghost\" onClick={() => onOpenChange(false)} className=\"rounded-2xl text-slate-300\">\n            Cancel\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3501, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/checkbox.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,yBAAW,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG9B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,uKAAA,CAAA,OAAsB;QACrB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kTACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,uKAAA,CAAA,YAA2B;YAC1B,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE;sBAEd,cAAA,6LAAC,uMAAA,CAAA,QAAK;gBAAC,WAAU;;;;;;;;;;;;;;;;;AAIvB,SAAS,WAAW,GAAG,uKAAA,CAAA,OAAsB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 3553, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/scroll-area.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGhC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,6KAAA,CAAA,OAAwB;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,4BAA4B;QACzC,GAAG,KAAK;;0BAET,6LAAC,6KAAA,CAAA,WAA4B;gBAAC,WAAU;0BACrC;;;;;;0BAEH,6LAAC;;;;;0BACD,6LAAC,6KAAA,CAAA,SAA0B;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,6KAAA,CAAA,OAAwB,CAAC,WAAW;AAE7D,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,cAAc,UAAU,EAAE,GAAG,OAAO,EAAE,oBACpD,6LAAC,6KAAA,CAAA,sBAAuC;QACtC,KAAK;QACL,aAAa;QACb,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iDACA,gBAAgB,cACd,sDACF,gBAAgB,gBACd,wDACF;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,6KAAA,CAAA,kBAAmC;YAAC,WAAU;;;;;;;;;;;MAjB7C;AAoBN,UAAU,WAAW,GAAG,6KAAA,CAAA,sBAAuC,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 3630, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/sim/CompareDrawer.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo } from \"react\";\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n  SheetFooter,\n} from \"@/components/ui/sheet\";\nimport { Button } from \"@/components/ui/button\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { Scenario } from \"@/lib/sim/types\";\nimport { format } from \"date-fns\";\n\ninterface CompareDrawerProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  scenarios: Scenario[];\n  selected: string[];\n  onSelectionChange: (selection: string[]) => void;\n  baselineId?: string;\n  onSetBaseline: (scenario: Scenario) => void;\n}\n\nexport function CompareDrawer({\n  open,\n  onOpenChange,\n  scenarios,\n  selected,\n  onSelectionChange,\n  baselineId,\n  onSetBaseline,\n}: CompareDrawerProps) {\n  const toggleSelection = (id: string) => {\n    if (selected.includes(id)) {\n      onSelectionChange(selected.filter((existing) => existing !== id));\n    } else if (selected.length < 3) {\n      onSelectionChange([...selected, id]);\n    }\n  };\n\n  const selectedScenarios = useMemo(\n    () => scenarios.filter((scenario) => selected.includes(scenario.id)),\n    [selected, scenarios],\n  );\n\n  return (\n    <Sheet open={open} onOpenChange={onOpenChange}>\n      <SheetContent side=\"right\" className=\"flex w-full max-w-xl flex-col gap-6 bg-slate-950/95 text-slate-100\">\n        <SheetHeader>\n          <SheetTitle>Compare scenarios</SheetTitle>\n          <SheetDescription>Select up to three scenarios to overlay onto the timeline.</SheetDescription>\n        </SheetHeader>\n        <ScrollArea className=\"h-[60vh] pr-4\">\n          <div className=\"space-y-4\">\n            {scenarios.map((scenario) => {\n              const isSelected = selected.includes(scenario.id);\n              const result = scenario.results;\n              return (\n                <label\n                  key={scenario.id}\n                  className=\"flex cursor-pointer items-center gap-3 rounded-2xl border border-slate-900/70 bg-slate-900/40 p-4 transition hover:border-cyan-500/40\"\n                >\n                  <Checkbox\n                    checked={isSelected}\n                    onCheckedChange={() => toggleSelection(scenario.id)}\n                  />\n                  <div className=\"flex-1 space-y-1\">\n                    <div className=\"flex items-center justify-between gap-3\">\n                      <span className=\"text-sm font-semibold text-white\">{scenario.name}</span>\n                      <span className=\"text-[11px] text-slate-400\">\n                        {scenario.updatedAt ? format(new Date(scenario.updatedAt), \"MMM d\") : \"\"}\n                      </span>\n                    </div>\n                    <div className=\"grid grid-cols-2 gap-3 text-[11px] text-slate-400\">\n                      <div>\n                        <p className=\"text-slate-500\">Runway</p>\n                        <p className=\"text-emerald-300\">{result?.runwayMonths ?? \"–\"} mo</p>\n                      </div>\n                      <div>\n                        <p className=\"text-slate-500\">Final balance</p>\n                        <p className=\"text-sky-300\">\n                          {result?.monthly.at(-1)?.balance?.toLocaleString(\"en-US\", {\n                            maximumFractionDigits: 0,\n                          }) ?? \"–\"}\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                </label>\n              );\n            })}\n          </div>\n        </ScrollArea>\n        <SheetFooter className=\"flex flex-col gap-4\">\n          {selectedScenarios.length ? (\n            <div className=\"rounded-2xl border border-slate-900/70 bg-slate-900/40 p-4 text-xs text-slate-400\">\n              <p className=\"mb-2 text-sm font-semibold text-white\">Selected overlays</p>\n              <ul className=\"space-y-1\">\n                {selectedScenarios.map((scenario) => (\n                  <li key={scenario.id} className=\"flex items-center justify-between\">\n                    <span>{scenario.name}</span>\n                    <Button\n                      size=\"sm\"\n                      variant=\"secondary\"\n                      onClick={() => onSetBaseline(scenario)}\n                      className=\"rounded-xl border border-slate-800 bg-slate-900/70 text-slate-200 hover:bg-slate-800\"\n                    >\n                      {baselineId === scenario.id ? \"Baseline\" : \"Set as baseline\"}\n                    </Button>\n                  </li>\n                ))}\n              </ul>\n            </div>\n          ) : null}\n          <Button onClick={() => onOpenChange(false)} className=\"rounded-2xl bg-slate-800 text-slate-100 hover:bg-slate-700\">\n            Close\n          </Button>\n        </SheetFooter>\n      </SheetContent>\n    </Sheet>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3923, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/sim/ApplyPlanDrawer.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetFooter,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\";\nimport { Button } from \"@/components/ui/button\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { PlanChangeSummary, ScenarioParameters, SimResult } from \"@/lib/sim/types\";\n\ninterface ApplyPlanDrawerProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  result?: SimResult;\n  params: ScenarioParameters;\n  summary: PlanChangeSummary;\n  onApply: (summary: PlanChangeSummary) => Promise<void> | void;\n  isApplying?: boolean;\n}\n\nexport function ApplyPlanDrawer({\n  open,\n  onOpenChange,\n  result,\n  params,\n  summary,\n  onApply,\n  isApplying,\n}: ApplyPlanDrawerProps) {\n  const [enabledBudgets, setEnabledBudgets] = useState(true);\n  const [enabledAutomation, setEnabledAutomation] = useState(true);\n  const [enabledDebt, setEnabledDebt] = useState(true);\n\n  useEffect(() => {\n    if (open) {\n      setEnabledBudgets(true);\n      setEnabledAutomation(true);\n      setEnabledDebt(Boolean(summary.debtSchedule.length));\n    }\n  }, [open, summary.debtSchedule.length]);\n\n  const apply = async () => {\n    const filtered: PlanChangeSummary = {\n      budgets: enabledBudgets ? summary.budgets : [],\n      automationRules: enabledAutomation ? summary.automationRules : [],\n      debtSchedule: enabledDebt ? summary.debtSchedule : [],\n    };\n    await onApply(filtered);\n    onOpenChange(false);\n  };\n\n  return (\n    <Sheet open={open} onOpenChange={onOpenChange}>\n      <SheetContent side=\"right\" className=\"flex w-full max-w-xl flex-col gap-6 bg-slate-950/95 text-slate-100\">\n        <SheetHeader>\n          <SheetTitle>Apply as plan</SheetTitle>\n          <SheetDescription>Review proposed budget and automation changes before committing.</SheetDescription>\n        </SheetHeader>\n        <div className=\"flex-1 space-y-6 overflow-y-auto pr-2\">\n          <PlanSection\n            title=\"Budgets\"\n            description=\"Adjust upcoming month allocations based on this scenario.\"\n            enabled={enabledBudgets}\n            onToggle={setEnabledBudgets}\n          >\n            <ul className=\"space-y-2 text-sm text-slate-300\">\n              {summary.budgets.map((budget) => (\n                <li key={budget.category} className=\"flex items-center justify-between rounded-xl border border-slate-900/60 bg-slate-900/40 px-3 py-2\">\n                  <span>{budget.category}</span>\n                  <span className={budget.delta >= 0 ? \"text-emerald-300\" : \"text-rose-300\"}>\n                    {budget.delta >= 0 ? \"+\" : \"\"}\n                    ${Math.round(budget.delta).toLocaleString()}\n                  </span>\n                </li>\n              ))}\n            </ul>\n          </PlanSection>\n          <PlanSection\n            title=\"Automation rules\"\n            description=\"Nudges and transfers Beno will keep in sync.\"\n            enabled={enabledAutomation}\n            onToggle={setEnabledAutomation}\n          >\n            <ul className=\"space-y-2 text-sm text-slate-300\">\n              {summary.automationRules.map((rule) => (\n                <li key={rule.id} className=\"flex items-center justify-between rounded-xl border border-slate-900/60 bg-slate-900/40 px-3 py-2\">\n                  <span>{rule.description}</span>\n                  <span className=\"text-slate-400\">{rule.enabled ? \"Active\" : \"Paused\"}</span>\n                </li>\n              ))}\n            </ul>\n          </PlanSection>\n          <PlanSection\n            title=\"Debt payoff\"\n            description=\"Schedule extra payments from this scenario.\"\n            enabled={enabledDebt}\n            onToggle={setEnabledDebt}\n          >\n            <ul className=\"space-y-2 text-sm text-slate-300\">\n              {summary.debtSchedule.map((item) => (\n                <li key={item.month} className=\"flex items-center justify-between rounded-xl border border-slate-900/60 bg-slate-900/40 px-3 py-2\">\n                  <span>{item.month}</span>\n                  <span className=\"text-emerald-300\">${Math.round(item.amount).toLocaleString()}</span>\n                </li>\n              ))}\n            </ul>\n          </PlanSection>\n          <div className=\"rounded-2xl border border-slate-900/60 bg-slate-900/40 p-4 text-xs text-slate-400\">\n            <p className=\"font-semibold text-white\">Outcome snapshot</p>\n            <p>Runway: {result?.runwayMonths ?? \"—\"} months</p>\n            <p>Final balance: ${result?.monthly.at(-1)?.balance?.toLocaleString() ?? \"—\"}</p>\n            <p>Risk score: {result?.riskScore ?? \"—\"}</p>\n          </div>\n        </div>\n        <SheetFooter className=\"flex flex-col gap-3\">\n          <Button\n            onClick={apply}\n            disabled={isApplying}\n            className=\"rounded-2xl bg-gradient-to-r from-emerald-500 via-cyan-500 to-sky-500 text-slate-950 shadow-lg shadow-emerald-900/40 hover:shadow-2xl\"\n          >\n            {isApplying ? \"Applying...\" : \"Apply changes\"}\n          </Button>\n          <Button variant=\"ghost\" onClick={() => onOpenChange(false)} className=\"rounded-2xl text-slate-300\">\n            Cancel\n          </Button>\n        </SheetFooter>\n      </SheetContent>\n    </Sheet>\n  );\n}\n\ninterface PlanSectionProps {\n  title: string;\n  description: string;\n  enabled: boolean;\n  onToggle: (value: boolean) => void;\n  children: React.ReactNode;\n}\n\nfunction PlanSection({ title, description, enabled, onToggle, children }: PlanSectionProps) {\n  return (\n    <section className=\"space-y-3\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h3 className=\"text-sm font-semibold text-white\">{title}</h3>\n          <p className=\"text-xs text-slate-500\">{description}</p>\n        </div>\n        <Switch checked={enabled} onCheckedChange={onToggle} />\n      </div>\n      {enabled ? children : <p className=\"text-xs text-slate-500\">Disabled for this apply.</p>}\n    </section>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4296, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/sim/PresetPickerDialog.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { ScenarioPreset, ScenarioParameters } from \"@/lib/sim/types\";\n\nexport interface SimulationPreset {\n  id: string;\n  name: string;\n  preset: ScenarioPreset;\n  description?: string;\n  params: ScenarioParameters;\n}\n\ninterface PresetPickerDialogProps {\n  open: boolean;\n  presets: SimulationPreset[];\n  onOpenChange: (open: boolean) => void;\n  onSelect: (preset: SimulationPreset) => void;\n}\n\nexport function PresetPickerDialog({ open, presets, onOpenChange, onSelect }: PresetPickerDialogProps) {\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-2xl rounded-3xl border border-slate-900/80 bg-slate-950/95 text-slate-100\">\n        <DialogHeader>\n          <DialogTitle>Scenario presets</DialogTitle>\n          <DialogDescription>Choose a curated template to jump start parameters.</DialogDescription>\n        </DialogHeader>\n        <div className=\"grid gap-3 md:grid-cols-2\">\n          {presets.map((preset) => (\n            <button\n              key={preset.id}\n              className=\"flex flex-col gap-2 rounded-2xl border border-slate-900/70 bg-slate-900/40 p-4 text-left transition hover:border-cyan-500/50\"\n              onClick={() => {\n                onSelect(preset);\n                onOpenChange(false);\n              }}\n            >\n              <span className=\"text-sm font-semibold text-white\">{preset.name}</span>\n              <span className=\"text-[11px] uppercase tracking-wide text-cyan-200\">{preset.preset.replace(\"-\", \" \")}</span>\n              <span className=\"text-xs text-slate-400\">\n                {preset.description ?? \"Quick configuration of key income and expense levers.\"}\n              </span>\n              <div className=\"text-xs text-slate-400\">\n                Horizon {preset.params.horizonMonths} months · Income {preset.params.incomeDeltaPct ?? 0}% · Rent {preset.params.rentDeltaPct ?? 0}%\n              </div>\n            </button>\n          ))}\n        </div>\n        <Button variant=\"ghost\" onClick={() => onOpenChange(false)} className=\"rounded-2xl text-slate-300\">\n          Cancel\n        </Button>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AAOA;AATA;;;;AA2BO,SAAS,mBAAmB,EAAE,IAAI,EAAE,OAAO,EAAE,YAAY,EAAE,QAAQ,EAA2B;IACnG,qBACE,6LAAC,qIAAA,CAAA,SAAM;QAAC,MAAM;QAAM,cAAc;kBAChC,cAAA,6LAAC,qIAAA,CAAA,gBAAa;YAAC,WAAU;;8BACvB,6LAAC,qIAAA,CAAA,eAAY;;sCACX,6LAAC,qIAAA,CAAA,cAAW;sCAAC;;;;;;sCACb,6LAAC,qIAAA,CAAA,oBAAiB;sCAAC;;;;;;;;;;;;8BAErB,6LAAC;oBAAI,WAAU;8BACZ,QAAQ,GAAG,CAAC,CAAC,uBACZ,6LAAC;4BAEC,WAAU;4BACV,SAAS;gCACP,SAAS;gCACT,aAAa;4BACf;;8CAEA,6LAAC;oCAAK,WAAU;8CAAoC,OAAO,IAAI;;;;;;8CAC/D,6LAAC;oCAAK,WAAU;8CAAqD,OAAO,MAAM,CAAC,OAAO,CAAC,KAAK;;;;;;8CAChG,6LAAC;oCAAK,WAAU;8CACb,OAAO,WAAW,IAAI;;;;;;8CAEzB,6LAAC;oCAAI,WAAU;;wCAAyB;wCAC7B,OAAO,MAAM,CAAC,aAAa;wCAAC;wCAAkB,OAAO,MAAM,CAAC,cAAc,IAAI;wCAAE;wCAAU,OAAO,MAAM,CAAC,YAAY,IAAI;wCAAE;;;;;;;;2BAbhI,OAAO,EAAE;;;;;;;;;;8BAkBpB,6LAAC,qIAAA,CAAA,SAAM;oBAAC,SAAQ;oBAAQ,SAAS,IAAM,aAAa;oBAAQ,WAAU;8BAA6B;;;;;;;;;;;;;;;;;AAM3G;KAnCgB","debugId":null}},
    {"offset": {"line": 4429, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/sim/DebtPayoffPlanner.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Slider } from \"@/components/ui/slider\";\nimport { Label } from \"@/components/ui/label\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\n\ninterface DebtAccount {\n  id: string;\n  name: string;\n  balance: number;\n  apr: number;\n  minPayment: number;\n}\n\nconst sampleDebts: DebtAccount[] = [\n  { id: \"card-1\", name: \"SkyBlue Rewards\", balance: 5400, apr: 19.9, minPayment: 110 },\n  { id: \"auto-1\", name: \"Riviera Auto\", balance: 9800, apr: 4.2, minPayment: 220 },\n  { id: \"loan-1\", name: \"Student Loan B\", balance: 14200, apr: 5.8, minPayment: 190 },\n];\n\ninterface DebtPayoffPlannerProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  onApplyToParameters: (amount: number) => void;\n  onCreatePlan: (schedule: Array<{ id: string; amount: number }>) => void;\n}\n\nexport function DebtPayoffPlanner({ open, onOpenChange, onApplyToParameters, onCreatePlan }: DebtPayoffPlannerProps) {\n  const [selected, setSelected] = useState<string[]>(sampleDebts.map((debt) => debt.id));\n  const [strategy, setStrategy] = useState<\"avalanche\" | \"snowball\">(\"avalanche\");\n  const [extraPayment, setExtraPayment] = useState(300);\n\n  useEffect(() => {\n    if (open) {\n      setSelected(sampleDebts.map((debt) => debt.id));\n      setStrategy(\"avalanche\");\n      setExtraPayment(300);\n    }\n  }, [open]);\n\n  const summary = useMemo(() => {\n    const debts = sampleDebts.filter((debt) => selected.includes(debt.id));\n    const interestSaved = Math.round(extraPayment * debts.length * 0.4);\n    const months = Math.max(6, Math.round((debts.reduce((sum, debt) => sum + debt.balance, 0) / (extraPayment + 1)) / 4));\n    return { debts, interestSaved, months };\n  }, [selected, extraPayment]);\n\n  const createPlan = () => {\n    const schedule = summary.debts.map((debt) => ({\n      id: debt.id,\n      amount: Math.round(extraPayment / Math.max(summary.debts.length, 1)),\n    }));\n    onCreatePlan(schedule);\n    onApplyToParameters(extraPayment);\n    onOpenChange(false);\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-2xl rounded-3xl border border-slate-900/80 bg-slate-950/95 text-slate-100\">\n        <DialogHeader>\n          <DialogTitle>Debt payoff planner</DialogTitle>\n          <DialogDescription>Choose focus accounts and route extra cash using avalanche or snowball tactics.</DialogDescription>\n        </DialogHeader>\n        <div className=\"grid gap-6 md:grid-cols-[1.3fr,1fr]\">\n          <div className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Label className=\"text-xs uppercase tracking-wide text-slate-400\">Debts</Label>\n              {sampleDebts.map((debt) => (\n                <label\n                  key={debt.id}\n                  className=\"flex items-center justify-between rounded-2xl border border-slate-900/70 bg-slate-900/40 px-4 py-3\"\n                >\n                  <div>\n                    <div className=\"flex items-center gap-2\">\n                      <Checkbox\n                        checked={selected.includes(debt.id)}\n                        onCheckedChange={(checked) => {\n                          setSelected((prev) =>\n                            checked ? [...prev, debt.id] : prev.filter((existing) => existing !== debt.id),\n                          );\n                        }}\n                      />\n                      <span className=\"text-sm font-semibold text-white\">{debt.name}</span>\n                    </div>\n                    <p className=\"text-xs text-slate-400\">\n                      ${debt.balance.toLocaleString()} · APR {debt.apr}% · Min ${debt.minPayment}\n                    </p>\n                  </div>\n                </label>\n              ))}\n            </div>\n            <div className=\"flex gap-2 text-xs text-slate-400\">\n              <Button\n                variant={strategy === \"avalanche\" ? \"default\" : \"secondary\"}\n                onClick={() => setStrategy(\"avalanche\")}\n                className=\"flex-1 rounded-2xl border border-slate-800 bg-slate-900/80 text-slate-200 hover:bg-slate-800\"\n              >\n                Avalanche (highest APR first)\n              </Button>\n              <Button\n                variant={strategy === \"snowball\" ? \"default\" : \"secondary\"}\n                onClick={() => setStrategy(\"snowball\")}\n                className=\"flex-1 rounded-2xl border border-slate-800 bg-slate-900/80 text-slate-200 hover:bg-slate-800\"\n              >\n                Snowball (smallest balance)\n              </Button>\n            </div>\n            <div className=\"space-y-2\">\n              <Label className=\"text-xs uppercase tracking-wide text-slate-400\">Extra payment per month</Label>\n              <Slider value={[extraPayment]} min={0} max={1200} step={50} onValueChange={([value]) => setExtraPayment(value)} />\n              <p className=\"text-xs text-slate-400\">${extraPayment} per month routed to {strategy} stack.</p>\n            </div>\n          </div>\n          <div className=\"space-y-4 rounded-2xl border border-slate-900/70 bg-slate-900/40 p-4\">\n            <p className=\"text-sm font-semibold text-white\">Projection</p>\n            <p className=\"text-xs text-slate-400\">Debts selected: {summary.debts.length}</p>\n            <p className=\"text-xs text-slate-400\">Estimated payoff: {summary.months} months</p>\n            <p className=\"text-xs text-slate-400\">Interest saved: ${summary.interestSaved.toLocaleString()}</p>\n            <p className=\"text-xs text-slate-500\">\n              Beno will schedule transfers aligned with your extra payment and surface automation rules in Apply Plan.\n            </p>\n          </div>\n        </div>\n        <DialogFooter className=\"flex flex-col gap-3\">\n          <Button onClick={createPlan} className=\"rounded-2xl bg-gradient-to-r from-emerald-500 via-cyan-500 to-sky-500 text-slate-950 shadow-lg shadow-emerald-900/40 hover:shadow-2xl\">\n            Create plan\n          </Button>\n          <Button\n            variant=\"secondary\"\n            onClick={() => {\n              onApplyToParameters(extraPayment);\n              onOpenChange(false);\n            }}\n            className=\"rounded-2xl border border-slate-800 bg-slate-900/80 text-slate-200 hover:bg-slate-800\"\n          >\n            Apply to parameters only\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4830, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/sim/ExportShareDialog.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Scenario, SimResult } from \"@/lib/sim/types\";\nimport { FileDown, FileSpreadsheet, Image, Share2 } from \"lucide-react\";\n\ninterface ExportShareDialogProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  scenario?: Scenario | null;\n  result?: SimResult;\n  onExport: (format: \"pdf\" | \"csv\" | \"png\") => void;\n  onShare: () => void;\n}\n\nexport function ExportShareDialog({ open, onOpenChange, scenario, result, onExport, onShare }: ExportShareDialogProps) {\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-md rounded-3xl border border-slate-900/80 bg-slate-950/95 text-slate-100\">\n        <DialogHeader>\n          <DialogTitle>Share scenario</DialogTitle>\n          <DialogDescription>\n            Export KPI snapshots and timelines or send a quick summary via WhatsApp without leaving Beno.\n          </DialogDescription>\n        </DialogHeader>\n        <div className=\"space-y-4\">\n          <div className=\"rounded-2xl border border-slate-900/60 bg-slate-900/40 p-4 text-sm text-slate-300\">\n            <p className=\"font-semibold text-white\">{scenario?.name ?? \"Untitled scenario\"}</p>\n            <p>Runway {result?.runwayMonths ?? \"—\"} months · Risk {result?.riskScore ?? \"—\"}</p>\n          </div>\n          <div className=\"grid grid-cols-1 gap-3\">\n            <Button\n              onClick={() => onExport(\"pdf\")}\n              className=\"flex items-center justify-start gap-2 rounded-2xl border border-slate-800 bg-slate-900/80 text-slate-100 hover:bg-slate-800\"\n            >\n              <FileDown className=\"h-4 w-4\" /> Export PDF snapshot\n            </Button>\n            <Button\n              onClick={() => onExport(\"csv\")}\n              className=\"flex items-center justify-start gap-2 rounded-2xl border border-slate-800 bg-slate-900/80 text-slate-100 hover:bg-slate-800\"\n            >\n              <FileSpreadsheet className=\"h-4 w-4\" /> Export monthly CSV\n            </Button>\n            <Button\n              onClick={() => onExport(\"png\")}\n              className=\"flex items-center justify-start gap-2 rounded-2xl border border-slate-800 bg-slate-900/80 text-slate-100 hover:bg-slate-800\"\n            >\n              <Image className=\"h-4 w-4\" /> Export timeline PNG\n            </Button>\n          </div>\n          <Button\n            variant=\"secondary\"\n            onClick={onShare}\n            className=\"flex items-center justify-center gap-2 rounded-2xl border border-emerald-500/40 bg-emerald-500/10 text-emerald-200 hover:bg-emerald-500/20\"\n          >\n            <Share2 className=\"h-4 w-4\" /> Share via WhatsApp\n          </Button>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AAOA;AAEA;AAAA;AAAA;AAAA;AAXA;;;;;AAsBO,SAAS,kBAAkB,EAAE,IAAI,EAAE,YAAY,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,OAAO,EAA0B;IACnH,qBACE,6LAAC,qIAAA,CAAA,SAAM;QAAC,MAAM;QAAM,cAAc;kBAChC,cAAA,6LAAC,qIAAA,CAAA,gBAAa;YAAC,WAAU;;8BACvB,6LAAC,qIAAA,CAAA,eAAY;;sCACX,6LAAC,qIAAA,CAAA,cAAW;sCAAC;;;;;;sCACb,6LAAC,qIAAA,CAAA,oBAAiB;sCAAC;;;;;;;;;;;;8BAIrB,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAE,WAAU;8CAA4B,UAAU,QAAQ;;;;;;8CAC3D,6LAAC;;wCAAE;wCAAQ,QAAQ,gBAAgB;wCAAI;wCAAgB,QAAQ,aAAa;;;;;;;;;;;;;sCAE9E,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,qIAAA,CAAA,SAAM;oCACL,SAAS,IAAM,SAAS;oCACxB,WAAU;;sDAEV,6LAAC,iNAAA,CAAA,WAAQ;4CAAC,WAAU;;;;;;wCAAY;;;;;;;8CAElC,6LAAC,qIAAA,CAAA,SAAM;oCACL,SAAS,IAAM,SAAS;oCACxB,WAAU;;sDAEV,6LAAC,+NAAA,CAAA,kBAAe;4CAAC,WAAU;;;;;;wCAAY;;;;;;;8CAEzC,6LAAC,qIAAA,CAAA,SAAM;oCACL,SAAS,IAAM,SAAS;oCACxB,WAAU;;sDAEV,6LAAC,uMAAA,CAAA,QAAK;4CAAC,WAAU;;;;;;wCAAY;;;;;;;;;;;;;sCAGjC,6LAAC,qIAAA,CAAA,SAAM;4BACL,SAAQ;4BACR,SAAS;4BACT,WAAU;;8CAEV,6LAAC,6MAAA,CAAA,SAAM;oCAAC,WAAU;;;;;;gCAAY;;;;;;;;;;;;;;;;;;;;;;;;AAM1C;KA9CgB","debugId":null}},
    {"offset": {"line": 5018, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/sim/useSimulations.ts"],"sourcesContent":["\n\"use client\";\n\nimport { useCallback } from \"react\";\nimport { collection, doc, addDoc, updateDoc, deleteDoc } from \"firebase/firestore\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { useFirestore, useCollection, useUser } from \"@/firebase\";\nimport {\n  MonteCarloRequest,\n  MonteCarloResult,\n  PlanChangeSummary,\n  RunSimulationInput,\n  Scenario,\n  ScenarioParameters,\n  SimResult,\n} from \"./types\";\n\nconst COLLECTION_PATH = \"simulations\";\n\nexport function useSimulations() {\n  const firestore = useFirestore();\n  const queryClient = useQueryClient();\n  const { user } = useUser();\n\n  const { data: scenarios = [], isLoading } = useCollection<Scenario>(COLLECTION_PATH, {\n    query: ['ownerId', '==', user?.uid],\n    skip: !user?.uid,\n  });\n\n  const createScenario = useMutation({\n    mutationFn: async (input: { name: string; preset?: Scenario[\"preset\"]; params: ScenarioParameters }) => {\n      if (!firestore || !user?.uid) throw new Error(\"Firestore not ready\");\n      const col = collection(firestore, COLLECTION_PATH);\n      const now = Date.now();\n      const docRef = await addDoc(col, {\n        ownerId: user.uid,\n        name: input.name,\n        preset: input.preset ?? \"custom\",\n        params: input.params,\n        assumptions: {},\n        shocks: [],\n        createdAt: now,\n        updatedAt: now,\n      });\n      return docRef.id;\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"simulations\", \"scenarios\"] });\n    },\n  });\n\n  const updateScenario = useMutation({\n    mutationFn: async (input: { id: string; data: Partial<Omit<Scenario, \"id\">> }) => {\n      if (!firestore) throw new Error(\"Firestore not ready\");\n      const docRef = doc(firestore, COLLECTION_PATH, input.id);\n      await updateDoc(docRef, { ...input.data, updatedAt: Date.now() });\n      return input.id;\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"simulations\", \"scenarios\"] });\n    },\n  });\n\n  const deleteScenario = useMutation({\n    mutationFn: async (id: string) => {\n      if (!firestore) throw new Error(\"Firestore not ready\");\n      const docRef = doc(firestore, COLLECTION_PATH, id);\n      await deleteDoc(docRef);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"simulations\", \"scenarios\"] });\n    },\n  });\n\n  const run = useCallback(async (input: RunSimulationInput): Promise<SimResult> => {\n    const response = await fetch(\"/api/simulations/run\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(input),\n    });\n    if (!response.ok) throw new Error(\"Failed to run simulation\");\n    const data = (await response.json()) as { result: SimResult };\n    return data.result;\n  }, []);\n\n  const runMonteCarlo = useCallback(async (input: MonteCarloRequest): Promise<MonteCarloResult> => {\n    const response = await fetch(\"/api/simulations/montecarlo\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(input),\n    });\n    if (!response.ok) throw new Error(\"Failed to run Monte Carlo\");\n    const data = (await response.json()) as { result: MonteCarloResult };\n    return data.result;\n  }, []);\n\n  const applyPlan = useCallback(async (changes: PlanChangeSummary) => {\n    const response = await fetch(\"/api/simulations/apply\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(changes),\n    });\n    if (!response.ok) throw new Error(\"Failed to apply plan\");\n  }, []);\n\n  return {\n    scenarios: scenarios ?? [],\n    isLoading,\n    createScenario: createScenario.mutateAsync,\n    updateScenario: updateScenario.mutateAsync,\n    deleteScenario: deleteScenario.mutateAsync,\n    run,\n    runMonteCarlo,\n    applyPlan,\n  };\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5193, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/simulations/scenarios/page.tsx"],"sourcesContent":["'use client';\n\nimport { useMemo, useState } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { ScenarioEditor } from '@/components/sim/ScenarioEditor';\nimport { ScenarioToolbar } from '@/components/sim/ScenarioToolbar';\nimport { ScenarioGrid } from '@/components/sim/ScenarioGrid';\nimport { AssumptionsDrawer } from '@/components/sim/AssumptionsDrawer';\nimport { ShockEventsEditor } from '@/components/sim/ShockEventsEditor';\nimport { CompareDrawer } from '@/components/sim/CompareDrawer';\nimport { ApplyPlanDrawer } from '@/components/sim/ApplyPlanDrawer';\nimport { PresetPickerDialog } from '@/components/sim/PresetPickerDialog';\nimport { DebtPayoffPlanner } from '@/components/sim/DebtPayoffPlanner';\nimport { ExportShareDialog } from '@/components/sim/ExportShareDialog';\nimport { useSimulations } from '@/lib/sim/useSimulations';\nimport type { Scenario, ScenarioParameters, ScenarioAssumptions, ShockEvent, SimResult, PlanChangeSummary } from '@/lib/sim/types';\n\nconst defaultParams: ScenarioParameters = { horizonMonths: 24 };\nconst defaultAssumptions: ScenarioAssumptions = { inflationPct: 2.5, returnPct: 4, savingsRatePct: 15 };\n\nconst presets = [\n  {\n    id: 'income-up',\n    name: 'Income Increase',\n    preset: 'income-change',\n    params: { horizonMonths: 18, incomeDeltaPct: 10 },\n  },\n  {\n    id: 'sabbatical',\n    name: 'Sabbatical',\n    preset: 'travel',\n    params: { horizonMonths: 12, travelBudget: 5000, incomeDeltaPct: -100 },\n  },\n];\n\nexport default function ScenariosPage() {\n  const { scenarios, createScenario, updateScenario, deleteScenario, run, runMonteCarlo, applyPlan } = useSimulations();\n  const [active, setActive] = useState<Scenario | null>(null);\n  const [params, setParams] = useState<ScenarioParameters>(defaultParams);\n  const [assumptions, setAssumptions] = useState<ScenarioAssumptions>(defaultAssumptions);\n  const [shocks, setShocks] = useState<ShockEvent[]>([]);\n  const [result, setResult] = useState<SimResult | undefined>();\n  const [monteCarlo, setMonteCarlo] = useState<any>();\n  const [sensitivity, setSensitivity] = useState<any>();\n  const [compareIds, setCompareIds] = useState<string[]>([]);\n  const [openDrawer, setOpenDrawer] = useState<string | null>(null);\n\n  const overlays = useMemo(() => {\n    return scenarios\n      .filter((s) => compareIds.includes(s.id))\n      .map((s, i) => ({\n        id: s.id,\n        name: s.name,\n        color: ['#a855f7', '#ec4899', '#f97316'][i % 3],\n        result: s.results!,\n      }));\n  }, [scenarios, compareIds]);\n\n  const handleRun = async () => {\n    const res = await run({ params, assumptions, shocks });\n    setResult(res);\n  };\n\n  const handleSave = async () => {\n    if (active) {\n      await updateScenario({\n        id: active.id,\n        data: { params, assumptions, shocks, results: result },\n      });\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <ScenarioToolbar\n        onNew={() => {\n          setActive(null);\n          setParams(defaultParams);\n          setAssumptions(defaultAssumptions);\n          setShocks([]);\n          setResult(undefined);\n        }}\n        onPreset={() => setOpenDrawer('presets')}\n        onImport={() => {}}\n        onShare={() => setOpenDrawer('share')}\n        onSave={handleSave}\n        canSave={!!active && !!result}\n      />\n      <ScenarioEditor\n        scenario={active}\n        params={params}\n        assumptions={assumptions}\n        shocks={shocks}\n        result={result}\n        overlays={overlays}\n        onParamsChange={setParams}\n        onRun={handleRun}\n        onOpenAssumptions={() => setOpenDrawer('assumptions')}\n        onOpenShocks={() => setOpenDrawer('shocks')}\n        onOpenDebtPlanner={() => setOpenDrawer('debt')}\n        onOpenCompare={() => setOpenDrawer('compare')}\n        onOpenApplyPlan={() => setOpenDrawer('apply')}\n        onRunMonteCarlo={(opts) => runMonteCarlo({ params, assumptions, shocks, ...opts }).then(setMonteCarlo)}\n        onUseMedianPath={() => {}}\n        onApplySensitivity={() => {}}\n        sensitivity={sensitivity}\n        monteCarlo={monteCarlo}\n      />\n      <ScenarioGrid\n        scenarios={scenarios}\n        activeScenarioId={active?.id}\n        compareSelection={compareIds}\n        onOpen={(s) => {\n          setActive(s);\n          setParams(s.params);\n          setAssumptions(s.assumptions);\n          setShocks(s.shocks ?? []);\n          setResult(s.results);\n        }}\n        onDuplicate={async (s) => {\n          const newId = await createScenario({ name: `${s.name} (copy)`, params: s.params });\n          const newScenario = scenarios.find(sc => sc.id === newId);\n          if (newScenario) {\n            setActive(newScenario);\n            setParams(newScenario.params);\n          }\n        }}\n        onDelete={(s) => deleteScenario(s.id)}\n        onToggleCompare={(s) =>\n          setCompareIds((prev) => (prev.includes(s.id) ? prev.filter((id) => id !== s.id) : [...prev, s.id]))\n        }\n      />\n\n      <AssumptionsDrawer\n        open={openDrawer === 'assumptions'}\n        onOpenChange={() => setOpenDrawer(null)}\n        assumptions={assumptions}\n        onSave={(newAssumptions) => {\n          setAssumptions(newAssumptions);\n          handleRun();\n        }}\n      />\n      <ShockEventsEditor\n        open={openDrawer === 'shocks'}\n        onOpenChange={() => setOpenDrawer(null)}\n        events={shocks}\n        onSave={(newShocks) => {\n          setShocks(newShocks);\n          handleRun();\n        }}\n      />\n      <CompareDrawer\n        open={openDrawer === 'compare'}\n        onOpenChange={() => setOpenDrawer(null)}\n        scenarios={scenarios.filter((s) => s.results)}\n        selected={compareIds}\n        onSelectionChange={setCompareIds}\n        onSetBaseline={() => {}}\n      />\n      <ApplyPlanDrawer\n        open={openDrawer === 'apply'}\n        onOpenChange={() => setOpenDrawer(null)}\n        result={result}\n        params={params}\n        summary={\n          {\n            budgets: [{ category: 'Travel', delta: 500 }],\n            automationRules: [],\n            debtSchedule: [],\n          } as PlanChangeSummary\n        }\n        onApply={applyPlan}\n      />\n      <PresetPickerDialog\n        open={openDrawer === 'presets'}\n        presets={presets as any}\n        onOpenChange={() => setOpenDrawer(null)}\n        onSelect={(p) => {\n          setParams(p.params);\n          setAssumptions(defaultAssumptions);\n          setShocks([]);\n          setActive(null);\n          setResult(undefined);\n        }}\n      />\n      <DebtPayoffPlanner\n        open={openDrawer === 'debt'}\n        onOpenChange={() => setOpenDrawer(null)}\n        onApplyToParameters={(amount) => setParams((p) => ({ ...p, debtPayExtra: amount }))}\n        onCreatePlan={() => {}}\n      />\n      <ExportShareDialog\n        open={openDrawer === 'share'}\n        onOpenChange={() => setOpenDrawer(null)}\n        scenario={active}\n        result={result}\n        onExport={() => {}}\n        onShare={() => {}}\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}